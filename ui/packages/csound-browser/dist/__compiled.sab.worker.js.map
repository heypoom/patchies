{
"version":3,
"file":"/Users/poom/Projects/patchies/ui/packages/csound-browser/dist/__compiled.sab.worker.js",
"lineCount":87,
"mappings":"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",
"sources":["./node_modules/google-closure-library/closure/goog/base.js","/dist/src/filesystem/wasi.js","/dist/src/utils/comlink.js","/dist/src/utils/message-port-state.js","/dist/src/modules/instantiation.js","/dist/src/utils/text-encoders.js","/dist/src/utils/trim-null.js","/dist/src/utils/string-pointers.js","/dist/src/modules/performance.js","/dist/src/structures.js","/dist/src/utils/native-sizes.js","/dist/src/utils/structure-buffer-to-object.js","/dist/src/modules/rtmidi.js","/dist/src/modules/attributes.js","/dist/src/modules/rtaudio.js","/dist/src/utils.js","/dist/src/modules/control-events.js","/dist/src/modules/general-io.js","/dist/src/modules/extra.js","/dist/src/modules/score-handling.js","/dist/src/modules/table.js","/dist/src/filesystem/worker-fs.js","/dist/src/libcsound.js","/dist/src/filesystem/constants.js","./node_modules/google-closure-library/closure/goog/string/path.js","./node_modules/google-closure-library/closure/goog/string/internal.js","/dist/src/module.js","/dist/src/utils/clear-array.js","/dist/src/logger.js","/dist/src/zlib/huffman.js","/dist/src/zlib/rawinflate.js","/dist/src/zlib/inflate.js","/dist/src/zlib/zlib.js","/dist/src/zlib/adler32.js","/dist/src/zlib/util.js","/dist/src/dlinit.js","/dist/src/workers/common.utils.js","/dist/src/constants.js","/dist/src/workers/sab.worker.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Bootstrap for the Google JS Library (Closure).\n *\n * In uncompiled mode base.js will attempt to load Closure's deps file, unless\n * the global <code>CLOSURE_NO_DEPS</code> is set to true.  This allows projects\n * to include their own deps file(s) from different locations.\n *\n * Avoid including base.js more than once. This is strictly discouraged and not\n * supported. goog.require(...) won't work properly in that case.\n *\n * @provideGoog\n */\n\n\n/**\n * @define {boolean} Overridden to true by the compiler.\n */\nvar COMPILED = false;\n\n\n/**\n * Base namespace for the Closure library.  Checks to see goog is already\n * defined in the current scope before assigning to prevent clobbering if\n * base.js is loaded more than once.\n *\n * @const\n */\nvar goog = goog || {};\n\n/**\n * Reference to the global object.\n * https://www.ecma-international.org/ecma-262/9.0/index.html#sec-global-object\n *\n * More info on this implementation here:\n * https://docs.google.com/document/d/1NAeW4Wk7I7FV0Y2tcUFvQdGMc89k2vdgSXInw8_nvCI/edit\n *\n * @const\n * @suppress {undefinedVars} self won't be referenced unless `this` is falsy.\n * @type {!Global}\n */\ngoog.global =\n    // Check `this` first for backwards compatibility.\n    // Valid unless running as an ES module or in a function wrapper called\n    //   without setting `this` properly.\n    // Note that base.js can't usefully be imported as an ES module, but it may\n    // be compiled into bundles that are loadable as ES modules.\n    this ||\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/self\n    // For in-page browser environments and workers.\n    self;\n\n\n/**\n * A hook for overriding the define values in uncompiled mode.\n *\n * In uncompiled mode, `CLOSURE_UNCOMPILED_DEFINES` may be defined before\n * loading base.js.  If a key is defined in `CLOSURE_UNCOMPILED_DEFINES`,\n * `goog.define` will use the value instead of the default value.  This\n * allows flags to be overwritten without compilation (this is normally\n * accomplished with the compiler's \"define\" flag).\n *\n * Example:\n * <pre>\n *   var CLOSURE_UNCOMPILED_DEFINES = {'goog.DEBUG': false};\n * </pre>\n *\n * @type {Object<string, (string|number|boolean)>|undefined}\n */\ngoog.global.CLOSURE_UNCOMPILED_DEFINES;\n\n\n/**\n * A hook for overriding the define values in uncompiled or compiled mode,\n * like CLOSURE_UNCOMPILED_DEFINES but effective in compiled code.  In\n * uncompiled code CLOSURE_UNCOMPILED_DEFINES takes precedence.\n *\n * Also unlike CLOSURE_UNCOMPILED_DEFINES the values must be number, boolean or\n * string literals or the compiler will emit an error.\n *\n * While any @define value may be set, only those set with goog.define will be\n * effective for uncompiled code.\n *\n * Example:\n * <pre>\n *   var CLOSURE_DEFINES = {'goog.DEBUG': false} ;\n * </pre>\n *\n * Currently the Closure Compiler will only recognize very simple definitions of\n * this value when looking for values to apply to compiled code and ignore all\n * other references.  Specifically, it looks the value defined at the variable\n * declaration, as with the example above.\n *\n * TODO(user): Improve the recognized definitions.\n *\n * @type {!Object<string, (string|number|boolean)>|null|undefined}\n */\ngoog.global.CLOSURE_DEFINES;\n\n\n/**\n * Builds an object structure for the provided namespace path, ensuring that\n * names that already exist are not overwritten. For example:\n * \"a.b.c\" -> a = {};a.b={};a.b.c={};\n * Used by goog.provide and goog.exportSymbol.\n * @param {string} name The name of the object that this file defines.\n * @param {*=} object The object to expose at the end of the path.\n * @param {boolean=} overwriteImplicit If object is set and a previous call\n *     implicitly constructed the namespace given by name, this parameter\n *     controls whether object should overwrite the implicitly constructed\n *     namespace or be merged into it. Defaults to false.\n * @param {?Object=} objectToExportTo The object to add the path to; if this\n *     field is not specified, its value defaults to `goog.global`.\n * @private\n */\ngoog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {\n  var parts = name.split('.');\n  var cur = objectToExportTo || goog.global;\n\n  // Internet Explorer exhibits strange behavior when throwing errors from\n  // methods externed in this manner.  See the testExportSymbolExceptions in\n  // base_test.html for an example.\n  if (!(parts[0] in cur) && typeof cur.execScript != 'undefined') {\n    cur.execScript('var ' + parts[0]);\n  }\n\n  for (var part; parts.length && (part = parts.shift());) {\n    if (!parts.length && object !== undefined) {\n      if (!overwriteImplicit && goog.isObject(object) &&\n          goog.isObject(cur[part])) {\n        // Merge properties on object (the input parameter) with the existing\n        // implicitly defined namespace, so as to not clobber previously\n        // defined child namespaces.\n        for (var prop in object) {\n          if (object.hasOwnProperty(prop)) {\n            cur[part][prop] = object[prop];\n          }\n        }\n      } else {\n        // Either there is no existing implicit namespace, or overwriteImplicit\n        // is set to true, so directly assign object (the input parameter) to\n        // the namespace.\n        cur[part] = object;\n      }\n    } else if (cur[part] && cur[part] !== Object.prototype[part]) {\n      cur = cur[part];\n    } else {\n      cur = cur[part] = {};\n    }\n  }\n};\n\n\n/**\n * Defines a named value. In uncompiled mode, the value is retrieved from\n * CLOSURE_DEFINES or CLOSURE_UNCOMPILED_DEFINES if the object is defined and\n * has the property specified, and otherwise used the defined defaultValue.\n * When compiled the default can be overridden using the compiler options or the\n * value set in the CLOSURE_DEFINES object. Returns the defined value so that it\n * can be used safely in modules. Note that the value type MUST be either\n * boolean, number, or string.\n *\n * @param {string} name The distinguished name to provide.\n * @param {T} defaultValue\n * @return {T} The defined value.\n * @template T\n */\ngoog.define = function(name, defaultValue) {\n  var value = defaultValue;\n  if (!COMPILED) {\n    var uncompiledDefines = goog.global.CLOSURE_UNCOMPILED_DEFINES;\n    var defines = goog.global.CLOSURE_DEFINES;\n    if (uncompiledDefines &&\n        // Anti DOM-clobbering runtime check (b/37736576).\n        /** @type {?} */ (uncompiledDefines).nodeType === undefined &&\n        Object.prototype.hasOwnProperty.call(uncompiledDefines, name)) {\n      value = uncompiledDefines[name];\n    } else if (\n        defines &&\n        // Anti DOM-clobbering runtime check (b/37736576).\n        /** @type {?} */ (defines).nodeType === undefined &&\n        Object.prototype.hasOwnProperty.call(defines, name)) {\n      value = defines[name];\n    }\n  }\n  return value;\n};\n\n\n/**\n * @define {number} Integer year indicating the set of browser features that are\n * guaranteed to be present.  This is defined to include exactly features that\n * work correctly on all \"modern\" browsers that are stable on January 1 of the\n * specified year.  For example,\n * ```js\n * if (goog.FEATURESET_YEAR >= 2019) {\n *   // use APIs known to be available on all major stable browsers Jan 1, 2019\n * } else {\n *   // polyfill for older browsers\n * }\n * ```\n * This is intended to be the primary define for removing\n * unnecessary browser compatibility code (such as ponyfills and workarounds),\n * and should inform the default value for most other defines:\n * ```js\n * const ASSUME_NATIVE_PROMISE =\n *     goog.define('ASSUME_NATIVE_PROMISE', goog.FEATURESET_YEAR >= 2016);\n * ```\n *\n * The default assumption is that IE9 is the lowest supported browser, which was\n * first available Jan 1, 2012.\n *\n * TODO(user): Reference more thorough documentation when it's available.\n */\ngoog.FEATURESET_YEAR = goog.define('goog.FEATURESET_YEAR', 2012);\n\n\n/**\n * @define {boolean} DEBUG is provided as a convenience so that debugging code\n * that should not be included in a production. It can be easily stripped\n * by specifying --define goog.DEBUG=false to the Closure Compiler aka\n * JSCompiler. For example, most toString() methods should be declared inside an\n * \"if (goog.DEBUG)\" conditional because they are generally used for debugging\n * purposes and it is difficult for the JSCompiler to statically determine\n * whether they are used.\n */\ngoog.DEBUG = goog.define('goog.DEBUG', true);\n\n\n/**\n * @define {string} LOCALE defines the locale being used for compilation. It is\n * used to select locale specific data to be compiled in js binary. BUILD rule\n * can specify this value by \"--define goog.LOCALE=<locale_name>\" as a compiler\n * option.\n *\n * Take into account that the locale code format is important. You should use\n * the canonical Unicode format with hyphen as a delimiter. Language must be\n * lowercase, Language Script - Capitalized, Region - UPPERCASE.\n * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.\n *\n * See more info about locale codes here:\n * http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers\n *\n * For language codes you should use values defined by ISO 693-1. See it here\n * http://www.w3.org/WAI/ER/IG/ert/iso639.htm. There is only one exception from\n * this rule: the Hebrew language. For legacy reasons the old code (iw) should\n * be used instead of the new code (he).\n *\n */\ngoog.LOCALE = goog.define('goog.LOCALE', 'en');  // default to en\n\n\n/**\n * Same as `goog.LOCALE`, which should be used instead.\n *\n * Using this method just makes it harder for closure-compiler to optimize\n * your locale-specific code, since it has to take the extra step of inlining\n * this function to discover and remove code that is not used for the target\n * locale.\n *\n * @return {string}\n * @deprecated use `goog.LOCALE`\n */\ngoog.getLocale = function() {\n  return goog.LOCALE;\n};\n\n\n/**\n * @define {boolean} Whether this code is running on trusted sites.\n *\n * On untrusted sites, several native functions can be defined or overridden by\n * external libraries like Prototype, Datejs, and JQuery and setting this flag\n * to false forces closure to use its own implementations when possible.\n *\n * If your JavaScript can be loaded by a third party site and you are wary about\n * relying on non-standard implementations, specify\n * \"--define goog.TRUSTED_SITE=false\" to the compiler.\n */\ngoog.TRUSTED_SITE = goog.define('goog.TRUSTED_SITE', true);\n\n\n/**\n * @define {boolean} Whether code that calls {@link goog.setTestOnly} should\n *     be disallowed in the compilation unit.\n */\ngoog.DISALLOW_TEST_ONLY_CODE =\n    goog.define('goog.DISALLOW_TEST_ONLY_CODE', COMPILED && !goog.DEBUG);\n\n\n/**\n * @define {boolean} Whether to use a Chrome app CSP-compliant method for\n *     loading scripts via goog.require. @see appendScriptSrcNode_.\n */\ngoog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING =\n    goog.define('goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING', false);\n\n\n/**\n * Defines a namespace in Closure.\n *\n * A namespace may only be defined once in a codebase. It may be defined using\n * goog.provide() or goog.module().\n *\n * The presence of one or more goog.provide() calls in a file indicates\n * that the file defines the given objects/namespaces.\n * Provided symbols must not be null or undefined.\n *\n * In addition, goog.provide() creates the object stubs for a namespace\n * (for example, goog.provide(\"goog.foo.bar\") will create the object\n * goog.foo.bar if it does not already exist).\n *\n * Build tools also scan for provide/require/module statements\n * to discern dependencies, build dependency files (see deps.js), etc.\n *\n * @see goog.require\n * @see goog.module\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n * deprecated Use goog.module (see b/159289405)\n */\ngoog.provide = function(name) {\n  if (goog.isInModuleLoader_()) {\n    throw new Error('goog.provide cannot be used within a module.');\n  }\n  if (!COMPILED) {\n    // Ensure that the same namespace isn't provided twice.\n    // A goog.module/goog.provide maps a goog.require to a specific file\n    if (goog.isProvided_(name)) {\n      throw new Error('Namespace \"' + name + '\" already declared.');\n    }\n  }\n\n  goog.constructNamespace_(name);\n};\n\n\n/**\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n * @param {?Object=} object The object to embed in the namespace.\n * @param {boolean=} overwriteImplicit If object is set and a previous call\n *     implicitly constructed the namespace given by name, this parameter\n *     controls whether opt_obj should overwrite the implicitly constructed\n *     namespace or be merged into it. Defaults to false.\n * @private\n */\ngoog.constructNamespace_ = function(name, object, overwriteImplicit) {\n  if (!COMPILED) {\n    delete goog.implicitNamespaces_[name];\n\n    var namespace = name;\n    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {\n      if (goog.getObjectByName(namespace)) {\n        break;\n      }\n      goog.implicitNamespaces_[namespace] = true;\n    }\n  }\n\n  goog.exportPath_(name, object, overwriteImplicit);\n};\n\n\n/**\n * According to the CSP3 spec a nonce must be a valid base64 string.\n * @see https://www.w3.org/TR/CSP3/#grammardef-base64-value\n * @private @const\n */\ngoog.NONCE_PATTERN_ = /^[\\w+/_-]+[=]{0,2}$/;\n\n\n/**\n * Returns CSP nonce, if set for any script tag.\n * @param {?Window=} opt_window The window context used to retrieve the nonce.\n *     Defaults to global context.\n * @return {string} CSP nonce or empty string if no nonce is present.\n * @private\n */\ngoog.getScriptNonce_ = function(opt_window) {\n  var doc = (opt_window || goog.global).document;\n  var script = doc.querySelector && doc.querySelector('script[nonce]');\n  if (script) {\n    // Try to get the nonce from the IDL property first, because browsers that\n    // implement additional nonce protection features (currently only Chrome) to\n    // prevent nonce stealing via CSS do not expose the nonce via attributes.\n    // See https://github.com/whatwg/html/issues/2369\n    var nonce = script['nonce'] || script.getAttribute('nonce');\n    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {\n      return nonce;\n    }\n  }\n  return '';\n};\n\n\n/**\n * Module identifier validation regexp.\n * Note: This is a conservative check, it is very possible to be more lenient,\n *   the primary exclusion here is \"/\" and \"\\\" and a leading \".\", these\n *   restrictions are intended to leave the door open for using goog.require\n *   with relative file paths rather than module identifiers.\n * @private\n */\ngoog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\n\n\n/**\n * Defines a module in Closure.\n *\n * Marks that this file must be loaded as a module and claims the namespace.\n *\n * A namespace may only be defined once in a codebase. It may be defined using\n * goog.provide() or goog.module().\n *\n * goog.module() has three requirements:\n * - goog.module may not be used in the same file as goog.provide.\n * - goog.module must be the first statement in the file.\n * - only one goog.module is allowed per file.\n *\n * When a goog.module annotated file is loaded, it is enclosed in\n * a strict function closure. This means that:\n * - any variables declared in a goog.module file are private to the file\n * (not global), though the compiler is expected to inline the module.\n * - The code must obey all the rules of \"strict\" JavaScript.\n * - the file will be marked as \"use strict\"\n *\n * NOTE: unlike goog.provide, goog.module does not declare any symbols by\n * itself. If declared symbols are desired, use\n * goog.module.declareLegacyNamespace().\n *\n *\n * See the public goog.module proposal: http://goo.gl/Va1hin\n *\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\", is expected but not required.\n * @return {void}\n */\ngoog.module = function(name) {\n  if (typeof name !== 'string' || !name ||\n      name.search(goog.VALID_MODULE_RE_) == -1) {\n    throw new Error('Invalid module identifier');\n  }\n  if (!goog.isInGoogModuleLoader_()) {\n    throw new Error(\n        'Module ' + name + ' has been loaded incorrectly. Note, ' +\n        'modules cannot be loaded as normal scripts. They require some kind of ' +\n        'pre-processing step. You\\'re likely trying to load a module via a ' +\n        'script tag or as a part of a concatenated bundle without rewriting the ' +\n        'module. For more info see: ' +\n        'https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.');\n  }\n  if (goog.moduleLoaderState_.moduleName) {\n    throw new Error('goog.module may only be called once per module.');\n  }\n\n  // Store the module name for the loader.\n  goog.moduleLoaderState_.moduleName = name;\n  if (!COMPILED) {\n    // Ensure that the same namespace isn't provided twice.\n    // A goog.module/goog.provide maps a goog.require to a specific file\n    if (goog.isProvided_(name)) {\n      throw new Error('Namespace \"' + name + '\" already declared.');\n    }\n    delete goog.implicitNamespaces_[name];\n  }\n};\n\n\n/**\n * @param {string} name The module identifier.\n * @return {?} The module exports for an already loaded module or null.\n *\n * Note: This is not an alternative to goog.require, it does not\n * indicate a hard dependency, instead it is used to indicate\n * an optional dependency or to access the exports of a module\n * that has already been loaded.\n * @suppress {missingProvide}\n */\ngoog.module.get = function(name) {\n  return goog.module.getInternal_(name);\n};\n\n\n/**\n * @param {string} name The module identifier.\n * @return {?} The module exports for an already loaded module or null.\n * @private\n */\ngoog.module.getInternal_ = function(name) {\n  if (!COMPILED) {\n    if (name in goog.loadedModules_) {\n      return goog.loadedModules_[name].exports;\n    } else if (!goog.implicitNamespaces_[name]) {\n      var ns = goog.getObjectByName(name);\n      return ns != null ? ns : null;\n    }\n  }\n  return null;\n};\n\n/**\n * Types of modules the debug loader can load.\n * @enum {string}\n */\ngoog.ModuleType = {\n  ES6: 'es6',\n  GOOG: 'goog'\n};\n\n\n/**\n * @private {?{\n *   moduleName: (string|undefined),\n *   declareLegacyNamespace:boolean,\n *   type: ?goog.ModuleType\n * }}\n */\ngoog.moduleLoaderState_ = null;\n\n\n/**\n * @private\n * @return {boolean} Whether a goog.module or an es6 module is currently being\n *     initialized.\n */\ngoog.isInModuleLoader_ = function() {\n  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();\n};\n\n\n/**\n * @private\n * @return {boolean} Whether a goog.module is currently being initialized.\n */\ngoog.isInGoogModuleLoader_ = function() {\n  return !!goog.moduleLoaderState_ &&\n      goog.moduleLoaderState_.type == goog.ModuleType.GOOG;\n};\n\n\n/**\n * @private\n * @return {boolean} Whether an es6 module is currently being initialized.\n */\ngoog.isInEs6ModuleLoader_ = function() {\n  var inLoader = !!goog.moduleLoaderState_ &&\n      goog.moduleLoaderState_.type == goog.ModuleType.ES6;\n\n  if (inLoader) {\n    return true;\n  }\n\n  var jscomp = goog.global['$jscomp'];\n\n  if (jscomp) {\n    // jscomp may not have getCurrentModulePath if this is a compiled bundle\n    // that has some of the runtime, but not all of it. This can happen if\n    // optimizations are turned on so the unused runtime is removed but renaming\n    // and Closure pass are off (so $jscomp is still named $jscomp and the\n    // goog.provide/require calls still exist).\n    if (typeof jscomp.getCurrentModulePath != 'function') {\n      return false;\n    }\n\n    // Bundled ES6 module.\n    return !!jscomp.getCurrentModulePath();\n  }\n\n  return false;\n};\n\n\n/**\n * Provide the module's exports as a globally accessible object under the\n * module's declared name.  This is intended to ease migration to goog.module\n * for files that have existing usages.\n * @suppress {missingProvide}\n */\ngoog.module.declareLegacyNamespace = function() {\n  if (!COMPILED && !goog.isInGoogModuleLoader_()) {\n    throw new Error(\n        'goog.module.declareLegacyNamespace must be called from ' +\n        'within a goog.module');\n  }\n  if (!COMPILED && !goog.moduleLoaderState_.moduleName) {\n    throw new Error(\n        'goog.module must be called prior to ' +\n        'goog.module.declareLegacyNamespace.');\n  }\n  goog.moduleLoaderState_.declareLegacyNamespace = true;\n};\n\n\n/**\n * Associates an ES6 module with a Closure module ID so that is available via\n * goog.require. The associated ID  acts like a goog.module ID - it does not\n * create any global names, it is merely available via goog.require /\n * goog.module.get / goog.forwardDeclare / goog.requireType. goog.require and\n * goog.module.get will return the entire module as if it was import *'d. This\n * allows Closure files to reference ES6 modules for the sake of migration.\n *\n * @param {string} namespace\n * @suppress {missingProvide}\n */\ngoog.declareModuleId = function(namespace) {\n  if (!COMPILED) {\n    if (!goog.isInEs6ModuleLoader_()) {\n      throw new Error(\n          'goog.declareModuleId may only be called from ' +\n          'within an ES6 module');\n    }\n    if (goog.moduleLoaderState_ && goog.moduleLoaderState_.moduleName) {\n      throw new Error(\n          'goog.declareModuleId may only be called once per module.');\n    }\n    if (namespace in goog.loadedModules_) {\n      throw new Error(\n          'Module with namespace \"' + namespace + '\" already exists.');\n    }\n  }\n  if (goog.moduleLoaderState_) {\n    // Not bundled - debug loading.\n    goog.moduleLoaderState_.moduleName = namespace;\n  } else {\n    // Bundled - not debug loading, no module loader state.\n    var jscomp = goog.global['$jscomp'];\n    if (!jscomp || typeof jscomp.getCurrentModulePath != 'function') {\n      throw new Error(\n          'Module with namespace \"' + namespace +\n          '\" has been loaded incorrectly.');\n    }\n    var exports = jscomp.require(jscomp.getCurrentModulePath());\n    goog.loadedModules_[namespace] = {\n      exports: exports,\n      type: goog.ModuleType.ES6,\n      moduleId: namespace\n    };\n  }\n};\n\n\n/**\n * Marks that the current file should only be used for testing, and never for\n * live code in production.\n *\n * In the case of unit tests, the message may optionally be an exact namespace\n * for the test (e.g. 'goog.stringTest'). The linter will then ignore the extra\n * provide (if not explicitly defined in the code).\n *\n * @param {string=} opt_message Optional message to add to the error that's\n *     raised when used in production code.\n */\ngoog.setTestOnly = function(opt_message) {\n  if (goog.DISALLOW_TEST_ONLY_CODE) {\n    opt_message = opt_message || '';\n    throw new Error(\n        'Importing test-only code into non-debug environment' +\n        (opt_message ? ': ' + opt_message : '.'));\n  }\n};\n\n\n/**\n * Forward declares a symbol. This is an indication to the compiler that the\n * symbol may be used in the source yet is not required and may not be provided\n * in compilation.\n *\n * The most common usage of forward declaration is code that takes a type as a\n * function parameter but does not need to require it. By forward declaring\n * instead of requiring, no hard dependency is made, and (if not required\n * elsewhere) the namespace may never be required and thus, not be pulled\n * into the JavaScript binary. If it is required elsewhere, it will be type\n * checked as normal.\n *\n * Before using goog.forwardDeclare, please read the documentation at\n * https://github.com/google/closure-compiler/wiki/Bad-Type-Annotation to\n * understand the options and tradeoffs when working with forward declarations.\n *\n * @param {string} name The namespace to forward declare in the form of\n *     \"goog.package.part\".\n * @deprecated See go/noforwarddeclaration, Use `goog.requireType` instead.\n */\ngoog.forwardDeclare = function(name) {};\n\n\n/**\n * Forward declare type information. Used to assign types to goog.global\n * referenced object that would otherwise result in unknown type references\n * and thus block property disambiguation.\n */\ngoog.forwardDeclare('Document');\ngoog.forwardDeclare('HTMLScriptElement');\ngoog.forwardDeclare('XMLHttpRequest');\n\n\nif (!COMPILED) {\n  /**\n   * Check if the given name has been goog.provided. This will return false for\n   * names that are available only as implicit namespaces.\n   * @param {string} name name of the object to look for.\n   * @return {boolean} Whether the name has been provided.\n   * @private\n   */\n  goog.isProvided_ = function(name) {\n    return (name in goog.loadedModules_) ||\n        (!goog.implicitNamespaces_[name] && goog.getObjectByName(name) != null);\n  };\n\n  /**\n   * Namespaces implicitly defined by goog.provide. For example,\n   * goog.provide('goog.events.Event') implicitly declares that 'goog' and\n   * 'goog.events' must be namespaces.\n   *\n   * @type {!Object<string, (boolean|undefined)>}\n   * @private\n   */\n  goog.implicitNamespaces_ = {'goog.module': true};\n\n  // NOTE: We add goog.module as an implicit namespace as goog.module is defined\n  // here and because the existing module package has not been moved yet out of\n  // the goog.module namespace. This satisifies both the debug loader and\n  // ahead-of-time dependency management.\n}\n\n\n/**\n * Returns an object based on its fully qualified external name.  The object\n * is not found if null or undefined.  If you are using a compilation pass that\n * renames property names beware that using this function will not find renamed\n * properties.\n *\n * @param {string} name The fully qualified name.\n * @param {Object=} opt_obj The object within which to look; default is\n *     |goog.global|.\n * @return {?} The value (object or primitive) or, if not found, null.\n */\ngoog.getObjectByName = function(name, opt_obj) {\n  var parts = name.split('.');\n  var cur = opt_obj || goog.global;\n  for (var i = 0; i < parts.length; i++) {\n    cur = cur[parts[i]];\n    if (cur == null) {\n      return null;\n    }\n  }\n  return cur;\n};\n\n\n/**\n * Adds a dependency from a file to the files it requires.\n * @param {string} relPath The path to the js file.\n * @param {!Array<string>} provides An array of strings with\n *     the names of the objects this file provides.\n * @param {!Array<string>} requires An array of strings with\n *     the names of the objects this file requires.\n * @param {boolean|!Object<string>=} opt_loadFlags Parameters indicating\n *     how the file must be loaded.  The boolean 'true' is equivalent\n *     to {'module': 'goog'} for backwards-compatibility.  Valid properties\n *     and values include {'module': 'goog'} and {'lang': 'es6'}.\n */\ngoog.addDependency = function(relPath, provides, requires, opt_loadFlags) {\n  if (!COMPILED && goog.DEPENDENCIES_ENABLED) {\n    goog.debugLoader_.addDependency(relPath, provides, requires, opt_loadFlags);\n  }\n};\n\n\n// NOTE(nnaze): The debug DOM loader was included in base.js as an original way\n// to do \"debug-mode\" development.  The dependency system can sometimes be\n// confusing, as can the debug DOM loader's asynchronous nature.\n//\n// With the DOM loader, a call to goog.require() is not blocking -- the script\n// will not load until some point after the current script.  If a namespace is\n// needed at runtime, it needs to be defined in a previous script, or loaded via\n// require() with its registered dependencies.\n//\n// User-defined namespaces may need their own deps file. For a reference on\n// creating a deps file, see:\n// Externally: https://developers.google.com/closure/library/docs/depswriter\n//\n// Because of legacy clients, the DOM loader can't be easily removed from\n// base.js.  Work was done to make it disableable or replaceable for\n// different environments (DOM-less JavaScript interpreters like Rhino or V8,\n// for example). See bootstrap/ for more information.\n\n\n/**\n * @define {boolean} Whether to enable the debug loader.\n *\n * If enabled, a call to goog.require() will attempt to load the namespace by\n * appending a script tag to the DOM (if the namespace has been registered).\n *\n * If disabled, goog.require() will simply assert that the namespace has been\n * provided (and depend on the fact that some outside tool correctly ordered\n * the script).\n */\ngoog.ENABLE_DEBUG_LOADER = goog.define('goog.ENABLE_DEBUG_LOADER', true);\n\n\n/**\n * @param {string} msg\n * @private\n */\ngoog.logToConsole_ = function(msg) {\n  if (goog.global.console) {\n    goog.global.console['error'](msg);\n  }\n};\n\n\n/**\n * Implements a system for the dynamic resolution of dependencies that works in\n * parallel with the BUILD system.\n *\n * Note that all calls to goog.require will be stripped by the compiler.\n *\n * @see goog.provide\n * @param {string} namespace Namespace (as was given in goog.provide,\n *     goog.module, or goog.declareModuleId) in the form\n *     \"goog.package.part\".\n * @return {?} If called within a goog.module or ES6 module file, the associated\n *     namespace or module otherwise null.\n */\ngoog.require = function(namespace) {\n  if (!COMPILED) {\n    // Might need to lazy load on old IE.\n    if (goog.ENABLE_DEBUG_LOADER) {\n      goog.debugLoader_.requested(namespace);\n    }\n\n    // If the object already exists we do not need to do anything.\n    if (goog.isProvided_(namespace)) {\n      if (goog.isInModuleLoader_()) {\n        return goog.module.getInternal_(namespace);\n      }\n    } else if (goog.ENABLE_DEBUG_LOADER) {\n      var moduleLoaderState = goog.moduleLoaderState_;\n      goog.moduleLoaderState_ = null;\n      try {\n        goog.debugLoader_.load_(namespace);\n      } finally {\n        goog.moduleLoaderState_ = moduleLoaderState;\n      }\n    }\n\n    return null;\n  }\n};\n\n\n/**\n * Requires a symbol for its type information. This is an indication to the\n * compiler that the symbol may appear in type annotations, yet it is not\n * referenced at runtime.\n *\n * When called within a goog.module or ES6 module file, the return value may be\n * assigned to or destructured into a variable, but it may not be otherwise used\n * in code outside of a type annotation.\n *\n * Note that all calls to goog.requireType will be stripped by the compiler.\n *\n * @param {string} namespace Namespace (as was given in goog.provide,\n *     goog.module, or goog.declareModuleId) in the form\n *     \"goog.package.part\".\n * @return {?}\n */\ngoog.requireType = function(namespace) {\n  // Return an empty object so that single-level destructuring of the return\n  // value doesn't crash at runtime when using the debug loader. Multi-level\n  // destructuring isn't supported.\n  return {};\n};\n\n\n/**\n * Path for included scripts.\n * @type {string}\n */\ngoog.basePath = '';\n\n\n/**\n * A hook for overriding the base path.\n * @type {string|undefined}\n */\ngoog.global.CLOSURE_BASE_PATH;\n\n\n/**\n * Whether to attempt to load Closure's deps file. By default, when uncompiled,\n * deps files will attempt to be loaded.\n * @type {boolean|undefined}\n */\ngoog.global.CLOSURE_NO_DEPS;\n\n\n/**\n * A function to import a single script. This is meant to be overridden when\n * Closure is being run in non-HTML contexts, such as web workers. It's defined\n * in the global scope so that it can be set before base.js is loaded, which\n * allows deps.js to be imported properly.\n *\n * The first parameter the script source, which is a relative URI. The second,\n * optional parameter is the script contents, in the event the script needed\n * transformation. It should return true if the script was imported, false\n * otherwise.\n * @type {(function(string, string=): boolean)|undefined}\n */\ngoog.global.CLOSURE_IMPORT_SCRIPT;\n\n\n/**\n * When defining a class Foo with an abstract method bar(), you can do:\n * Foo.prototype.bar = goog.abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error will be thrown\n * when bar() is invoked.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be overridden.\n * @deprecated Use \"@abstract\" annotation instead of goog.abstractMethod in new\n *     code. See\n *     https://github.com/google/closure-compiler/wiki/@abstract-classes-and-methods\n */\ngoog.abstractMethod = function() {\n  throw new Error('unimplemented abstract method');\n};\n\n\n/**\n * Adds a `getInstance` static method that always returns the same\n * instance object.\n * @param {!Function} ctor The constructor for the class to add the static\n *     method to.\n * @suppress {missingProperties} 'instance_' isn't a property on 'Function'\n *     but we don't have a better type to use here.\n */\ngoog.addSingletonGetter = function(ctor) {\n  // instance_ is immediately set to prevent issues with sealed constructors\n  // such as are encountered when a constructor is returned as the export object\n  // of a goog.module in unoptimized code.\n  // Delcare type to avoid conformance violations that ctor.instance_ is unknown\n  /** @type {undefined|!Object} @suppress {underscore} */\n  ctor.instance_ = undefined;\n  ctor.getInstance = function() {\n    if (ctor.instance_) {\n      return ctor.instance_;\n    }\n    if (goog.DEBUG) {\n      // NOTE: JSCompiler can't optimize away Array#push.\n      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;\n    }\n    // Cast to avoid conformance violations that ctor.instance_ is unknown\n    return /** @type {!Object|undefined} */ (ctor.instance_) = new ctor;\n  };\n};\n\n\n/**\n * All singleton classes that have been instantiated, for testing. Don't read\n * it directly, use the `goog.testing.singleton` module. The compiler\n * removes this variable if unused.\n * @type {!Array<!Function>}\n * @private\n */\ngoog.instantiatedSingletons_ = [];\n\n\n/**\n * @define {boolean} Whether to load goog.modules using `eval` when using\n * the debug loader.  This provides a better debugging experience as the\n * source is unmodified and can be edited using Chrome Workspaces or similar.\n * However in some environments the use of `eval` is banned\n * so we provide an alternative.\n */\ngoog.LOAD_MODULE_USING_EVAL = goog.define('goog.LOAD_MODULE_USING_EVAL', true);\n\n\n/**\n * @define {boolean} Whether the exports of goog.modules should be sealed when\n * possible.\n */\ngoog.SEAL_MODULE_EXPORTS = goog.define('goog.SEAL_MODULE_EXPORTS', goog.DEBUG);\n\n\n/**\n * The registry of initialized modules:\n * The module identifier or path to module exports map.\n * @private @const {!Object<string, {exports:?,type:string,moduleId:string}>}\n */\ngoog.loadedModules_ = {};\n\n\n/**\n * True if the debug loader enabled and used.\n * @const {boolean}\n */\ngoog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;\n\n\n/**\n * @define {string} How to decide whether to transpile.  Valid values\n * are 'always', 'never', and 'detect'.  The default ('detect') is to\n * use feature detection to determine which language levels need\n * transpilation.\n */\n// NOTE(sdh): we could expand this to accept a language level to bypass\n// detection: e.g. goog.TRANSPILE == 'es5' would transpile ES6 files but\n// would leave ES3 and ES5 files alone.\ngoog.TRANSPILE = goog.define('goog.TRANSPILE', 'detect');\n\n/**\n * @define {boolean} If true assume that ES modules have already been\n * transpiled by the jscompiler (in the same way that transpile.js would\n * transpile them - to jscomp modules). Useful only for servers that wish to use\n * the debug loader and transpile server side. Thus this is only respected if\n * goog.TRANSPILE is \"never\".\n */\ngoog.ASSUME_ES_MODULES_TRANSPILED =\n    goog.define('goog.ASSUME_ES_MODULES_TRANSPILED', false);\n\n\n/**\n * @define {string} Trusted Types policy name. If non-empty then Closure will\n * use Trusted Types.\n */\ngoog.TRUSTED_TYPES_POLICY_NAME =\n    goog.define('goog.TRUSTED_TYPES_POLICY_NAME', 'goog');\n\n\n/**\n * @package {?boolean}\n * Visible for testing.\n */\ngoog.hasBadLetScoping = null;\n\n\n/**\n * @param {function(?):?|string} moduleDef The module definition.\n */\ngoog.loadModule = function(moduleDef) {\n  // NOTE: we allow function definitions to be either in the from\n  // of a string to eval (which keeps the original source intact) or\n  // in a eval forbidden environment (CSP) we allow a function definition\n  // which in its body must call `goog.module`, and return the exports\n  // of the module.\n  var previousState = goog.moduleLoaderState_;\n  try {\n    goog.moduleLoaderState_ = {\n      moduleName: '',\n      declareLegacyNamespace: false,\n      type: goog.ModuleType.GOOG\n    };\n    var origExports = {};\n    var exports = origExports;\n    if (typeof moduleDef === 'function') {\n      exports = moduleDef.call(undefined, exports);\n    } else if (typeof moduleDef === 'string') {\n      exports = goog.loadModuleFromSource_.call(undefined, exports, moduleDef);\n    } else {\n      throw new Error('Invalid module definition');\n    }\n\n    var moduleName = goog.moduleLoaderState_.moduleName;\n    if (typeof moduleName === 'string' && moduleName) {\n      // Don't seal legacy namespaces as they may be used as a parent of\n      // another namespace\n      if (goog.moduleLoaderState_.declareLegacyNamespace) {\n        // Whether exports was overwritten via default export assignment.\n        // This is important for legacy namespaces as it dictates whether\n        // previously a previously loaded implicit namespace should be clobbered\n        // or not.\n        var isDefaultExport = origExports !== exports;\n        goog.constructNamespace_(moduleName, exports, isDefaultExport);\n      } else if (\n          goog.SEAL_MODULE_EXPORTS && Object.seal &&\n          typeof exports == 'object' && exports != null) {\n        Object.seal(exports);\n      }\n\n      var data = {\n        exports: exports,\n        type: goog.ModuleType.GOOG,\n        moduleId: goog.moduleLoaderState_.moduleName\n      };\n      goog.loadedModules_[moduleName] = data;\n    } else {\n      throw new Error('Invalid module name \\\"' + moduleName + '\\\"');\n    }\n  } finally {\n    goog.moduleLoaderState_ = previousState;\n  }\n};\n\n\n/**\n * @private @const\n */\ngoog.loadModuleFromSource_ =\n    /** @type {function(!Object, string):?} */ (function(exports) {\n      // NOTE: we avoid declaring parameters or local variables here to avoid\n      // masking globals or leaking values into the module definition.\n      'use strict';\n      eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(arguments[1]));\n      return exports;\n    });\n\n\n/**\n * Normalize a file path by removing redundant \"..\" and extraneous \".\" file\n * path components.\n * @param {string} path\n * @return {string}\n * @private\n */\ngoog.normalizePath_ = function(path) {\n  var components = path.split('/');\n  var i = 0;\n  while (i < components.length) {\n    if (components[i] == '.') {\n      components.splice(i, 1);\n    } else if (\n        i && components[i] == '..' && components[i - 1] &&\n        components[i - 1] != '..') {\n      components.splice(--i, 2);\n    } else {\n      i++;\n    }\n  }\n  return components.join('/');\n};\n\n\n/**\n * Provides a hook for loading a file when using Closure's goog.require() API\n * with goog.modules.  In particular this hook is provided to support Node.js.\n *\n * @type {(function(string):string)|undefined}\n */\ngoog.global.CLOSURE_LOAD_FILE_SYNC;\n\n\n/**\n * Loads file by synchronous XHR. Should not be used in production environments.\n * @param {string} src Source URL.\n * @return {?string} File contents, or null if load failed.\n * @private\n */\ngoog.loadFileSync_ = function(src) {\n  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {\n    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);\n  } else {\n    try {\n      /** @type {XMLHttpRequest} */\n      var xhr = new goog.global['XMLHttpRequest']();\n      xhr.open('get', src, false);\n      xhr.send();\n      // NOTE: Successful http: requests have a status of 200, but successful\n      // file: requests may have a status of zero.  Any other status, or a\n      // thrown exception (particularly in case of file: requests) indicates\n      // some sort of error, which we treat as a missing or unavailable file.\n      return xhr.status == 0 || xhr.status == 200 ? xhr.responseText : null;\n    } catch (err) {\n      // No need to rethrow or log, since errors should show up on their own.\n      return null;\n    }\n  }\n};\n\n//==============================================================================\n// Language Enhancements\n//==============================================================================\n\n\n/**\n * This is a \"fixed\" version of the typeof operator.  It differs from the typeof\n * operator in such a way that null returns 'null' and arrays return 'array'.\n * @param {?} value The value to get the type of.\n * @return {string} The name of the type.\n */\ngoog.typeOf = function(value) {\n  var s = typeof value;\n\n  if (s != 'object') {\n    return s;\n  }\n\n  if (!value) {\n    return 'null';\n  }\n\n  if (Array.isArray(value)) {\n    return 'array';\n  }\n  return s;\n};\n\n\n/**\n * Returns true if the object looks like an array. To qualify as array like\n * the value needs to be either a NodeList or an object with a Number length\n * property. Note that for this function neither strings nor functions are\n * considered \"array-like\".\n *\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an array.\n */\ngoog.isArrayLike = function(val) {\n  var type = goog.typeOf(val);\n  // We do not use goog.isObject here in order to exclude function values.\n  return type == 'array' || type == 'object' && typeof val.length == 'number';\n};\n\n\n/**\n * Returns true if the object looks like a Date. To qualify as Date-like the\n * value needs to be an object and have a getFullYear() function.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a like a Date.\n */\ngoog.isDateLike = function(val) {\n  return goog.isObject(val) && typeof val.getFullYear == 'function';\n};\n\n\n/**\n * Returns true if the specified value is an object.  This includes arrays and\n * functions.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an object.\n */\ngoog.isObject = function(val) {\n  var type = typeof val;\n  return type == 'object' && val != null || type == 'function';\n  // return Object(val) === val also works, but is slower, especially if val is\n  // not an object.\n};\n\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. The unique ID is\n * guaranteed to be unique across the current session amongst objects that are\n * passed into `getUid`. There is no guarantee that the ID is unique or\n * consistent across sessions. It is unsafe to generate unique ID for function\n * prototypes.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {number} The unique ID for the object.\n */\ngoog.getUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) &&\n      obj[goog.UID_PROPERTY_] ||\n      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\n\n\n/**\n * Whether the given object is already assigned a unique ID.\n *\n * This does not modify the object.\n *\n * @param {!Object} obj The object to check.\n * @return {boolean} Whether there is an assigned unique id for the object.\n */\ngoog.hasUid = function(obj) {\n  return !!obj[goog.UID_PROPERTY_];\n};\n\n\n/**\n * Removes the unique ID from an object. This is useful if the object was\n * previously mutated using `goog.getUid` in which case the mutation is\n * undone.\n * @param {Object} obj The object to remove the unique ID field from.\n */\ngoog.removeUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n\n  // In IE, DOM nodes are not instances of Object and throw an exception if we\n  // try to delete.  Instead we try to use removeAttribute.\n  if (obj !== null && 'removeAttribute' in obj) {\n    obj.removeAttribute(goog.UID_PROPERTY_);\n  }\n\n  try {\n    delete obj[goog.UID_PROPERTY_];\n  } catch (ex) {\n  }\n};\n\n\n/**\n * Name for unique ID property. Initialized in a way to help avoid collisions\n * with other closure JavaScript on the same page.\n * @type {string}\n * @private\n */\ngoog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * Counter for UID.\n * @type {number}\n * @private\n */\ngoog.uidCounter_ = 0;\n\n\n/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n *\n * WARNINGS:\n * <code>goog.cloneObject</code> does not detect reference loops. Objects that\n * refer to themselves will cause infinite recursion.\n *\n * <code>goog.cloneObject</code> is unaware of unique identifiers, and copies\n * UIDs created by <code>getUid</code> into cloned results.\n *\n * @param {*} obj The value to clone.\n * @return {*} A clone of the input value.\n * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.\n */\ngoog.cloneObject = function(obj) {\n  var type = goog.typeOf(obj);\n  if (type == 'object' || type == 'array') {\n    if (typeof obj.clone === 'function') {\n      return obj.clone();\n    }\n    if (typeof Map !== 'undefined' && obj instanceof Map) {\n      return new Map(obj);\n    } else if (typeof Set !== 'undefined' && obj instanceof Set) {\n      return new Set(obj);\n    }\n    var clone = type == 'array' ? [] : {};\n    for (var key in obj) {\n      clone[key] = goog.cloneObject(obj[key]);\n    }\n    return clone;\n  }\n\n  return obj;\n};\n\n\n/**\n * A native implementation of goog.bind.\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @private\n */\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n  return /** @type {!Function} */ (fn.call.apply(fn.bind, arguments));\n};\n\n\n/**\n * A pure-JS implementation of goog.bind.\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @private\n */\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n  if (!fn) {\n    throw new Error();\n  }\n\n  if (arguments.length > 2) {\n    var boundArgs = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      // Prepend the bound arguments to the current arguments.\n      var newArgs = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(newArgs, boundArgs);\n      return fn.apply(selfObj, newArgs);\n    };\n\n  } else {\n    return function() {\n      return fn.apply(selfObj, arguments);\n    };\n  }\n};\n\n\n/**\n * Partially applies this function to a particular 'this object' and zero or\n * more arguments. The result is a new function with some arguments of the first\n * function pre-filled and the value of this 'pre-specified'.\n *\n * Remaining arguments specified at call-time are appended to the pre-specified\n * ones.\n *\n * Also see: {@link #partial}.\n *\n * Usage:\n * <pre>var barMethBound = goog.bind(myFunction, myObj, 'arg1', 'arg2');\n * barMethBound('arg3', 'arg4');</pre>\n *\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @suppress {deprecated} See above.\n * @deprecated use `=> {}` or Function.prototype.bind instead.\n */\ngoog.bind = function(fn, selfObj, var_args) {\n  // TODO(nicksantos): narrow the type signature.\n  if (Function.prototype.bind &&\n      // NOTE(nicksantos): Somebody pulled base.js into the default Chrome\n      // extension environment. This means that for Chrome extensions, they get\n      // the implementation of Function.prototype.bind that calls goog.bind\n      // instead of the native one. Even worse, we don't want to introduce a\n      // circular dependency between goog.bind and Function.prototype.bind, so\n      // we have to hack this to make sure it works correctly.\n      Function.prototype.bind.toString().indexOf('native code') != -1) {\n    goog.bind = goog.bindNative_;\n  } else {\n    goog.bind = goog.bindJs_;\n  }\n  return goog.bind.apply(null, arguments);\n};\n\n\n/**\n * Like goog.bind(), except that a 'this object' is not required. Useful when\n * the target function is already bound.\n *\n * Usage:\n * var g = goog.partial(f, arg1, arg2);\n * g(arg3, arg4);\n *\n * @param {Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially applied to fn.\n * @return {!Function} A partially-applied form of the function goog.partial()\n *     was invoked as a method of.\n */\ngoog.partial = function(fn, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    // Clone the array (with slice()) and append additional arguments\n    // to the existing arguments.\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(/** @type {?} */ (this), newArgs);\n  };\n};\n\n\n/**\n * @return {number} An integer value representing the number of milliseconds\n *     between midnight, January 1, 1970 and the current time.\n * @deprecated Use Date.now\n */\ngoog.now = function() {\n  return Date.now();\n};\n\n\n/**\n * Evals JavaScript in the global scope.\n *\n * Throws an exception if neither execScript or eval is defined.\n * @param {string|!TrustedScript} script JavaScript string.\n */\ngoog.globalEval = function(script) {\n  (0, eval)(script);\n};\n\n\n/**\n * Optional map of CSS class names to obfuscated names used with\n * goog.getCssName().\n * @private {!Object<string, string>|undefined}\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMapping_;\n\n\n/**\n * Optional obfuscation style for CSS class names. Should be set to either\n * 'BY_WHOLE' or 'BY_PART' if defined.\n * @type {string|undefined}\n * @private\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMappingStyle_;\n\n\n\n/**\n * A hook for modifying the default behavior goog.getCssName. The function\n * if present, will receive the standard output of the goog.getCssName as\n * its input.\n *\n * @type {(function(string):string)|undefined}\n */\ngoog.global.CLOSURE_CSS_NAME_MAP_FN;\n\n\n/**\n * Handles strings that are intended to be used as CSS class names.\n *\n * This function works in tandem with @see goog.setCssNameMapping.\n *\n * Without any mapping set, the arguments are simple joined with a hyphen and\n * passed through unaltered.\n *\n * When there is a mapping, there are two possible styles in which these\n * mappings are used. In the BY_PART style, each part (i.e. in between hyphens)\n * of the passed in css name is rewritten according to the map. In the BY_WHOLE\n * style, the full css name is looked up in the map directly. If a rewrite is\n * not specified by the map, the compiler will output a warning.\n *\n * When the mapping is passed to the compiler, it will replace calls to\n * goog.getCssName with the strings from the mapping, e.g.\n *     var x = goog.getCssName('foo');\n *     var y = goog.getCssName(this.baseClass, 'active');\n *  becomes:\n *     var x = 'foo';\n *     var y = this.baseClass + '-active';\n *\n * If one argument is passed it will be processed, if two are passed only the\n * modifier will be processed, as it is assumed the first argument was generated\n * as a result of calling goog.getCssName.\n *\n * @param {string} className The class name.\n * @param {string=} opt_modifier A modifier to be appended to the class name.\n * @return {string} The class name or the concatenation of the class name and\n *     the modifier.\n */\ngoog.getCssName = function(className, opt_modifier) {\n  // String() is used for compatibility with compiled soy where the passed\n  // className can be non-string objects.\n  if (String(className).charAt(0) == '.') {\n    throw new Error(\n        'className passed in goog.getCssName must not start with \".\".' +\n        ' You passed: ' + className);\n  }\n\n  var getMapping = function(cssName) {\n    return goog.cssNameMapping_[cssName] || cssName;\n  };\n\n  var renameByParts = function(cssName) {\n    // Remap all the parts individually.\n    var parts = cssName.split('-');\n    var mapped = [];\n    for (var i = 0; i < parts.length; i++) {\n      mapped.push(getMapping(parts[i]));\n    }\n    return mapped.join('-');\n  };\n\n  var rename;\n  if (goog.cssNameMapping_) {\n    rename =\n        goog.cssNameMappingStyle_ == 'BY_WHOLE' ? getMapping : renameByParts;\n  } else {\n    rename = function(a) {\n      return a;\n    };\n  }\n\n  var result =\n      opt_modifier ? className + '-' + rename(opt_modifier) : rename(className);\n\n  // The special CLOSURE_CSS_NAME_MAP_FN allows users to specify further\n  // processing of the class name.\n  if (goog.global.CLOSURE_CSS_NAME_MAP_FN) {\n    return goog.global.CLOSURE_CSS_NAME_MAP_FN(result);\n  }\n\n  return result;\n};\n\n\n/**\n * Sets the map to check when returning a value from goog.getCssName(). Example:\n * <pre>\n * goog.setCssNameMapping({\n *   \"goog\": \"a\",\n *   \"disabled\": \"b\",\n * });\n *\n * var x = goog.getCssName('goog');\n * // The following evaluates to: \"a a-b\".\n * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')\n * </pre>\n * When declared as a map of string literals to string literals, the JSCompiler\n * will replace all calls to goog.getCssName() using the supplied map if the\n * --process_closure_primitives flag is set.\n *\n * @param {!Object} mapping A map of strings to strings where keys are possible\n *     arguments to goog.getCssName() and values are the corresponding values\n *     that should be returned.\n * @param {string=} opt_style The style of css name mapping. There are two valid\n *     options: 'BY_PART', and 'BY_WHOLE'.\n * @see goog.getCssName for a description.\n */\ngoog.setCssNameMapping = function(mapping, opt_style) {\n  goog.cssNameMapping_ = mapping;\n  goog.cssNameMappingStyle_ = opt_style;\n};\n\n\n/**\n * To use CSS renaming in compiled mode, one of the input files should have a\n * call to goog.setCssNameMapping() with an object literal that the JSCompiler\n * can extract and use to replace all calls to goog.getCssName(). In uncompiled\n * mode, JavaScript code should be loaded before this base.js file that declares\n * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is\n * to ensure that the mapping is loaded before any calls to goog.getCssName()\n * are made in uncompiled mode.\n *\n * A hook for overriding the CSS name mapping.\n * @type {!Object<string, string>|undefined}\n */\ngoog.global.CLOSURE_CSS_NAME_MAPPING;\n\n\nif (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {\n  // This does not call goog.setCssNameMapping() because the JSCompiler\n  // requires that goog.setCssNameMapping() be called with an object literal.\n  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;\n}\n\n/**\n * Options bag type for `goog.getMsg()` third argument.\n *\n * It is important to note that these options need to be known at compile time,\n * so they must always be provided to `goog.getMsg()` as an actual object\n * literal in the function call. Otherwise, closure-compiler will report an\n * error.\n * @record\n */\ngoog.GetMsgOptions = function() {};\n\n/**\n * If `true`, escape '<' in the message string to '&lt;'.\n *\n * Used by Closure Templates where the generated code size and performance is\n * critical which is why {@link goog.html.SafeHtmlFormatter} is not used.\n * The value must be literal `true` or `false`.\n * @type {boolean|undefined}\n */\ngoog.GetMsgOptions.prototype.html;\n\n/**\n * If `true`, unescape common html entities: &gt;, &lt;, &apos;, &quot; and\n * &amp;.\n *\n * Used for messages not in HTML context, such as with the `textContent`\n * property.\n * The value must be literal `true` or `false`.\n * @type {boolean|undefined}\n */\ngoog.GetMsgOptions.prototype.unescapeHtmlEntities;\n\n/**\n * Associates placeholder names with strings showing how their values are\n * obtained.\n *\n * This field is intended for use in automatically generated JS code.\n * Human-written code should use meaningful placeholder names instead.\n *\n * closure-compiler uses this as the contents of the `<ph>` tag in the\n * XMB file it generates or defaults to `-` for historical reasons.\n *\n * Must be an object literal.\n * Ignored at runtime.\n * Keys are placeholder names.\n * Values are string literals indicating how the value is obtained.\n * Typically this is a snippet of source code.\n * @type {!Object<string, string>|undefined}\n */\ngoog.GetMsgOptions.prototype.original_code;\n\n/**\n * Associates placeholder names with example values.\n *\n * closure-compiler uses this as the contents of the `<ex>` tag in the\n * XMB file it generates or defaults to `-` for historical reasons.\n *\n * Must be an object literal.\n * Ignored at runtime.\n * Keys are placeholder names.\n * Values are string literals containing example placeholder values.\n * (e.g. \"George McFly\" for a name placeholder)\n * @type {!Object<string, string>|undefined}\n */\ngoog.GetMsgOptions.prototype.example;\n\n/**\n * Gets a localized message.\n *\n * This function is a compiler primitive. If you give the compiler a localized\n * message bundle, it will replace the string at compile-time with a localized\n * version, and expand goog.getMsg call to a concatenated string.\n *\n * Messages must be initialized in the form:\n * <code>\n * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});\n * </code>\n *\n * This function produces a string which should be treated as plain text. Use\n * {@link goog.html.SafeHtmlFormatter} in conjunction with goog.getMsg to\n * produce SafeHtml.\n *\n * @param {string} str Translatable string, places holders in the form {$foo}.\n * @param {!Object<string, string>=} opt_values Maps place holder name to value.\n * @param {!goog.GetMsgOptions=} opt_options see `goog.GetMsgOptions`\n * @return {string} message with placeholders filled.\n */\ngoog.getMsg = function(str, opt_values, opt_options) {\n  if (opt_options && opt_options.html) {\n    // Note that '&' is not replaced because the translation can contain HTML\n    // entities.\n    str = str.replace(/</g, '&lt;');\n  }\n  if (opt_options && opt_options.unescapeHtmlEntities) {\n    // Note that \"&amp;\" must be the last to avoid \"creating\" new entities.\n    str = str.replace(/&lt;/g, '<')\n              .replace(/&gt;/g, '>')\n              .replace(/&apos;/g, '\\'')\n              .replace(/&quot;/g, '\"')\n              .replace(/&amp;/g, '&');\n  }\n  if (opt_values) {\n    str = str.replace(/\\{\\$([^}]+)}/g, function(match, key) {\n      return (opt_values != null && key in opt_values) ? opt_values[key] :\n                                                         match;\n    });\n  }\n  return str;\n};\n\n\n/**\n * Gets a localized message. If the message does not have a translation, gives a\n * fallback message.\n *\n * This is useful when introducing a new message that has not yet been\n * translated into all languages.\n *\n * This function is a compiler primitive. Must be used in the form:\n * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);</code>\n * where MSG_A and MSG_B were initialized with goog.getMsg.\n *\n * @param {string} a The preferred message.\n * @param {string} b The fallback message.\n * @return {string} The best translated message.\n */\ngoog.getMsgWithFallback = function(a, b) {\n  return a;\n};\n\n\n/**\n * Exposes an unobfuscated global namespace path for the given object.\n * Note that fields of the exported object *will* be obfuscated, unless they are\n * exported in turn via this function or goog.exportProperty.\n *\n * Also handy for making public items that are defined in anonymous closures.\n *\n * ex. goog.exportSymbol('public.path.Foo', Foo);\n *\n * ex. goog.exportSymbol('public.path.Foo.staticFunction', Foo.staticFunction);\n *     public.path.Foo.staticFunction();\n *\n * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',\n *                       Foo.prototype.myMethod);\n *     new public.path.Foo().myMethod();\n *\n * @param {string} publicPath Unobfuscated name to export.\n * @param {*} object Object the name should point to.\n * @param {?Object=} objectToExportTo The object to add the path to; default\n *     is goog.global.\n */\ngoog.exportSymbol = function(publicPath, object, objectToExportTo) {\n  goog.exportPath_(\n      publicPath, object, /* overwriteImplicit= */ true, objectToExportTo);\n};\n\n\n/**\n * Exports a property unobfuscated into the object's namespace.\n * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);\n * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);\n * @param {Object} object Object whose static property is being exported.\n * @param {string} publicName Unobfuscated name to export.\n * @param {*} symbol Object the name should point to.\n */\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * Usage:\n * <pre>\n * function ParentClass(a, b) { }\n * ParentClass.prototype.foo = function(a) { };\n *\n * function ChildClass(a, b, c) {\n *   ChildClass.base(this, 'constructor', a, b);\n * }\n * goog.inherits(ChildClass, ParentClass);\n *\n * var child = new ChildClass('a', 'b', 'see');\n * child.foo(); // This works.\n * </pre>\n *\n * @param {!Function} childCtor Child class.\n * @param {!Function} parentCtor Parent class.\n * @suppress {strictMissingProperties} superClass_ and base is not defined on\n *    Function.\n * @deprecated Use ECMAScript class syntax instead.\n */\ngoog.inherits = function(childCtor, parentCtor) {\n  /** @constructor */\n  function tempCtor() {}\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  /** @override */\n  childCtor.prototype.constructor = childCtor;\n\n  /**\n   * Calls superclass constructor/method.\n   *\n   * This function is only available if you use goog.inherits to\n   * express inheritance relationships between classes.\n   *\n   * NOTE: This is a replacement for goog.base and for superClass_\n   * property defined in childCtor.\n   *\n   * @param {!Object} me Should always be \"this\".\n   * @param {string} methodName The method name to call. Calling\n   *     superclass constructor can be done with the special string\n   *     'constructor'.\n   * @param {...*} var_args The arguments to pass to superclass\n   *     method/constructor.\n   * @return {*} The return value of the superclass method/constructor.\n   */\n  childCtor.base = function(me, methodName, var_args) {\n    // Copying using loop to avoid deop due to passing arguments object to\n    // function. This is faster in many JS engines as of late 2014.\n    var args = new Array(arguments.length - 2);\n    for (var i = 2; i < arguments.length; i++) {\n      args[i - 2] = arguments[i];\n    }\n    return parentCtor.prototype[methodName].apply(me, args);\n  };\n};\n\n\n/**\n * Allow for aliasing within scope functions.  This function exists for\n * uncompiled code - in compiled code the calls will be inlined and the aliases\n * applied.  In uncompiled code the function is simply run since the aliases as\n * written are valid JavaScript.\n *\n *\n * @param {function()} fn Function to call.  This function can contain aliases\n *     to namespaces (e.g. \"var dom = goog.dom\") or classes\n *     (e.g. \"var Timer = goog.Timer\").\n * @deprecated Use goog.module instead.\n */\ngoog.scope = function(fn) {\n  if (goog.isInModuleLoader_()) {\n    throw new Error('goog.scope is not supported within a module.');\n  }\n  fn.call(goog.global);\n};\n\n\n/*\n * To support uncompiled, strict mode bundles that use eval to divide source\n * like so:\n *    eval('someSource;//# sourceUrl sourcefile.js');\n * We need to export the globally defined symbols \"goog\" and \"COMPILED\".\n * Exporting \"goog\" breaks the compiler optimizations, so we required that\n * be defined externally.\n * NOTE: We don't use goog.exportSymbol here because we don't want to trigger\n * extern generation when that compiler option is enabled.\n */\nif (!COMPILED) {\n  goog.global['COMPILED'] = COMPILED;\n}\n\n\n//==============================================================================\n// goog.defineClass implementation\n//==============================================================================\n\n\n/**\n * Creates a restricted form of a Closure \"class\":\n *   - from the compiler's perspective, the instance returned from the\n *     constructor is sealed (no new properties may be added).  This enables\n *     better checks.\n *   - the compiler will rewrite this definition to a form that is optimal\n *     for type checking and optimization (initially this will be a more\n *     traditional form).\n *\n * @param {Function} superClass The superclass, Object or null.\n * @param {goog.defineClass.ClassDescriptor} def\n *     An object literal describing\n *     the class.  It may have the following properties:\n *     \"constructor\": the constructor function\n *     \"statics\": an object literal containing methods to add to the constructor\n *        as \"static\" methods or a function that will receive the constructor\n *        function as its only parameter to which static properties can\n *        be added.\n *     all other properties are added to the prototype.\n * @return {!Function} The class constructor.\n * @deprecated Use ECMAScript class syntax instead.\n */\ngoog.defineClass = function(superClass, def) {\n  // TODO(johnlenz): consider making the superClass an optional parameter.\n  var constructor = def.constructor;\n  var statics = def.statics;\n  // Wrap the constructor prior to setting up the prototype and static methods.\n  if (!constructor || constructor == Object.prototype.constructor) {\n    constructor = function() {\n      throw new Error(\n          'cannot instantiate an interface (no constructor defined).');\n    };\n  }\n\n  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);\n  if (superClass) {\n    goog.inherits(cls, superClass);\n  }\n\n  // Remove all the properties that should not be copied to the prototype.\n  delete def.constructor;\n  delete def.statics;\n\n  goog.defineClass.applyProperties_(cls.prototype, def);\n  if (statics != null) {\n    if (statics instanceof Function) {\n      statics(cls);\n    } else {\n      goog.defineClass.applyProperties_(cls, statics);\n    }\n  }\n\n  return cls;\n};\n\n\n/**\n * @typedef {{\n *   constructor: (!Function|undefined),\n *   statics: (Object|undefined|function(Function):void)\n * }}\n */\ngoog.defineClass.ClassDescriptor;\n\n\n/**\n * @define {boolean} Whether the instances returned by goog.defineClass should\n *     be sealed when possible.\n *\n * When sealing is disabled the constructor function will not be wrapped by\n * goog.defineClass, making it incompatible with ES6 class methods.\n */\ngoog.defineClass.SEAL_CLASS_INSTANCES =\n    goog.define('goog.defineClass.SEAL_CLASS_INSTANCES', goog.DEBUG);\n\n\n/**\n * If goog.defineClass.SEAL_CLASS_INSTANCES is enabled and Object.seal is\n * defined, this function will wrap the constructor in a function that seals the\n * results of the provided constructor function.\n *\n * @param {!Function} ctr The constructor whose results maybe be sealed.\n * @param {Function} superClass The superclass constructor.\n * @return {!Function} The replacement constructor.\n * @private\n */\ngoog.defineClass.createSealingConstructor_ = function(ctr, superClass) {\n  if (!goog.defineClass.SEAL_CLASS_INSTANCES) {\n    // Do now wrap the constructor when sealing is disabled. Angular code\n    // depends on this for injection to work properly.\n    return ctr;\n  }\n\n  // NOTE: The sealing behavior has been removed\n\n  /**\n   * @this {Object}\n   * @return {?}\n   */\n  var wrappedCtr = function() {\n    // Don't seal an instance of a subclass when it calls the constructor of\n    // its super class as there is most likely still setup to do.\n    var instance = ctr.apply(this, arguments) || this;\n    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];\n\n    return instance;\n  };\n\n  return wrappedCtr;\n};\n\n\n\n// TODO(johnlenz): share these values with the goog.object\n/**\n * The names of the fields that are defined on Object.prototype.\n * @type {!Array<string>}\n * @private\n * @const\n */\ngoog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = [\n  'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',\n  'toLocaleString', 'toString', 'valueOf'\n];\n\n\n// TODO(johnlenz): share this function with the goog.object\n/**\n * @param {!Object} target The object to add properties to.\n * @param {!Object} source The object to copy properties from.\n * @private\n */\ngoog.defineClass.applyProperties_ = function(target, source) {\n  // TODO(johnlenz): update this to support ES5 getters/setters\n\n  var key;\n  for (key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n\n  // For IE the for-in-loop does not contain any properties that are not\n  // enumerable on the prototype object (for example isPrototypeOf from\n  // Object.prototype) and it will also not include 'replace' on objects that\n  // extend String and change 'replace' (not that it is common for anyone to\n  // extend anything except Object).\n  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {\n    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i];\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n};\n\n/**\n * Returns the parameter.\n * @param {string} s\n * @return {string}\n * @private\n */\ngoog.identity_ = function(s) {\n  return s;\n};\n\n\n/**\n * Creates Trusted Types policy if Trusted Types are supported by the browser.\n * The policy just blesses any string as a Trusted Type. It is not visibility\n * restricted because anyone can also call trustedTypes.createPolicy directly.\n * However, the allowed names should be restricted by a HTTP header and the\n * reference to the created policy should be visibility restricted.\n * @param {string} name\n * @return {?TrustedTypePolicy}\n */\ngoog.createTrustedTypesPolicy = function(name) {\n  var policy = null;\n  var policyFactory = goog.global.trustedTypes;\n  if (!policyFactory || !policyFactory.createPolicy) {\n    return policy;\n  }\n  // trustedTypes.createPolicy throws if called with a name that is already\n  // registered, even in report-only mode. Until the API changes, catch the\n  // error not to break the applications functionally. In such case, the code\n  // will fall back to using regular Safe Types.\n  // TODO(koto): Remove catching once createPolicy API stops throwing.\n  try {\n    policy = policyFactory.createPolicy(name, {\n      createHTML: goog.identity_,\n      createScript: goog.identity_,\n      createScriptURL: goog.identity_\n    });\n  } catch (e) {\n    goog.logToConsole_(e.message);\n  }\n  return policy;\n};\n\n// There's a bug in the compiler where without collapse properties the\n// Closure namespace defines do not guard code correctly. To help reduce code\n// size also check for !COMPILED even though it redundant until this is fixed.\nif (!COMPILED && goog.DEPENDENCIES_ENABLED) {\n\n\n  /**\n   * Tries to detect whether the current browser is Edge, based on the user\n   * agent. This matches only pre-Chromium Edge.\n   * @see https://docs.microsoft.com/en-us/microsoft-edge/web-platform/user-agent-string\n   * @return {boolean} True if the current browser is Edge.\n   * @private\n   */\n  goog.isEdge_ = function() {\n    var userAgent = goog.global.navigator && goog.global.navigator.userAgent ?\n        goog.global.navigator.userAgent :\n        '';\n    var edgeRe = /Edge\\/(\\d+)(\\.\\d)*/i;\n    return !!userAgent.match(edgeRe);\n  };\n\n\n  /**\n   * Tries to detect whether is in the context of an HTML document.\n   * @return {boolean} True if it looks like HTML document.\n   * @private\n   */\n  goog.inHtmlDocument_ = function() {\n    /** @type {!Document} */\n    var doc = goog.global.document;\n    return doc != null && 'write' in doc;  // XULDocument misses write.\n  };\n\n\n  /**\n   * We'd like to check for if the document readyState is 'loading'; however\n   * there are bugs on IE 10 and below where the readyState being anything other\n   * than 'complete' is not reliable.\n   * @return {boolean}\n   * @private\n   */\n  goog.isDocumentLoading_ = function() {\n    // attachEvent is available on IE 6 thru 10 only, and thus can be used to\n    // detect those browsers.\n    /** @type {!HTMLDocument} */\n    var doc = goog.global.document;\n    return doc.attachEvent ? doc.readyState != 'complete' :\n                             doc.readyState == 'loading';\n  };\n\n\n  /**\n   * Tries to detect the base path of base.js script that bootstraps Closure.\n   * @private\n   */\n  goog.findBasePath_ = function() {\n    if (goog.global.CLOSURE_BASE_PATH != undefined &&\n        // Anti DOM-clobbering runtime check (b/37736576).\n        typeof goog.global.CLOSURE_BASE_PATH === 'string') {\n      goog.basePath = goog.global.CLOSURE_BASE_PATH;\n      return;\n    } else if (!goog.inHtmlDocument_()) {\n      return;\n    }\n    /** @type {!Document} */\n    var doc = goog.global.document;\n    // If we have a currentScript available, use it exclusively.\n    var currentScript = doc.currentScript;\n    if (currentScript) {\n      var scripts = [currentScript];\n    } else {\n      var scripts = doc.getElementsByTagName('SCRIPT');\n    }\n    // Search backwards since the current script is in almost all cases the one\n    // that has base.js.\n    for (var i = scripts.length - 1; i >= 0; --i) {\n      var script = /** @type {!HTMLScriptElement} */ (scripts[i]);\n      var src = script.src;\n      var qmark = src.lastIndexOf('?');\n      var l = qmark == -1 ? src.length : qmark;\n      if (src.slice(l - 7, l) == 'base.js') {\n        goog.basePath = src.slice(0, l - 7);\n        return;\n      }\n    }\n  };\n\n  goog.findBasePath_();\n\n  /**\n   * Rewrites closing script tags in input to avoid ending an enclosing script\n   * tag.\n   *\n   * @param {string} str\n   * @return {string}\n   * @private\n   */\n  goog.protectScriptTag_ = function(str) {\n    return str.replace(/<\\/(SCRIPT)/ig, '\\\\x3c/$1');\n  };\n\n\n  /**\n   * A debug loader is responsible for downloading and executing javascript\n   * files in an unbundled, uncompiled environment.\n   *\n   * This can be custimized via the setDependencyFactory method, or by\n   * CLOSURE_IMPORT_SCRIPT/CLOSURE_LOAD_FILE_SYNC.\n   *\n   * @struct @constructor @final @private\n   */\n  goog.DebugLoader_ = function() {\n    /** @private @const {!Object<string, !goog.Dependency>} */\n    this.dependencies_ = {};\n    /** @private @const {!Object<string, string>} */\n    this.idToPath_ = {};\n    /** @private @const {!Object<string, boolean>} */\n    this.written_ = {};\n    /** @private @const {!Array<!goog.Dependency>} */\n    this.loadingDeps_ = [];\n    /** @private {!Array<!goog.Dependency>} */\n    this.depsToLoad_ = [];\n    /** @private {boolean} */\n    this.paused_ = false;\n    /** @private {!goog.DependencyFactory} */\n    this.factory_ = new goog.DependencyFactory();\n    /** @private @const {!Object<string, !Function>} */\n    this.deferredCallbacks_ = {};\n    /** @private @const {!Array<string>} */\n    this.deferredQueue_ = [];\n  };\n\n  /**\n   * @param {!Array<string>} namespaces\n   * @param {function(): undefined} callback Function to call once all the\n   *     namespaces have loaded.\n   */\n  goog.DebugLoader_.prototype.bootstrap = function(namespaces, callback) {\n    var cb = callback;\n    function resolve() {\n      if (cb) {\n        goog.global.setTimeout(cb, 0);\n        cb = null;\n      }\n    }\n\n    if (!namespaces.length) {\n      resolve();\n      return;\n    }\n\n    var deps = [];\n    for (var i = 0; i < namespaces.length; i++) {\n      var path = this.getPathFromDeps_(namespaces[i]);\n      if (!path) {\n        throw new Error('Unregonized namespace: ' + namespaces[i]);\n      }\n      deps.push(this.dependencies_[path]);\n    }\n\n    var require = goog.require;\n    var loaded = 0;\n    for (var i = 0; i < namespaces.length; i++) {\n      require(namespaces[i]);\n      deps[i].onLoad(function() {\n        if (++loaded == namespaces.length) {\n          resolve();\n        }\n      });\n    }\n  };\n\n\n  /**\n   * Loads the Closure Dependency file.\n   *\n   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base\n   * loaded, setDependencyFactory called, and then this called. i.e. allows\n   * custom loading of the deps file.\n   */\n  goog.DebugLoader_.prototype.loadClosureDeps = function() {\n    // Circumvent addDependency, which would try to transpile deps.js if\n    // transpile is set to always.\n    var relPath = 'deps.js';\n    this.depsToLoad_.push(this.factory_.createDependency(\n        goog.normalizePath_(goog.basePath + relPath), relPath, [], [], {}));\n    this.loadDeps_();\n  };\n\n\n  /**\n   * Notifies the debug loader when a dependency has been requested.\n   *\n   * @param {string} absPathOrId Path of the dependency or goog id.\n   * @param {boolean=} opt_force\n   */\n  goog.DebugLoader_.prototype.requested = function(absPathOrId, opt_force) {\n    var path = this.getPathFromDeps_(absPathOrId);\n    if (path &&\n        (opt_force || this.areDepsLoaded_(this.dependencies_[path].requires))) {\n      var callback = this.deferredCallbacks_[path];\n      if (callback) {\n        delete this.deferredCallbacks_[path];\n        callback();\n      }\n    }\n  };\n\n\n  /**\n   * Sets the dependency factory, which can be used to create custom\n   * goog.Dependency implementations to control how dependencies are loaded.\n   *\n   * @param {!goog.DependencyFactory} factory\n   */\n  goog.DebugLoader_.prototype.setDependencyFactory = function(factory) {\n    this.factory_ = factory;\n  };\n\n\n  /**\n   * Travserses the dependency graph and queues the given dependency, and all of\n   * its transitive dependencies, for loading and then starts loading if not\n   * paused.\n   *\n   * @param {string} namespace\n   * @private\n   */\n  goog.DebugLoader_.prototype.load_ = function(namespace) {\n    if (!this.getPathFromDeps_(namespace)) {\n      var errorMessage = 'goog.require could not find: ' + namespace;\n      goog.logToConsole_(errorMessage);\n    } else {\n      var loader = this;\n\n      var deps = [];\n\n      /** @param {string} namespace */\n      var visit = function(namespace) {\n        var path = loader.getPathFromDeps_(namespace);\n\n        if (!path) {\n          throw new Error('Bad dependency path or symbol: ' + namespace);\n        }\n\n        if (loader.written_[path]) {\n          return;\n        }\n\n        loader.written_[path] = true;\n\n        var dep = loader.dependencies_[path];\n        for (var i = 0; i < dep.requires.length; i++) {\n          if (!goog.isProvided_(dep.requires[i])) {\n            visit(dep.requires[i]);\n          }\n        }\n\n        deps.push(dep);\n      };\n\n      visit(namespace);\n\n      var wasLoading = !!this.depsToLoad_.length;\n      this.depsToLoad_ = this.depsToLoad_.concat(deps);\n\n      if (!this.paused_ && !wasLoading) {\n        this.loadDeps_();\n      }\n    }\n  };\n\n\n  /**\n   * Loads any queued dependencies until they are all loaded or paused.\n   *\n   * @private\n   */\n  goog.DebugLoader_.prototype.loadDeps_ = function() {\n    var loader = this;\n    var paused = this.paused_;\n\n    while (this.depsToLoad_.length && !paused) {\n      (function() {\n        var loadCallDone = false;\n        var dep = loader.depsToLoad_.shift();\n\n        var loaded = false;\n        loader.loading_(dep);\n\n        var controller = {\n          pause: function() {\n            if (loadCallDone) {\n              throw new Error('Cannot call pause after the call to load.');\n            } else {\n              paused = true;\n            }\n          },\n          resume: function() {\n            if (loadCallDone) {\n              loader.resume_();\n            } else {\n              // Some dep called pause and then resume in the same load call.\n              // Just keep running this same loop.\n              paused = false;\n            }\n          },\n          loaded: function() {\n            if (loaded) {\n              throw new Error('Double call to loaded.');\n            }\n\n            loaded = true;\n            loader.loaded_(dep);\n          },\n          pending: function() {\n            // Defensive copy.\n            var pending = [];\n            for (var i = 0; i < loader.loadingDeps_.length; i++) {\n              pending.push(loader.loadingDeps_[i]);\n            }\n            return pending;\n          },\n          /**\n           * @param {goog.ModuleType} type\n           */\n          setModuleState: function(type) {\n            goog.moduleLoaderState_ = {\n              type: type,\n              moduleName: '',\n              declareLegacyNamespace: false\n            };\n          },\n          /** @type {function(string, string, string=)} */\n          registerEs6ModuleExports: function(\n              path, exports, opt_closureNamespace) {\n            if (opt_closureNamespace) {\n              goog.loadedModules_[opt_closureNamespace] = {\n                exports: exports,\n                type: goog.ModuleType.ES6,\n                moduleId: opt_closureNamespace || ''\n              };\n            }\n          },\n          /** @type {function(string, ?)} */\n          registerGoogModuleExports: function(moduleId, exports) {\n            goog.loadedModules_[moduleId] = {\n              exports: exports,\n              type: goog.ModuleType.GOOG,\n              moduleId: moduleId\n            };\n          },\n          clearModuleState: function() {\n            goog.moduleLoaderState_ = null;\n          },\n          defer: function(callback) {\n            if (loadCallDone) {\n              throw new Error(\n                  'Cannot register with defer after the call to load.');\n            }\n            loader.defer_(dep, callback);\n          },\n          areDepsLoaded: function() {\n            return loader.areDepsLoaded_(dep.requires);\n          }\n        };\n\n        try {\n          dep.load(controller);\n        } finally {\n          loadCallDone = true;\n        }\n      })();\n    }\n\n    if (paused) {\n      this.pause_();\n    }\n  };\n\n\n  /** @private */\n  goog.DebugLoader_.prototype.pause_ = function() {\n    this.paused_ = true;\n  };\n\n\n  /** @private */\n  goog.DebugLoader_.prototype.resume_ = function() {\n    if (this.paused_) {\n      this.paused_ = false;\n      this.loadDeps_();\n    }\n  };\n\n\n  /**\n   * Marks the given dependency as loading (load has been called but it has not\n   * yet marked itself as finished). Useful for dependencies that want to know\n   * what else is loading. Example: goog.modules cannot eval if there are\n   * loading dependencies.\n   *\n   * @param {!goog.Dependency} dep\n   * @private\n   */\n  goog.DebugLoader_.prototype.loading_ = function(dep) {\n    this.loadingDeps_.push(dep);\n  };\n\n\n  /**\n   * Marks the given dependency as having finished loading and being available\n   * for require.\n   *\n   * @param {!goog.Dependency} dep\n   * @private\n   */\n  goog.DebugLoader_.prototype.loaded_ = function(dep) {\n    for (var i = 0; i < this.loadingDeps_.length; i++) {\n      if (this.loadingDeps_[i] == dep) {\n        this.loadingDeps_.splice(i, 1);\n        break;\n      }\n    }\n\n    for (var i = 0; i < this.deferredQueue_.length; i++) {\n      if (this.deferredQueue_[i] == dep.path) {\n        this.deferredQueue_.splice(i, 1);\n        break;\n      }\n    }\n\n    if (this.loadingDeps_.length == this.deferredQueue_.length &&\n        !this.depsToLoad_.length) {\n      // Something has asked to load these, but they may not be directly\n      // required again later, so load them now that we know we're done loading\n      // everything else. e.g. a goog module entry point.\n      while (this.deferredQueue_.length) {\n        this.requested(this.deferredQueue_.shift(), true);\n      }\n    }\n\n    dep.loaded();\n  };\n\n\n  /**\n   * @param {!Array<string>} pathsOrIds\n   * @return {boolean}\n   * @private\n   */\n  goog.DebugLoader_.prototype.areDepsLoaded_ = function(pathsOrIds) {\n    for (var i = 0; i < pathsOrIds.length; i++) {\n      var path = this.getPathFromDeps_(pathsOrIds[i]);\n      if (!path ||\n          (!(path in this.deferredCallbacks_) &&\n           !goog.isProvided_(pathsOrIds[i]))) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * @param {string} absPathOrId\n   * @return {?string}\n   * @private\n   */\n  goog.DebugLoader_.prototype.getPathFromDeps_ = function(absPathOrId) {\n    if (absPathOrId in this.idToPath_) {\n      return this.idToPath_[absPathOrId];\n    } else if (absPathOrId in this.dependencies_) {\n      return absPathOrId;\n    } else {\n      return null;\n    }\n  };\n\n\n  /**\n   * @param {!goog.Dependency} dependency\n   * @param {!Function} callback\n   * @private\n   */\n  goog.DebugLoader_.prototype.defer_ = function(dependency, callback) {\n    this.deferredCallbacks_[dependency.path] = callback;\n    this.deferredQueue_.push(dependency.path);\n  };\n\n\n  /**\n   * Interface for goog.Dependency implementations to have some control over\n   * loading of dependencies.\n   *\n   * @record\n   */\n  goog.LoadController = function() {};\n\n\n  /**\n   * Tells the controller to halt loading of more dependencies.\n   */\n  goog.LoadController.prototype.pause = function() {};\n\n\n  /**\n   * Tells the controller to resume loading of more dependencies if paused.\n   */\n  goog.LoadController.prototype.resume = function() {};\n\n\n  /**\n   * Tells the controller that this dependency has finished loading.\n   *\n   * This causes this to be removed from pending() and any load callbacks to\n   * fire.\n   */\n  goog.LoadController.prototype.loaded = function() {};\n\n\n  /**\n   * List of dependencies on which load has been called but which have not\n   * called loaded on their controller. This includes the current dependency.\n   *\n   * @return {!Array<!goog.Dependency>}\n   */\n  goog.LoadController.prototype.pending = function() {};\n\n\n  /**\n   * Registers an object as an ES6 module's exports so that goog.modules may\n   * require it by path.\n   *\n   * @param {string} path Full path of the module.\n   * @param {?} exports\n   * @param {string=} opt_closureNamespace Closure namespace to associate with\n   *     this module.\n   */\n  goog.LoadController.prototype.registerEs6ModuleExports = function(\n      path, exports, opt_closureNamespace) {};\n\n\n  /**\n   * Sets the current module state.\n   *\n   * @param {goog.ModuleType} type Type of module.\n   */\n  goog.LoadController.prototype.setModuleState = function(type) {};\n\n\n  /**\n   * Clears the current module state.\n   */\n  goog.LoadController.prototype.clearModuleState = function() {};\n\n\n  /**\n   * Registers a callback to call once the dependency is actually requested\n   * via goog.require + all of the immediate dependencies have been loaded or\n   * all other files have been loaded. Allows for lazy loading until\n   * require'd without pausing dependency loading, which is needed on old IE.\n   *\n   * @param {!Function} callback\n   */\n  goog.LoadController.prototype.defer = function(callback) {};\n\n\n  /**\n   * @return {boolean}\n   */\n  goog.LoadController.prototype.areDepsLoaded = function() {};\n\n\n  /**\n   * Basic super class for all dependencies Closure Library can load.\n   *\n   * This default implementation is designed to load untranspiled, non-module\n   * scripts in a web broswer.\n   *\n   * For goog.modules see {@see goog.GoogModuleDependency}.\n   * For untranspiled ES6 modules {@see goog.Es6ModuleDependency}.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   */\n  goog.Dependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    /** @const */\n    this.path = path;\n    /** @const */\n    this.relativePath = relativePath;\n    /** @const */\n    this.provides = provides;\n    /** @const */\n    this.requires = requires;\n    /** @const */\n    this.loadFlags = loadFlags;\n    /** @private {boolean} */\n    this.loaded_ = false;\n    /** @private {!Array<function()>} */\n    this.loadCallbacks_ = [];\n  };\n\n\n  /**\n   * @return {string} The pathname part of this dependency's path if it is a\n   *     URI.\n   */\n  goog.Dependency.prototype.getPathName = function() {\n    var pathName = this.path;\n    var protocolIndex = pathName.indexOf('://');\n    if (protocolIndex >= 0) {\n      pathName = pathName.substring(protocolIndex + 3);\n      var slashIndex = pathName.indexOf('/');\n      if (slashIndex >= 0) {\n        pathName = pathName.substring(slashIndex + 1);\n      }\n    }\n    return pathName;\n  };\n\n\n  /**\n   * @param {function()} callback Callback to fire as soon as this has loaded.\n   * @final\n   */\n  goog.Dependency.prototype.onLoad = function(callback) {\n    if (this.loaded_) {\n      callback();\n    } else {\n      this.loadCallbacks_.push(callback);\n    }\n  };\n\n\n  /**\n   * Marks this dependency as loaded and fires any callbacks registered with\n   * onLoad.\n   * @final\n   */\n  goog.Dependency.prototype.loaded = function() {\n    this.loaded_ = true;\n    var callbacks = this.loadCallbacks_;\n    this.loadCallbacks_ = [];\n    for (var i = 0; i < callbacks.length; i++) {\n      callbacks[i]();\n    }\n  };\n\n\n  /**\n   * Whether or not document.written / appended script tags should be deferred.\n   *\n   * @private {boolean}\n   */\n  goog.Dependency.defer_ = false;\n\n\n  /**\n   * Map of script ready / state change callbacks. Old IE cannot handle putting\n   * these properties on goog.global.\n   *\n   * @private @const {!Object<string, function(?):undefined>}\n   */\n  goog.Dependency.callbackMap_ = {};\n\n\n  /**\n   * @param {function(...?):?} callback\n   * @return {string}\n   * @private\n   */\n  goog.Dependency.registerCallback_ = function(callback) {\n    var key = Math.random().toString(32);\n    goog.Dependency.callbackMap_[key] = callback;\n    return key;\n  };\n\n\n  /**\n   * @param {string} key\n   * @private\n   */\n  goog.Dependency.unregisterCallback_ = function(key) {\n    delete goog.Dependency.callbackMap_[key];\n  };\n\n\n  /**\n   * @param {string} key\n   * @param {...?} var_args\n   * @private\n   * @suppress {unusedPrivateMembers}\n   */\n  goog.Dependency.callback_ = function(key, var_args) {\n    if (key in goog.Dependency.callbackMap_) {\n      var callback = goog.Dependency.callbackMap_[key];\n      var args = [];\n      for (var i = 1; i < arguments.length; i++) {\n        args.push(arguments[i]);\n      }\n      callback.apply(undefined, args);\n    } else {\n      var errorMessage = 'Callback key ' + key +\n          ' does not exist (was base.js loaded more than once?).';\n      throw Error(errorMessage);\n    }\n  };\n\n\n  /**\n   * Starts loading this dependency. This dependency can pause loading if it\n   * needs to and resume it later via the controller interface.\n   *\n   * When this is loaded it should call controller.loaded(). Note that this will\n   * end up calling the loaded method of this dependency; there is no need to\n   * call it explicitly.\n   *\n   * @param {!goog.LoadController} controller\n   */\n  goog.Dependency.prototype.load = function(controller) {\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) {\n      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n    if (!goog.inHtmlDocument_()) {\n      goog.logToConsole_(\n          'Cannot use default debug loader outside of HTML documents.');\n      if (this.relativePath == 'deps.js') {\n        // Some old code is relying on base.js auto loading deps.js failing with\n        // no error before later setting CLOSURE_IMPORT_SCRIPT.\n        // CLOSURE_IMPORT_SCRIPT should be set *before* base.js is loaded, or\n        // CLOSURE_NO_DEPS set to true.\n        goog.logToConsole_(\n            'Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, ' +\n            'or setting CLOSURE_NO_DEPS to true.');\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n    /** @type {!HTMLDocument} */\n    var doc = goog.global.document;\n\n    // If the user tries to require a new symbol after document load,\n    // something has gone terribly wrong. Doing a document.write would\n    // wipe out the page. This does not apply to the CSP-compliant method\n    // of writing script tags.\n    if (doc.readyState == 'complete' &&\n        !goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {\n      // Certain test frameworks load base.js multiple times, which tries\n      // to write deps.js each time. If that happens, just fail silently.\n      // These frameworks wipe the page between each load of base.js, so this\n      // is OK.\n      var isDeps = /\\bdeps.js$/.test(this.path);\n      if (isDeps) {\n        controller.loaded();\n        return;\n      } else {\n        throw Error('Cannot write \"' + this.path + '\" after document load');\n      }\n    }\n\n    var nonce = goog.getScriptNonce_();\n    if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&\n        goog.isDocumentLoading_()) {\n      var key;\n      var callback = function(script) {\n        if (script.readyState && script.readyState != 'complete') {\n          script.onload = callback;\n          return;\n        }\n        goog.Dependency.unregisterCallback_(key);\n        controller.loaded();\n      };\n      key = goog.Dependency.registerCallback_(callback);\n\n      var defer = goog.Dependency.defer_ ? ' defer' : '';\n      var nonceAttr = nonce ? ' nonce=\"' + nonce + '\"' : '';\n      var script = '<script src=\"' + this.path + '\"' + nonceAttr + defer +\n          ' id=\"script-' + key + '\"><\\/script>';\n\n      script += '<script' + nonceAttr + '>';\n\n      if (goog.Dependency.defer_) {\n        script += 'document.getElementById(\\'script-' + key +\n            '\\').onload = function() {\\n' +\n            '  goog.Dependency.callback_(\\'' + key + '\\', this);\\n' +\n            '};\\n';\n      } else {\n        script += 'goog.Dependency.callback_(\\'' + key +\n            '\\', document.getElementById(\\'script-' + key + '\\'));';\n      }\n\n      script += '<\\/script>';\n\n      doc.write(\n          goog.TRUSTED_TYPES_POLICY_ ?\n              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n              script);\n    } else {\n      var scriptEl =\n          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));\n      scriptEl.defer = goog.Dependency.defer_;\n      scriptEl.async = false;\n\n      // If CSP nonces are used, propagate them to dynamically created scripts.\n      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.\n      if (nonce) {\n        scriptEl.nonce = nonce;\n      }\n\n      scriptEl.onload = function() {\n        scriptEl.onload = null;\n        controller.loaded();\n      };\n\n      scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?\n          goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path) :\n          this.path;\n      doc.head.appendChild(scriptEl);\n    }\n  };\n\n\n  /**\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides Should be an empty array.\n   *     TODO(johnplaisted) add support for adding closure namespaces to ES6\n   *     modules for interop purposes.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   * @extends {goog.Dependency}\n   */\n  goog.Es6ModuleDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.Es6ModuleDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n  };\n  goog.inherits(goog.Es6ModuleDependency, goog.Dependency);\n\n\n  /**\n   * @override\n   * @param {!goog.LoadController} controller\n   */\n  goog.Es6ModuleDependency.prototype.load = function(controller) {\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) {\n      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n    if (!goog.inHtmlDocument_()) {\n      goog.logToConsole_(\n          'Cannot use default debug loader outside of HTML documents.');\n      controller.pause();\n      return;\n    }\n\n    /** @type {!HTMLDocument} */\n    var doc = goog.global.document;\n\n    var dep = this;\n\n    // TODO(johnplaisted): Does document.writing really speed up anything? Any\n    // difference between this and just waiting for interactive mode and then\n    // appending?\n    function write(src, contents) {\n      var nonceAttr = '';\n      var nonce = goog.getScriptNonce_();\n      if (nonce) {\n        nonceAttr = ' nonce=\"' + nonce + '\"';\n      }\n\n      if (contents) {\n        var script = '<script type=\"module\" crossorigin' + nonceAttr + '>' +\n            contents + '</' +\n            'script>';\n        doc.write(\n            goog.TRUSTED_TYPES_POLICY_ ?\n                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n                script);\n      } else {\n        var script = '<script type=\"module\" crossorigin src=\"' + src + '\"' +\n            nonceAttr + '></' +\n            'script>';\n        doc.write(\n            goog.TRUSTED_TYPES_POLICY_ ?\n                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n                script);\n      }\n    }\n\n    function append(src, contents) {\n      var scriptEl =\n          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));\n      scriptEl.defer = true;\n      scriptEl.async = false;\n      scriptEl.type = 'module';\n      scriptEl.setAttribute('crossorigin', true);\n\n      // If CSP nonces are used, propagate them to dynamically created scripts.\n      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.\n      var nonce = goog.getScriptNonce_();\n      if (nonce) {\n        scriptEl.nonce = nonce;\n      }\n\n      if (contents) {\n        scriptEl.text = goog.TRUSTED_TYPES_POLICY_ ?\n            goog.TRUSTED_TYPES_POLICY_.createScript(contents) :\n            contents;\n      } else {\n        scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?\n            goog.TRUSTED_TYPES_POLICY_.createScriptURL(src) :\n            src;\n      }\n\n      doc.head.appendChild(scriptEl);\n    }\n\n    var create;\n\n    if (goog.isDocumentLoading_()) {\n      create = write;\n      // We can ONLY call document.write if we are guaranteed that any\n      // non-module script tags document.written after this are deferred.\n      // Small optimization, in theory document.writing is faster.\n      goog.Dependency.defer_ = true;\n    } else {\n      create = append;\n    }\n\n    // Write 4 separate tags here:\n    // 1) Sets the module state at the correct time (just before execution).\n    // 2) A src node for this, which just hopefully lets the browser load it a\n    //    little early (no need to parse #3).\n    // 3) Import the module and register it.\n    // 4) Clear the module state at the correct time. Guaranteed to run even\n    //    if there is an error in the module (#3 will not run if there is an\n    //    error in the module).\n    var beforeKey = goog.Dependency.registerCallback_(function() {\n      goog.Dependency.unregisterCallback_(beforeKey);\n      controller.setModuleState(goog.ModuleType.ES6);\n    });\n    create(undefined, 'goog.Dependency.callback_(\"' + beforeKey + '\")');\n\n    // TODO(johnplaisted): Does this really speed up anything?\n    create(this.path, undefined);\n\n    var registerKey = goog.Dependency.registerCallback_(function(exports) {\n      goog.Dependency.unregisterCallback_(registerKey);\n      controller.registerEs6ModuleExports(\n          dep.path, exports, goog.moduleLoaderState_.moduleName);\n    });\n    create(\n        undefined,\n        'import * as m from \"' + this.path + '\"; goog.Dependency.callback_(\"' +\n            registerKey + '\", m)');\n\n    var afterKey = goog.Dependency.registerCallback_(function() {\n      goog.Dependency.unregisterCallback_(afterKey);\n      controller.clearModuleState();\n      controller.loaded();\n    });\n    create(undefined, 'goog.Dependency.callback_(\"' + afterKey + '\")');\n  };\n\n\n  /**\n   * Superclass of any dependency that needs to be loaded into memory,\n   * transformed, and then eval'd (goog.modules and transpiled files).\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor @abstract\n   * @extends {goog.Dependency}\n   */\n  goog.TransformedDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.TransformedDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n    /** @private {?string} */\n    this.contents_ = null;\n\n    /**\n     * Whether to lazily make the synchronous XHR (when goog.require'd) or make\n     * the synchronous XHR when initially loading. On FireFox 61 there is a bug\n     * where an ES6 module cannot make a synchronous XHR (rather, it can, but if\n     * it does then no other ES6 modules will load after).\n     *\n     * tl;dr we lazy load due to bugs on older browsers and eager load due to\n     * bugs on newer ones.\n     *\n     * https://bugzilla.mozilla.org/show_bug.cgi?id=1477090\n     *\n     * @private @const {boolean}\n     */\n    this.lazyFetch_ = !goog.inHtmlDocument_() ||\n        !('noModule' in goog.global.document.createElement('script'));\n  };\n  goog.inherits(goog.TransformedDependency, goog.Dependency);\n\n\n  /**\n   * @override\n   * @param {!goog.LoadController} controller\n   */\n  goog.TransformedDependency.prototype.load = function(controller) {\n    var dep = this;\n\n    function fetch() {\n      dep.contents_ = goog.loadFileSync_(dep.path);\n\n      if (dep.contents_) {\n        dep.contents_ = dep.transform(dep.contents_);\n        if (dep.contents_) {\n          dep.contents_ += '\\n//# sourceURL=' + dep.path;\n        }\n      }\n    }\n\n    if (goog.global.CLOSURE_IMPORT_SCRIPT) {\n      fetch();\n      if (this.contents_ &&\n          goog.global.CLOSURE_IMPORT_SCRIPT('', this.contents_)) {\n        this.contents_ = null;\n        controller.loaded();\n      } else {\n        controller.pause();\n      }\n      return;\n    }\n\n\n    var isEs6 = this.loadFlags['module'] == goog.ModuleType.ES6;\n\n    if (!this.lazyFetch_) {\n      fetch();\n    }\n\n    function load() {\n      if (dep.lazyFetch_) {\n        fetch();\n      }\n\n      if (!dep.contents_) {\n        // loadFileSync_ or transform are responsible. Assume they logged an\n        // error.\n        return;\n      }\n\n      if (isEs6) {\n        controller.setModuleState(goog.ModuleType.ES6);\n      }\n\n      var namespace;\n\n      try {\n        var contents = dep.contents_;\n        dep.contents_ = null;\n        goog.globalEval(goog.CLOSURE_EVAL_PREFILTER_.createScript(contents));\n        if (isEs6) {\n          namespace = goog.moduleLoaderState_.moduleName;\n        }\n      } finally {\n        if (isEs6) {\n          controller.clearModuleState();\n        }\n      }\n\n      if (isEs6) {\n        // Due to circular dependencies this may not be available for require\n        // right now.\n        goog.global['$jscomp']['require']['ensure'](\n            [dep.getPathName()], function() {\n              controller.registerEs6ModuleExports(\n                  dep.path,\n                  goog.global['$jscomp']['require'](dep.getPathName()),\n                  namespace);\n            });\n      }\n\n      controller.loaded();\n    }\n\n    // Do not fetch now; in FireFox 47 the synchronous XHR doesn't block all\n    // events. If we fetched now and then document.write'd the contents the\n    // document.write would be an eval and would execute too soon! Instead write\n    // a script tag to fetch and eval synchronously at the correct time.\n    function fetchInOwnScriptThenLoad() {\n      /** @type {!HTMLDocument} */\n      var doc = goog.global.document;\n\n      var key = goog.Dependency.registerCallback_(function() {\n        goog.Dependency.unregisterCallback_(key);\n        load();\n      });\n\n      var nonce = goog.getScriptNonce_();\n      var nonceAttr = nonce ? ' nonce=\"' + nonce + '\"' : '';\n      var script = '<script' + nonceAttr + '>' +\n          goog.protectScriptTag_('goog.Dependency.callback_(\"' + key + '\");') +\n          '</' +\n          'script>';\n      doc.write(\n          goog.TRUSTED_TYPES_POLICY_ ?\n              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :\n              script);\n    }\n\n    // If one thing is pending it is this.\n    var anythingElsePending = controller.pending().length > 1;\n\n    // Additionally if we are meant to defer scripts but the page is still\n    // loading (e.g. an ES6 module is loading) then also defer. Or if we are\n    // meant to defer and anything else is pending then defer (those may be\n    // scripts that did not need transformation and are just script tags with\n    // defer set to true, and we need to evaluate after that deferred script).\n    var needsAsyncLoading = goog.Dependency.defer_ &&\n        (anythingElsePending || goog.isDocumentLoading_());\n\n    if (needsAsyncLoading) {\n      // Note that we only defer when we have to rather than 100% of the time.\n      // Always defering would work, but then in theory the order of\n      // goog.require calls would then matter. We want to enforce that most of\n      // the time the order of the require calls does not matter.\n      controller.defer(function() {\n        load();\n      });\n      return;\n    }\n    // TODO(johnplaisted): Externs are missing onreadystatechange for\n    // HTMLDocument.\n    /** @type {?} */\n    var doc = goog.global.document;\n\n    var isInternetExplorerOrEdge = goog.inHtmlDocument_() &&\n        ('ActiveXObject' in goog.global || goog.isEdge_());\n\n    // Don't delay in any version of IE or pre-Chromium Edge. There's a bug\n    // around this that will cause out of order script execution. This means\n    // that on older IE ES6 modules will load too early (while the document is\n    // still loading + the dom is not available). The other option is to load\n    // too late (when the document is complete and the onload even will never\n    // fire). This seems to be the lesser of two evils as scripts already act\n    // like the former.\n    if (isEs6 && goog.inHtmlDocument_() && goog.isDocumentLoading_() &&\n        !isInternetExplorerOrEdge) {\n      goog.Dependency.defer_ = true;\n      // Transpiled ES6 modules still need to load like regular ES6 modules,\n      // aka only after the document is interactive.\n      controller.pause();\n      var oldCallback = doc.onreadystatechange;\n      doc.onreadystatechange = function() {\n        if (doc.readyState == 'interactive') {\n          doc.onreadystatechange = oldCallback;\n          load();\n          controller.resume();\n        }\n        if (typeof oldCallback === 'function') {\n          oldCallback.apply(undefined, arguments);\n        }\n      };\n    } else {\n      // Always eval on old IE.\n      if (!goog.inHtmlDocument_() || !goog.isDocumentLoading_()) {\n        load();\n      } else {\n        fetchInOwnScriptThenLoad();\n      }\n    }\n  };\n\n\n  /**\n   * @param {string} contents\n   * @return {string}\n   * @abstract\n   */\n  goog.TransformedDependency.prototype.transform = function(contents) {};\n\n\n  /**\n   * An ES6 module dependency that was transpiled to a jscomp module outside\n   * of the debug loader, e.g. server side.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   * @extends {goog.TransformedDependency}\n   */\n  goog.PreTranspiledEs6ModuleDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.PreTranspiledEs6ModuleDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n  };\n  goog.inherits(\n      goog.PreTranspiledEs6ModuleDependency, goog.TransformedDependency);\n\n\n  /**\n   * @override\n   * @param {string} contents\n   * @return {string}\n   */\n  goog.PreTranspiledEs6ModuleDependency.prototype.transform = function(\n      contents) {\n    return contents;\n  };\n\n\n  /**\n   * A goog.module, transpiled or not. Will always perform some minimal\n   * transformation even when not transpiled to wrap in a goog.loadModule\n   * statement.\n   *\n   * @param {string} path Absolute path of this script.\n   * @param {string} relativePath Path of this script relative to goog.basePath.\n   * @param {!Array<string>} provides goog.provided or goog.module symbols\n   *     in this file.\n   * @param {!Array<string>} requires goog symbols or relative paths to Closure\n   *     this depends on.\n   * @param {!Object<string, string>} loadFlags\n   * @struct @constructor\n   * @extends {goog.TransformedDependency}\n   */\n  goog.GoogModuleDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n    goog.GoogModuleDependency.base(\n        this, 'constructor', path, relativePath, provides, requires, loadFlags);\n  };\n  goog.inherits(goog.GoogModuleDependency, goog.TransformedDependency);\n\n\n  /**\n   * @override\n   * @param {string} contents\n   * @return {string}\n   */\n  goog.GoogModuleDependency.prototype.transform = function(contents) {\n    if (!goog.LOAD_MODULE_USING_EVAL || goog.global.JSON === undefined) {\n      return '' +\n          'goog.loadModule(function(exports) {' +\n          '\"use strict\";' + contents +\n          '\\n' +  // terminate any trailing single line comment.\n          ';return exports' +\n          '});' +\n          '\\n//# sourceURL=' + this.path + '\\n';\n    } else {\n      return '' +\n          'goog.loadModule(' +\n          goog.global.JSON.stringify(\n              contents + '\\n//# sourceURL=' + this.path + '\\n') +\n          ');';\n    }\n  };\n\n\n  /**\n   * @param {string} relPath\n   * @param {!Array<string>|undefined} provides\n   * @param {!Array<string>} requires\n   * @param {boolean|!Object<string>=} opt_loadFlags\n   * @see goog.addDependency\n   */\n  goog.DebugLoader_.prototype.addDependency = function(\n      relPath, provides, requires, opt_loadFlags) {\n    provides = provides || [];\n    relPath = relPath.replace(/\\\\/g, '/');\n    var path = goog.normalizePath_(goog.basePath + relPath);\n    if (!opt_loadFlags || typeof opt_loadFlags === 'boolean') {\n      opt_loadFlags = opt_loadFlags ? {'module': goog.ModuleType.GOOG} : {};\n    }\n    var dep = this.factory_.createDependency(\n        path, relPath, provides, requires, opt_loadFlags);\n    this.dependencies_[path] = dep;\n    for (var i = 0; i < provides.length; i++) {\n      this.idToPath_[provides[i]] = path;\n    }\n    this.idToPath_[relPath] = path;\n  };\n\n\n  /**\n   * Creates goog.Dependency instances for the debug loader to load.\n   *\n   * Should be overridden to have the debug loader use custom subclasses of\n   * goog.Dependency.\n   *\n   * @struct @constructor\n   */\n  goog.DependencyFactory = function() {};\n\n\n  /**\n   * @param {string} path Absolute path of the file.\n   * @param {string} relativePath Path relative to closure\u2019s base.js.\n   * @param {!Array<string>} provides Array of provided goog.provide/module ids.\n   * @param {!Array<string>} requires Array of required goog.provide/module /\n   *     relative ES6 module paths.\n   * @param {!Object<string, string>} loadFlags\n   * @return {!goog.Dependency}\n   */\n  goog.DependencyFactory.prototype.createDependency = function(\n      path, relativePath, provides, requires, loadFlags) {\n\n    if (loadFlags['module'] == goog.ModuleType.GOOG) {\n      return new goog.GoogModuleDependency(\n          path, relativePath, provides, requires, loadFlags);\n    } else {\n      if (loadFlags['module'] == goog.ModuleType.ES6) {\n        if (goog.ASSUME_ES_MODULES_TRANSPILED) {\n          return new goog.PreTranspiledEs6ModuleDependency(\n              path, relativePath, provides, requires, loadFlags);\n        } else {\n          return new goog.Es6ModuleDependency(\n              path, relativePath, provides, requires, loadFlags);\n        }\n      } else {\n        return new goog.Dependency(\n            path, relativePath, provides, requires, loadFlags);\n      }\n    }\n  };\n\n\n  /** @private @const */\n  goog.debugLoader_ = new goog.DebugLoader_();\n\n\n  /**\n   * Loads the Closure Dependency file.\n   *\n   * Exposed a public function so CLOSURE_NO_DEPS can be set to false, base\n   * loaded, setDependencyFactory called, and then this called. i.e. allows\n   * custom loading of the deps file.\n   */\n  goog.loadClosureDeps = function() {\n    goog.debugLoader_.loadClosureDeps();\n  };\n\n\n  /**\n   * Sets the dependency factory, which can be used to create custom\n   * goog.Dependency implementations to control how dependencies are loaded.\n   *\n   * Note: if you wish to call this function and provide your own implemnetation\n   * it is a wise idea to set CLOSURE_NO_DEPS to true, otherwise the dependency\n   * file and all of its goog.addDependency calls will use the default factory.\n   * You can call goog.loadClosureDeps to load the Closure dependency file\n   * later, after your factory is injected.\n   *\n   * @param {!goog.DependencyFactory} factory\n   */\n  goog.setDependencyFactory = function(factory) {\n    goog.debugLoader_.setDependencyFactory(factory);\n  };\n\n\n  /**\n   * Trusted Types policy for the debug loader.\n   * @private @const {?TrustedTypePolicy}\n   */\n  goog.TRUSTED_TYPES_POLICY_ = goog.TRUSTED_TYPES_POLICY_NAME ?\n      goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + '#base') :\n      null;\n\n  if (!goog.global.CLOSURE_NO_DEPS) {\n    goog.debugLoader_.loadClosureDeps();\n  }\n\n\n  /**\n   * Bootstraps the given namespaces and calls the callback once they are\n   * available either via goog.require. This is a replacement for using\n   * `goog.require` to bootstrap Closure JavaScript. Previously a `goog.require`\n   * in an HTML file would guarantee that the require'd namespace was available\n   * in the next immediate script tag. With ES6 modules this no longer a\n   * guarantee.\n   *\n   * @param {!Array<string>} namespaces\n   * @param {function(): ?} callback Function to call once all the namespaces\n   *     have loaded. Always called asynchronously.\n   */\n  goog.bootstrap = function(namespaces, callback) {\n    goog.debugLoader_.bootstrap(namespaces, callback);\n  };\n}\n\n\nif (!COMPILED) {\n  var isChrome87 = false;\n  // Cannot run check for Chrome <87 bug in case of strict CSP environments.\n  // TODO(user): Remove once Chrome <87 bug is no longer a problem.\n  try {\n    isChrome87 = eval(goog.global.trustedTypes.emptyScript) !==\n        goog.global.trustedTypes.emptyScript;\n  } catch (err) {\n  }\n\n  /**\n   * Trusted Types for running dev servers.\n   *\n   * @private @const\n   */\n  goog.CLOSURE_EVAL_PREFILTER_ =\n      // Detect Chrome <87 bug with TT and eval.\n      goog.global.trustedTypes && isChrome87 &&\n          goog.createTrustedTypesPolicy('goog#base#devonly#eval') ||\n      {createScript: goog.identity_};\n}\n","import { encoder, decoder } from \"../utils/text-encoders.js\";\nimport * as constants from \"./constants.js\";\n\nconst googPath = goog.require(\"goog.string.path\");\n\n/** @define {boolean} */\nconst DEBUG_WASI = goog.define(\"DEBUG_WASI\", false);\n\nfunction removeLeadingSlash(path) {\n  return path.replace(/^\\//g, \"\");\n}\n\nfunction splitPathSegments(path) {\n  if (!path) {\n    return [];\n  }\n  return path\n    .split(\"/\")\n    .filter((segment) => segment.length > 0 && segment !== \".\");\n}\n\nfunction normalizeAbsolutePath(path) {\n  if (!path) {\n    return \"/\";\n  }\n  const segments = splitPathSegments(path);\n  const resolved = [];\n  segments.forEach((segment) => {\n    if (segment === \"..\") {\n      if (resolved.length > 0) {\n        resolved.pop();\n      }\n    } else {\n      resolved.push(segment);\n    }\n  });\n  return resolved.length > 0 ? `/${resolved.join(\"/\")}` : \"/\";\n}\n\nfunction ensureAbsolutePath(basePath, path) {\n  if (!path || path === \".\") {\n    return normalizeAbsolutePath(basePath || \"/\");\n  }\n  if (/^\\//.test(path)) {\n    return normalizeAbsolutePath(path);\n  }\n  const baseSegments = splitPathSegments(basePath || \"/\");\n  const relativeSegments = path.split(\"/\");\n  const resolvedSegments = [...baseSegments];\n  relativeSegments.forEach((segment) => {\n    if (!segment || segment === \".\") {\n      return;\n    }\n    if (segment === \"..\") {\n      if (resolvedSegments.length > 0) {\n        resolvedSegments.pop();\n      }\n      return;\n    }\n    resolvedSegments.push(segment);\n  });\n  return resolvedSegments.length > 0 ? `/${resolvedSegments.join(\"/\")}` : \"/\";\n}\n\nfunction shouldOpenReader(rights) {\n  /** @suppress {checkTypes} */\n  const bor = constants.WASI_RIGHT_FD_READ | constants.WASI_RIGHT_FD_READDIR;\n  /** @suppress {suspiciousCode} */\n  const result = (rights & bor) !== goog.global.BigInt(0);\n  return result;\n}\n\nfunction performanceNowPoly() {\n  /* eslint-disable-next-line unicorn/no-typeof-undefined */\n  if (typeof performance === \"undefined\" || typeof performance.now === \"undefined\") {\n    const nowOffset = Date.now();\n    return Date.now() - nowOffset;\n  } else {\n    return performance.now();\n  }\n}\n\nfunction concatUint8Arrays(arrays) {\n  // sum of individual array lengths\n  const totalLength = arrays.reduce((accumulator, value) => accumulator + value.length, 0);\n\n  if (arrays.length === 0) return;\n\n  const result = new Uint8Array(totalLength);\n\n  // for each array - copy it over result\n  // next array is copied right after the previous one\n  let length = 0;\n  for (const array of arrays) {\n    result.set(array, length);\n    length += array.length;\n  }\n\n  return result;\n}\n\n/**\n * @constructor\n * @this {WasiThis}\n */\nexport const WASI = function ({ preopens }) {\n  this.fd = Array.from({ length: 4 });\n\n  this.fd[0] = { fd: 0, path: \"/dev/stdin\", seekPos: goog.global.BigInt(0), buffers: [] };\n  this.fd[1] = { fd: 1, path: \"/dev/stdout\", seekPos: goog.global.BigInt(0), buffers: [] };\n  this.fd[2] = { fd: 2, path: \"/dev/stderr\", seekPos: goog.global.BigInt(0), buffers: [] };\n  this.fd[3] = { fd: 3, path: \"/\", seekPos: goog.global.BigInt(0), buffers: [], type: \"dir\" };\n\n  this.getMemory = this.getMemory.bind(this);\n  this.CPUTIME_START = 0;\n  this.cwd = \"/\";\n  this.preopens = preopens || {};\n};\n\n/**\n * @function\n * @param {!WasmInst} instance\n */\nWASI.prototype.start = function (instance) {\n  this.CPUTIME_START = performanceNowPoly();\n  const exports = instance[\"exports\"];\n  exports[\"_start\"]();\n};\n\n/**\n * @function\n * @param {!WebAssembly.Module} module\n */\nWASI.prototype.getImports = function (module) {\n  const options = {};\n  const neededImports = WebAssembly.Module.imports(module);\n\n  for (const neededImport of neededImports) {\n    if (neededImport[\"kind\"] === \"function\" && neededImport.module.startsWith(\"wasi_\")) {\n      if (typeof options[neededImport[\"module\"]] !== \"object\") {\n        options[neededImport[\"module\"]] = {};\n      }\n      options[neededImport[\"module\"]][neededImport[\"name\"]] = this[neededImport[\"name\"]].bind(this);\n    }\n  }\n\n  return options;\n};\n\n/**\n * @function\n * @param {!WebAssembly.Memory} memory\n */\nWASI.prototype.setMemory = function (memory) {\n  this.memory = memory;\n};\n\n/**\n * @function\n * @return {DataView}\n */\nWASI.prototype.getMemory = function () {\n  if (!this.view || !this.view.buffer || !this.view.buffer.byteLength) {\n    this.view = new DataView(this.memory.buffer);\n  }\n  return this.view;\n};\n\n/**\n * @function\n * @param {string} path\n * @return {string}\n */\nWASI.prototype.resolvePath = function (path) {\n  return ensureAbsolutePath(this.cwd, path);\n};\n\n/**\n * @function\n * @param {string} filePath\n * @return {?Object}\n */\nWASI.prototype.findEntry = function (filePath) {\n  const normalized = normalizeAbsolutePath(filePath);\n  const entries = Object.values(this.fd);\n  for (const entry of entries) {\n    if (entry && entry.path === normalized) {\n      return entry;\n    }\n  }\n  // eslint-disable-next-line unicorn/no-null\n  return null;\n};\n\n/**\n * @function\n * @param {string} path\n * @return {number}\n */\nWASI.prototype.chdir = function (path) {\n  const targetPath = normalizeAbsolutePath(ensureAbsolutePath(this.cwd, path));\n\n  if (targetPath === \"/\") {\n    this.cwd = \"/\";\n    if (this.fd[3]) {\n      this.fd[3].path = \"/\";\n      this.fd[3].type = \"dir\";\n    }\n    return constants.WASI_ESUCCESS;\n  }\n\n  const entry = this.findEntry(targetPath);\n\n  if (!entry) {\n    if (DEBUG_WASI) {\n      console.warn(`chdir: path ${targetPath} does not exist`);\n    }\n    return constants.WASI_ENOENT;\n  }\n\n  if (entry.type && entry.type !== \"dir\") {\n    if (DEBUG_WASI) {\n      console.warn(`chdir: path ${targetPath} not a directory`);\n    }\n    return constants.WASI_ENOTDIR;\n  }\n\n  this.cwd = targetPath;\n  if (this.fd[3]) {\n    this.fd[3].path = targetPath;\n    this.fd[3].type = \"dir\";\n  }\n\n  return constants.WASI_ESUCCESS;\n};\n\nWASI.prototype.msToNs = function (ms) {\n  const msInt = Math.trunc(ms);\n  const decimal = goog.global.BigInt(Math.round((ms - msInt) * 1000000));\n  const ns = goog.global.BigInt(msInt) * goog.global.BigInt(1000000);\n  return ns + decimal;\n};\n\nWASI.prototype.now = function (clockId) {\n  switch (clockId) {\n    case constants.WASI_CLOCK_MONOTONIC: {\n      return Math.floor(performanceNowPoly());\n    }\n    case constants.WASI_CLOCK_REALTIME: {\n      return this.msToNs(Date.now());\n    }\n    case constants.WASI_CLOCK_PROCESS_CPUTIME_ID:\n    case constants.WASI_CLOCK_THREAD_CPUTIME_ID: {\n      return Math.floor(performanceNowPoly() - this.CPUTIME_START);\n    }\n    default: {\n      return 0;\n    }\n  }\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.args_get = function (argv, argvBuf) {\n  if (DEBUG_WASI) {\n    console.log(\"args_get\", argv, argvBuf, constants);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.args_sizes_get = function (argc, argvBufSize) {\n  if (DEBUG_WASI) {\n    console.log(\"args_sizes_get\", argc, argvBufSize, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.clock_res_get = function (clockId, resolution) {\n  if (DEBUG_WASI) {\n    console.log(\"args_get\", clockId, resolution, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.clock_time_get = function (clockId, precision, time) {\n  if (DEBUG_WASI) {\n    console.log(\"clock_time_get\", clockId, precision, time, arguments);\n  }\n  const memory = this.getMemory();\n  const nextTime = this.now(clockId);\n  memory.setBigUint64(time, goog.global.BigInt(nextTime), true);\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.environ_get = function (environ, environBuf) {\n  if (DEBUG_WASI) {\n    console.log(\"environ_get\", environ, environBuf, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.environ_sizes_get = function (environCount, environBufSize) {\n  if (DEBUG_WASI) {\n    console.log(\"environ_sizes_get\", environCount, environBufSize, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_advise = function (fd, offset, length_, advice) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_advise\", fd, offset, length_, advice, arguments);\n  }\n  return constants.WASI_ENOSYS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_allocate = function (fd, offset, length_) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_allocate\", fd, offset, length_, arguments);\n  }\n  return constants.WASI_ENOSYS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_close = function (fd) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_close\", fd, arguments);\n  }\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_datasync = function (fd) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_datasync\", fd, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n// always write access in browser scope\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_fdstat_get = function (fd, bufPtr) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_fdstat_get\", fd, bufPtr, arguments);\n  }\n\n  const memory = this.getMemory();\n\n  memory.setUint8(bufPtr + 4, constants.WASI_FILETYPE_REGULAR_FILE);\n  memory.setUint16(bufPtr + 2, 0, true);\n  memory.setUint16(bufPtr + 4, 0, true);\n  memory.setBigUint64(bufPtr + 8, goog.global.BigInt(constants.RIGHTS_REGULAR_FILE_BASE), true);\n  memory.setBigUint64(\n    bufPtr + 8 + 8,\n    goog.global.BigInt(constants.RIGHTS_REGULAR_FILE_INHERITING),\n    true,\n  );\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_fdstat_set_flags = function (fd, flags) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_fdstat_set_flags\", fd, flags, arguments);\n  }\n  return constants.WASI_ENOSYS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_fdstat_set_rights = function (fd, fsRightsBase, fsRightsInheriting) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_fdstat_set_rights\", fd, fsRightsBase, fsRightsInheriting, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_filestat_get = function (fd, bufPtr) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_filestat_get\", fd, bufPtr, arguments);\n  }\n  let filesize = 0;\n\n  if (this.fd[fd]) {\n    filesize = this.fd[fd].buffers.reduce(function (accumulator, uintArray) {\n      return accumulator + uintArray?.byteLength ? uintArray?.byteLength : 0;\n    }, 0);\n  }\n\n  const memory = this.getMemory();\n  memory.setBigUint64(bufPtr, goog.global.BigInt(fd), true);\n  bufPtr += 8;\n  memory.setBigUint64(bufPtr, goog.global.BigInt(fd), true);\n  bufPtr += 8;\n  memory.setUint8(bufPtr, constants.WASI_FILETYPE_REGULAR_FILE);\n  bufPtr += 8;\n  memory.setBigUint64(bufPtr, goog.global.BigInt(1), true);\n  bufPtr += 8;\n  memory.setBigUint64(bufPtr, goog.global.BigInt(filesize), true);\n  bufPtr += 8;\n  memory.setBigUint64(bufPtr, this.msToNs(this.CPUTIME_START), true);\n  bufPtr += 8;\n  memory.setBigUint64(bufPtr, this.msToNs(this.CPUTIME_START), true);\n  bufPtr += 8;\n  memory.setBigUint64(bufPtr, this.msToNs(this.CPUTIME_START), true);\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_filestat_set_size = function (fd, newSize) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_filestat_set_size\", fd, newSize, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_filestat_set_times = function (fd, stAtim, stMtim, filestatFags) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_filestat_set_times\", fd, stAtim, stMtim, filestatFags, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_pread = function (fd, iovs, iovsLength, offset, nread) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_pread\", fd, iovs, iovsLength, offset, nread, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_prestat_dir_name = function (fd, pathPtr, pathLength) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_prestat_dir_name\", fd, pathPtr, pathLength, this.fd[fd]);\n  }\n  if (!this.fd[fd] && !this.fd[fd - 1]) {\n    return constants.WASI_EBADF;\n  }\n\n  const { path: directoryName } = this.fd[fd];\n\n  const memory = this.getMemory();\n\n  const directoryNameBuffer = encoder.encode(directoryName);\n  new Uint8Array(memory.buffer).set(directoryNameBuffer, pathPtr);\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_prestat_get = function (fd, bufPtr) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_prestat_get\", fd, bufPtr, this.fd[fd]);\n  }\n  if (!this.fd[fd]) {\n    return constants.WASI_EBADF;\n  }\n  const { path: directoryName } = this.fd[fd];\n  const memory = this.getMemory();\n\n  const directoryNameBuffer = encoder.encode(directoryName);\n  memory.setUint8(bufPtr, constants.WASI_PREOPENTYPE_DIR);\n  memory.setUint32(bufPtr + 4, directoryNameBuffer.byteLength, true);\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_pwrite = function (fd, iovs, iovsLength, offset, nwritten) {\n  console.log(\"fd_pwrite\", fd, iovs, iovsLength, offset, nwritten, arguments);\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {(number | undefined)}\n */\nWASI.prototype.fd_read = function (fd, iovs, iovsLength, nread) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_read\", fd, iovs, iovsLength, nread, arguments);\n  }\n\n  const memory = this.getMemory();\n  const entry = this.fd[fd];\n\n  if (!entry || !Array.isArray(entry.buffers)) {\n    if (DEBUG_WASI) {\n      console.error(\"fd_read: non-existent file descriptor\", fd, entry);\n    }\n    memory.setUint32(nread, 0, true);\n    return constants.WASI_EBADF;\n  }\n\n  const buffers = entry.buffers;\n\n  if (buffers.length === 0) {\n    memory.setUint32(nread, 0, true);\n    entry.seekPos = goog.global.BigInt(0);\n    return constants.WASI_ESUCCESS;\n  }\n\n  const totalBuffersLength = buffers.reduce((accumulator, b) => accumulator + b.length, 0);\n\n  let read = Number(entry.seekPos);\n\n  let thisRead = 0;\n  let reduced = false;\n\n  // check for EOF\n  if (read >= totalBuffersLength) {\n    const buf = memory.getUint32(iovs, true);\n    memory.setUint8(buf, 0);\n    memory.setUint32(nread, 0, true);\n    return constants.WASI_ESUCCESS;\n  }\n\n  for (let index = 0; index < iovsLength; index++) {\n    const ptr = iovs + index * 8;\n    const buf = memory.getUint32(ptr, true);\n    const bufLength = memory.getUint32(ptr + 4, true);\n\n    if (!reduced) {\n      thisRead += bufLength;\n      Array.from({ length: bufLength }, (_, index) => index).reduce(\n        (accumulator, currentRead) => {\n          if (reduced) {\n            return accumulator;\n          }\n          const [chunkIndex, chunkOffset] = accumulator;\n          let currentChunkIndex = 0;\n          let currentChunkOffset = 0;\n\n          let found = false;\n          let leadup = 0;\n\n          let currentBufferChunkLength = buffers[currentChunkIndex]\n            ? buffers[currentChunkIndex].byteLength\n            : 0;\n\n          if (currentRead === 0) {\n            while (!found) {\n              currentBufferChunkLength = buffers[currentChunkIndex]\n                ? buffers[currentChunkIndex].byteLength\n                : 0;\n              if (leadup <= read && currentBufferChunkLength + leadup > read) {\n                found = true;\n                currentChunkOffset = read - leadup;\n              } else {\n                leadup += currentBufferChunkLength;\n                currentChunkIndex += 1;\n              }\n            }\n          } else {\n            currentChunkIndex = chunkIndex;\n            currentChunkOffset = chunkOffset;\n          }\n\n          if (buffers[currentChunkIndex]) {\n            memory.setUint8(buf + currentRead, buffers[currentChunkIndex][currentChunkOffset]);\n\n            if (currentChunkOffset + 1 >= buffers[currentChunkIndex].byteLength) {\n              currentChunkIndex = chunkIndex + 1;\n              currentChunkOffset = 0;\n            } else {\n              currentChunkOffset += 1;\n            }\n          } else {\n            memory.setUint8(buf + currentRead, 0);\n            read += currentRead;\n            reduced = true;\n          }\n\n          return [currentChunkIndex, currentChunkOffset];\n        },\n        [0, 0],\n      );\n      if (!reduced) {\n        read += bufLength;\n      }\n    }\n  }\n\n  entry.seekPos = goog.global.BigInt(read);\n  memory.setUint32(nread, thisRead, true);\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_readdir = function (fd, bufPtr, bufLength, cookie, bufusedPtr) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_readdir\", fd, bufPtr, bufLength, cookie, bufusedPtr, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_renumber = function (from, to) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_renumber\", from, to, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_seek = function (fd, offset, whence, newOffsetPtr) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_seek\", fd, offset, whence, newOffsetPtr, arguments);\n  }\n  const memory = this.getMemory();\n\n  switch (whence) {\n    case constants.WASI_WHENCE_CUR: {\n      /** @suppress {checkTypes} */\n      this.fd[fd].seekPos =\n        (this.fd[fd].seekPos ?? goog.global.BigInt(0)) + goog.global.BigInt(offset);\n      break;\n    }\n    case constants.WASI_WHENCE_END: {\n      const currentLength = (this.fd[fd].buffers || []).reduce(\n        (accumulator, value) => accumulator + value.length,\n        0,\n      );\n      this.fd[fd].seekPos = BigInt(currentLength) + BigInt(offset);\n      break;\n    }\n\n    case constants.WASI_WHENCE_SET: {\n      this.fd[fd].seekPos = BigInt(offset);\n      break;\n    }\n  }\n\n  memory.setBigUint64(newOffsetPtr, this.fd[fd].seekPos, true);\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_sync = function (fd) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_sync\", fd, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_tell = function (fd, offsetPtr) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_tell\", fd, offsetPtr, arguments);\n  }\n  const memory = this.getMemory();\n\n  if (!this.fd[fd].seekPos) {\n    this.fd[fd].seekPos = goog.global.BigInt(0);\n  }\n\n  memory.setBigUint64(offsetPtr, this.fd[fd].seekPos, true);\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.fd_write = function (fd, iovs, iovsLength, nwritten) {\n  if (DEBUG_WASI) {\n    console.log(\"fd_write\", { fd, iovs, iovsLength, nwritten });\n  }\n\n  let append = false;\n  const memory = this.getMemory();\n  this.fd[fd].buffers = this.fd[fd].buffers || [];\n\n  // append-only, if starting new write from beginning\n  if (this.fd[fd].seekPos === goog.global.BigInt(0) && this.fd[fd].buffers.length > 0) {\n    append = true;\n  }\n  let written = 0;\n\n  for (let index = 0; index < iovsLength; index++) {\n    const ptr = iovs + index * 8;\n    const buf = memory.getUint32(ptr, true);\n    const bufLength = memory.getUint32(ptr + 4, true);\n    written += bufLength;\n    const chunk = new Uint8Array(memory.buffer, buf, bufLength);\n    if (append) {\n      this.fd[fd].buffers.unshift(chunk.slice(0, bufLength));\n    } else {\n      this.fd[fd].buffers.push(chunk.slice(0, bufLength));\n    }\n  }\n\n  /** @suppress {checkTypes} */\n  this.fd[fd].seekPos += goog.global.BigInt(written);\n\n  memory.setUint32(nwritten, written, true);\n\n  if ([1, 2].includes(fd)) {\n    console.log(decoder.decode(concatUint8Arrays(this.fd[fd].buffers)));\n  }\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_create_directory = function (fd, pathPtr, pathLength) {\n  if (DEBUG_WASI) {\n    console.log(\"path_create_directory\", fd, pathPtr, pathLength, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_filestat_get = function (fd, flags, pathPtr, pathLength, bufPtr) {\n  if (DEBUG_WASI) {\n    console.log(\"path_filestat_get\", fd, flags, pathPtr, pathLength, bufPtr, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_filestat_set_times = function (\n  fd,\n  dirflags,\n  pathPtr,\n  pathLength,\n  stAtim,\n  stMtim,\n  fstflags,\n) {\n  if (DEBUG_WASI) {\n    console.log(\n      \"path_filestat_set_times\",\n      fd,\n      dirflags,\n      pathPtr,\n      pathLength,\n      stAtim,\n      stMtim,\n      fstflags,\n      arguments,\n    );\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_link = function (\n  oldFd,\n  oldFlags,\n  oldPath,\n  oldPathLength,\n  newFd,\n  newPath,\n  newPathLength,\n) {\n  if (DEBUG_WASI) {\n    console.log(\n      \"path_link\",\n      oldFd,\n      oldFlags,\n      oldPath,\n      oldPathLength,\n      newFd,\n      newPath,\n      newPathLength,\n      arguments,\n    );\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_open = function (\n  dirfd,\n  dirflags,\n  pathPtr,\n  pathLength,\n  oflags,\n  fsRightsBase,\n  fsRightsInheriting,\n  fsFlags,\n  fd,\n) {\n  if (DEBUG_WASI) {\n    console.log(\n      \"path_open\",\n      dirfd,\n      dirflags,\n      pathPtr,\n      pathLength,\n      oflags,\n      fsRightsBase,\n      fsRightsInheriting,\n      fsFlags,\n      fd,\n      arguments,\n    );\n  }\n  const memory = this.getMemory();\n  const directoryPath = (this.fd[dirfd] || { path: this.cwd }).path;\n  const pathOpenBytes = new Uint8Array(memory.buffer, pathPtr, pathLength);\n  const pathOpenString = decoder.decode(pathOpenBytes);\n\n  let pathOpen;\n  if (dirfd === 3) {\n    // Opening relative to the preopen root (cwd)\n    pathOpen = this.resolvePath(pathOpenString);\n  } else {\n    // Opening relative to a specific directory fd\n    const joined = googPath.join(directoryPath, pathOpenString);\n    pathOpen = normalizeAbsolutePath(joined);\n  }\n\n  if (pathOpen.startsWith(\"/..\") || pathOpen === \"/._\" || pathOpen === \"/.AppleDouble\") {\n    return constants.WASI_EBADF;\n  }\n\n  const wantsDirectory = (oflags & constants.WASI_O_DIRECTORY) !== 0;\n  const allowCreate = (oflags & constants.WASI_O_CREAT) !== 0;\n  const existingEntry = this.findEntry(pathOpen);\n\n  if (DEBUG_WASI) {\n    console.log(\";; path_open:\", pathOpen, \"from dirfd\", dirfd);\n    console.log(\"  withReader:\", shouldOpenReader(fsRightsBase));\n    console.log(\"  oflags:\", oflags.toString(16), \"fsRightsBase:\", fsRightsBase.toString());\n    console.log(\"  allowCreate:\", allowCreate, \"wantsDirectory:\", wantsDirectory);\n    console.log(\"  existingEntry:\", existingEntry ? \"exists\" : \"does not exist\");\n  }\n\n  if (existingEntry && existingEntry.type === \"dir\" && !wantsDirectory) {\n    return constants.WASI_EISDIR;\n  }\n\n  if (!existingEntry && wantsDirectory) {\n    return constants.WASI_ENOENT;\n  }\n\n  // Check if file doesn't exist and shouldn't be created\n  if (!existingEntry && !allowCreate && !wantsDirectory) {\n    // File doesn't exist - write invalid fd and return ENOENT\n    if (DEBUG_WASI) {\n      console.warn(`path_open: file not found: ${pathOpen}`);\n    }\n    // Write maximum unsigned 32-bit value (-1 as signed) to indicate bad fd\n    memory.setUint32(fd, 0xFFFFFFFF, true);\n    return constants.WASI_ENOENT;\n  }\n\n  const actualFd = existingEntry ? existingEntry.fd : this.fd.length;\n\n  if (!existingEntry && this.fd[actualFd] === undefined) {\n    this.fd[actualFd] = { fd: actualFd };\n  }\n\n  const entryTemplate = existingEntry || this.fd[actualFd] || { fd: actualFd };\n\n  this.fd[actualFd] = {\n    ...entryTemplate,\n    fd: actualFd,\n    path: pathOpen,\n    type: wantsDirectory ? \"dir\" : entryTemplate.type || \"file\",\n    seekPos: goog.global.BigInt(0),\n    buffers: Array.isArray(entryTemplate.buffers) ? entryTemplate.buffers : [],\n  };\n\n  if ((oflags & constants.WASI_O_TRUNC) !== 0 && !wantsDirectory) {\n    this.fd[actualFd].buffers.length = 0;\n  }\n\n  if (shouldOpenReader(fsRightsBase) && DEBUG_WASI) {\n    console.log(\"should open a read handle for\", pathOpen);\n  }\n\n  memory.setUint32(fd, actualFd, true);\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_readlink = function (fd, pathPtr, pathLength, buf, bufLength, bufused) {\n  if (DEBUG_WASI) {\n    console.log(\"path_readlink\", fd, pathPtr, pathLength, buf, bufLength, bufused, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_remove_directory = function (fd, pathPtr, pathLength) {\n  if (DEBUG_WASI) {\n    console.log(\"path_remove_directory\", fd, pathPtr, pathLength);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_rename = function (\n  oldFd,\n  oldPath,\n  oldPathLength,\n  newFd,\n  newPath,\n  newPathLength,\n) {\n  if (DEBUG_WASI) {\n    console.log(\n      \"path_rename\",\n      oldFd,\n      oldPath,\n      oldPathLength,\n      newFd,\n      newPath,\n      newPathLength,\n      arguments,\n    );\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_symlink = function (oldPath, oldPathLength, fd, newPath, newPathLength) {\n  if (DEBUG_WASI) {\n    console.log(\"path_symlink\", oldPath, oldPathLength, fd, newPath, newPathLength, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.path_unlink_file = function (fd, pathPtr, pathLength) {\n  if (fd > 3 && DEBUG_WASI) {\n    console.log(\"path_unlink_file\", fd, pathPtr, pathLength, arguments);\n  }\n  // actual file removal goes here\n\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.poll_oneoff = function (sin, sout, nsubscriptions, nevents) {\n  if (DEBUG_WASI) {\n    console.log(\"poll_oneoff\", sin, sout, nsubscriptions, nevents, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.proc_exit = function (rval) {\n  if (DEBUG_WASI) {\n    console.log(\"proc_exit\", rval, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.proc_raise = function (sig) {\n  if (DEBUG_WASI) {\n    console.log(\"proc_raise\", sig, arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.random_get = function (bufPtr, bufLength) {\n  if (DEBUG_WASI) {\n    console.log(\"random_get\", bufPtr, bufLength);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.sched_yield = function () {\n  if (DEBUG_WASI) {\n    console.log(\"sched_yield\", arguments);\n  }\n  return constants.WASI_ESUCCESS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.sock_recv = function () {\n  if (DEBUG_WASI) {\n    console.log(\"sock_recv\", arguments);\n  }\n  return constants.WASI_ENOSYS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.sock_send = function () {\n  if (DEBUG_WASI) {\n    console.log(\"sock_send\", arguments);\n  }\n  return constants.WASI_ENOSYS;\n};\n\n/**\n * @export\n * @return {number}\n */\nWASI.prototype.sock_shutdown = function () {\n  if (DEBUG_WASI) {\n    console.log(\"sock_shutdown\", arguments);\n  }\n  return constants.WASI_ENOSYS;\n};\n\n// helpers\n\nWASI.prototype.findBuffers = function (filePath /* string */) {\n  const maybeFd = Object.values(this.fd).find(({ path }) => path === filePath);\n  return maybeFd && maybeFd.buffers;\n};\n\n// fs api\n\nWASI.prototype.readdir = function (dirname /* string */) {\n  const absoluteDir = this.resolvePath(dirname);\n  const prefixPath = absoluteDir === \"/\" ? \"/\" : `${absoluteDir}/`;\n  const files = [];\n  Object.values(this.fd).forEach((entry) => {\n    if (!entry || !entry.path) {\n      return;\n    }\n    const { path } = entry;\n    if (!path.startsWith(prefixPath)) {\n      return;\n    }\n    const rest = path.slice(prefixPath.length);\n    if (rest.length === 0) {\n      return;\n    }\n    if (!/\\//g.test(rest)) {\n      files.push(path);\n    }\n  });\n  return files\n    .map((p) => removeLeadingSlash(p.replace(prefixPath, \"\")))\n    .filter((p) => !!p);\n};\n\nWASI.prototype.writeFile = function (fname /* string */, data /* Uint8Array */) {\n  const filePath = this.resolvePath(fname);\n\n  const nextFd = Object.keys(this.fd).length;\n  const maybeOldFd = Object.values(this.fd).find(({ path }) => path === filePath);\n\n  this.fd[nextFd] = {\n    fd: nextFd,\n    path: filePath,\n    seekPos: goog.global.BigInt(0),\n    buffers: [data],\n    type: \"file\",\n  };\n\n  if (maybeOldFd) {\n    delete this.fd[maybeOldFd];\n  }\n};\n\nWASI.prototype.appendFile = function (fname /* string */, data /* Uint8Array */) {\n  const filePath = this.resolvePath(fname);\n\n  const buffers = this.findBuffers(filePath);\n\n  if (buffers) {\n    buffers.push(data);\n  } else {\n    console.error(`Can't append to non-existing file ${fname}`);\n  }\n};\n\nWASI.prototype.readFile = function (fname /* string */) {\n  const filePath = this.resolvePath(fname);\n\n  const buffers = this.findBuffers(filePath);\n\n  if (buffers) {\n    return concatUint8Arrays(buffers);\n  }\n};\n\nWASI.prototype.readStdOut = function () {\n  const maybeFd = Object.values(this.fd[0]);\n  const buffers = (maybeFd && maybeFd.buffers) || [];\n  return concatUint8Arrays(buffers);\n};\n\nWASI.prototype.unlink = function (fname /* string */) {\n  const filePath = this.resolvePath(fname);\n  const maybeFd = Object.values(this.fd).find(({ path }) => path === filePath);\n\n  if (maybeFd) {\n    delete this.fd[maybeFd.fd];\n  } else {\n    console.error(`While trying to unlink ${filePath}, path not found`);\n  }\n};\n\nWASI.prototype.mkdir = function (dirname /* string */) {\n  const cleanPath = this.resolvePath(dirname);\n  const files = [];\n  Object.values(this.fd).forEach(({ path }) => {\n    return path.startsWith(cleanPath) && files.push(path);\n  });\n\n  const alreadyExist = files.length > 0;\n  if (alreadyExist) {\n    console.warn(`mkdir: path ${dirname} already exists`);\n  } else {\n    const nextFd = Object.keys(this.fd).length;\n    this.fd[nextFd] = {\n      fd: nextFd,\n      path: cleanPath,\n      type: \"dir\",\n    };\n  }\n};\n\nWASI.prototype.stat = function (fname /* string */) {\n  const filePath = this.resolvePath(fname);\n  const maybeFd = Object.values(this.fd).find(({ path }) => path === filePath);\n\n  if (!maybeFd) {\n    return undefined;\n  }\n\n  const buffers = maybeFd.buffers || [];\n  const size = buffers.reduce((accumulator, buffer) => {\n    return accumulator + (buffer?.byteLength || 0);\n  }, 0);\n\n  const isDirectory = maybeFd.type === \"dir\";\n\n  return {\n    dev: 0,\n    ino: maybeFd.fd,\n    mode: isDirectory ? 16877 : 33188, // 0o40755 for dir, 0o100644 for file\n    nlink: 1,\n    uid: 0,\n    gid: 0,\n    rdev: 0,\n    size,\n    blksize: 4096,\n    blocks: Math.ceil(size / 512),\n    atimeMs: this.CPUTIME_START,\n    mtimeMs: this.CPUTIME_START,\n    ctimeMs: this.CPUTIME_START,\n    birthtimeMs: this.CPUTIME_START,\n    atime: new Date(this.CPUTIME_START),\n    mtime: new Date(this.CPUTIME_START),\n    ctime: new Date(this.CPUTIME_START),\n    birthtime: new Date(this.CPUTIME_START),\n    isFile: !isDirectory,\n    isDirectory,\n    isBlockDevice: false,\n    isCharacterDevice: false,\n    isSymbolicLink: false,\n    isFIFO: false,\n    isSocket: false,\n  };\n};\n\nWASI.prototype.pathExists = function (fname /* string */) {\n  const filePath = this.resolvePath(fname);\n  const maybeFd = Object.values(this.fd).find(({ path }) => path === filePath);\n  return !!maybeFd;\n};\n","/* eslint-disable */\n// Copyright 2017 Google Inc.\n\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n\n//     http://www.apache.org/licenses/LICENSE-2.0\n\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// VENDORED DEPENDENCY\n// sadly, comlink doesn't work with advanced google-closure compilation\n// see: https://github.com/GoogleChromeLabs/comlink\n\nconst e = Symbol(\"Comlink.proxy\");\nconst t = Symbol(\"Comlink.endpoint\");\nconst n = Symbol(\"Comlink.releaseProxy\");\nconst r = Symbol(\"Comlink.thrown\");\nconst a = (e) => (\"object\" == typeof e && null !== e) || \"function\" == typeof e;\nconst s = new Map([\n  [\n    \"proxy\",\n    {\n      canHandle: (t) => a(t) && t[e],\n      serialize(e) {\n        const { port1: t, port2: n } = new MessageChannel();\n        return o(e, t), [n, [n]];\n      },\n      deserialize: (e) => (e.start(), c(e, undefined)),\n    },\n  ],\n  [\n    \"throw\",\n    {\n      canHandle: (e) => a(e) && r in e,\n      serialize({ value: e }) {\n        let t;\n        return (\n          (t =\n            e instanceof Error\n              ? { isError: !0, value: { message: e.message, name: e.name, stack: e.stack } }\n              : { isError: !1, value: e }),\n          [t, []]\n        );\n      },\n      deserialize(e) {\n        if (e.isError) throw Object.assign(new Error(e.value.message), e.value);\n        throw e.value;\n      },\n    },\n  ],\n]);\nfunction o(e, t = self) {\n  t.addEventListener(\"message\", function n(a) {\n    if (!a || !a.data) return;\n    const argumentList = a[\"data\"][\"argumentList\"];\n    const { id: s, type: c, path: u } = Object.assign({ path: [] }, a[\"data\"]);\n    const l = (argumentList || []).map(E);\n\n    let p;\n    try {\n      const t = u.slice(0, -1).reduce((e, t) => e[t], e),\n        n = u.reduce((e, t) => e[t], e);\n      switch (c) {\n        case \"GET\":\n          p = n;\n          break;\n        case \"SET\":\n          (t[u.slice(-1)[0]] = E(a.data.value)), (p = !0);\n          break;\n        case \"APPLY\":\n          // console.log(\"N.apply\", n, t, l);\n          p = n.apply(t, l);\n          break;\n        case \"CONSTRUCT\":\n          p = d(new n(...l));\n          break;\n        case \"ENDPOINT\":\n          {\n            const { port1: t, port2: n } = new MessageChannel();\n            o(e, n), (p = m(t, [t]));\n          }\n          break;\n        case \"RELEASE\":\n          p = void 0;\n          break;\n        default:\n          return;\n      }\n    } catch (e) {\n      p = { value: e, [r]: 0 };\n    }\n    Promise.resolve(p)\n      .catch((e) => ({ value: e, [r]: 0 }))\n      .then((e) => {\n        const [r, a] = g(e);\n        const message = { ...r };\n        message[\"id\"] = s;\n        t.postMessage(message, a), \"RELEASE\" === c && (t.removeEventListener(\"message\", n), i(t));\n      });\n  }),\n    t.start && t.start();\n}\nfunction i(e) {\n  (function (e) {\n    return \"MessagePort\" === e.constructor.name;\n  })(e) && e.close();\n}\nfunction c(e, r) {\n  return /** @suppress {duplicate} */ (function e(r, a = [], s = function () {}) {\n    let o = false;\n    const c = new Proxy(s, {\n      get(t, s) {\n        if ((u(o), s === n))\n          return () =>\n            h(r, { type: \"RELEASE\", path: a.map((e) => e.toString()) }, undefined).then(() => {\n              i(r), (o = !0);\n            });\n        if (\"then\" === s) {\n          if (0 === a.length) return { then: () => c };\n          const e = h(r, { type: \"GET\", path: a.map((e) => e.toString()) }, undefined).then(E);\n          return e.then.bind(e);\n        }\n        return e(r, [...a, s]);\n      },\n      set(e, t, n) {\n        u(o);\n        const [s, i] = g(n);\n        return h(r, { type: \"SET\", path: [...a, t].map((e) => e.toString()), value: s }, i).then(E);\n      },\n      apply(n, s, i) {\n        u(o);\n        const c = a[a.length - 1];\n        if (c === t) return h(r, { type: \"ENDPOINT\" }, undefined).then(E);\n        if (\"bind\" === c) return e(r, a.slice(0, -1));\n        const [p, m] = l(i);\n\n        /** @noinline */\n        const applyForm = {};\n\n        applyForm[\"type\"] = \"APPLY\";\n\n        applyForm[\"path\"] = a.map((e) => e.toString());\n\n        applyForm[\"argumentList\"] = p;\n\n        return h(r, applyForm, m).then(E);\n      },\n      construct(e, t) {\n        u(o);\n        const [n, s] = l(t);\n        /** @noinline */\n        const constructForm = {};\n        constructForm[\"type\"] = \"CONSTRUCT\";\n        constructForm[\"path\"] = a.map((e) => e.toString());\n        constructForm[\"argumentList\"] = n;\n        return h(r, constructForm, s).then(E);\n      },\n    });\n    return c;\n  })(e, [], r);\n}\nfunction u(e) {\n  if (e) throw new Error(\"Proxy has been released and is not useable\");\n}\nfunction l(e) {\n  const t = e.map(g);\n  /** @suppress {checkVars} */\n  const el2 = ((n = t.map((e) => e[1])), Array.prototype.concat.apply([], n));\n  return [t.map((e) => e[0]), el2];\n  /** @suppress {uselessCode} */\n  var n;\n}\nconst p = new WeakMap();\n\nfunction m(e, t) {\n  return p.set(e, t), e;\n}\n\nfunction d(t) {\n  return Object.assign(t, { [e]: !0 });\n}\n\nfunction f(e, t = self, n = \"*\") {\n  return {\n    postMessage: (t, r) => e.postMessage(t, n, r),\n    addEventListener: t.addEventListener.bind(t),\n    removeEventListener: t.removeEventListener.bind(t),\n  };\n}\nfunction g(e) {\n  for (const [t, n] of s)\n    if (n.canHandle(e)) {\n      const [r, a] = n.serialize(e);\n      return [{ type: \"HANDLER\", name: t, value: r }, a];\n    }\n  return [{ type: \"RAW\", value: e }, p.get(e) || []];\n}\nfunction E(e) {\n  switch (e.type) {\n    case \"HANDLER\":\n      return s.get(e.name).deserialize(e.value);\n    case \"RAW\":\n      return e.value;\n  }\n}\nfunction h(e, t, n) {\n  return new Promise((r) => {\n    const a = new Array(4)\n      .fill(0)\n      .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\n      .join(\"-\");\n    e.addEventListener(\"message\", function t(n) {\n      n.data && n.data.id && n.data.id === a && (e.removeEventListener(\"message\", t), r(n.data));\n    });\n    e.start && e.start();\n    const message = t;\n    message[\"id\"] = a;\n    // console.trace(\"message2\", message);\n    e.postMessage(message, n);\n  });\n}\n\nexport {\n  t as createEndpoint,\n  o as expose,\n  d as proxy,\n  e as proxyMarker,\n  n as releaseProxy,\n  m as transfer,\n  s as transferHandlers,\n  f as windowEndpoint,\n  c as wrap,\n};\n","/**\n * @constructor\n */\nexport function MessagePortState() {}\n\n/**\n * @type {boolean}\n */\nMessagePortState.prototype.ready = false;\n\n/**\n * @type {Function|undefined}\n */\nMessagePortState.prototype.port = undefined;\n\n/**\n * @type {Function}\n */\nMessagePortState.prototype.post = () => {};\n/**\n * @type {Function}\n */\nMessagePortState.prototype.broadcastPlayState = () => {};\n/**\n * @type {string|undefined}\n */\nMessagePortState.prototype.workerState = undefined;\n/**\n * @type {string|undefined}\n */\nMessagePortState.prototype.vanillaWorkerState = undefined;\n\nexport default MessagePortState;\n","/*\n   csound instantiation module from <csound.h>\n   https://csound.com/docs/api/modules.html\n*/\n\n/**\n * creates Csound instance\n * (inferred in @csound/wasm/browser)\n */\nexport const csoundCreate = (wasm) => () => wasm.exports[\"csoundCreateWasi\"]();\n\ncsoundCreate[\"toString\"] = () => \"create = async () => undefined;\";\n\n/**\n * Destroys an instance of Csound and frees memory\n * @function\n */\nexport const csoundDestroy = (wasm) => (csound) => wasm.exports[\"csoundDestroy\"](csound);\n\ncsoundDestroy[\"toString\"] = () => \"destroy = async () => undefined;\";\n\n/**\n * Returns the API version as int\n * @function\n */\nexport const csoundGetAPIVersion = (wasm) => () => wasm.exports[\"csoundGetAPIVersion\"]();\n\ncsoundGetAPIVersion[\"toString\"] = () => \"getAPIVersion = async () => Number;\";\n\n/**\n * Returns the Csound version as int\n * @function\n */\nexport const csoundGetVersion = (wasm) => () => wasm.exports[\"csoundGetVersion\"]();\n\ncsoundGetVersion[\"toString\"] = () => \"getVersion = async () => Number;\";\n\n/**\n * Initialise Csound with specific flags.\n * This function is called internally by csoundCreate(),\n * so there is generally no need to use it explicitly\n * unless you need to avoid default initilization that\n * sets signal handlers and atexit() callbacks.\n * @function\n */\nexport const csoundInitialize = (wasm) => (_, flags) => wasm.exports[\"csoundInitialize\"](flags);\n\ncsoundInitialize[\"toString\"] = () => \"initialize = async () => Number;\";\n","/** @define {boolean} */\nconst WITH_TEXT_ENCODER_POLYFILL = goog.define(\"WITH_TEXT_ENCODER_POLYFILL\", false);\n\n/** @constructor */\nfunction TextEncoderPoly() {\n  this.encoding = \"utf8\";\n  return this;\n}\n\nTextEncoderPoly.prototype.encode = function (string_) {\n  if (typeof string_ !== \"string\") {\n    throw new TypeError(\"passed argument must be of type string \" + string_ + \" \" + typeof string_);\n  }\n  const binstr = unescape(encodeURIComponent(string_));\n  const array = new Uint8Array(binstr.length);\n  [...binstr].forEach(function (char, index) {\n    array[index] = char.codePointAt(0);\n  });\n  return array;\n};\n\n/** @constructor */\nfunction TextDecoderPoly() {\n  this.encoding = \"utf8\";\n  this.ignoreBOM = false;\n\n  this.trimNull = (a) => {\n    const c = a.indexOf(\"\\0\");\n    if (c > -1) {\n      return a.slice(0, Math.max(0, c));\n    }\n    return a;\n  };\n\n  this.decode = function (view, options) {\n    if (view === undefined) {\n      return \"\";\n    }\n\n    const stream = options !== undefined && \"stream\" in options ? options.stream : false;\n    if (typeof stream !== \"boolean\") {\n      throw new TypeError(\"stream option must be boolean\");\n    }\n\n    if (ArrayBuffer.isView(view)) {\n      const array = new Uint8Array(view.buffer, view.byteOffset, view.byteLength);\n      const charArray = Array.from({ length: array.length });\n      array.forEach(function (charcode, index) {\n        charArray[index] = String.fromCodePoint(charcode);\n      });\n      return this.trimNull(charArray.join(\"\"));\n    } else {\n      throw new TypeError(\"passed argument must be an array buffer view\");\n    }\n  };\n}\n\nexport const decoder = WITH_TEXT_ENCODER_POLYFILL ? new TextDecoderPoly() : new TextDecoder(\"utf8\");\n\nexport const encoder = WITH_TEXT_ENCODER_POLYFILL ? new TextEncoderPoly() : new TextEncoder(\"utf8\");\n\nexport const uint2String = (uint) => decoder.decode(uint);\n","export const trimNull = (a) => {\n  const c = a.indexOf(\"\\0\");\n  if (c > -1) {\n    // eslint-disable-next-line unicorn/prefer-string-slice\n    return a.substr(0, c);\n  }\n  return a;\n};\n","import { encoder, uint2String } from \"./text-encoders.js\";\nimport { trimNull } from \"./trim-null.js\";\n\n/**\n * @param {WasmInst} wasm\n * @param {number} ptr\n */\nexport const freeStringPtr = (wasm, ptr) => {\n  wasm[\"exports\"][\"freeStringMem\"](ptr);\n};\n\nexport const ptr2string = (wasm, stringPtr) => {\n  const { buffer } = wasm.wasi.memory;\n  const intArray = new Uint8Array(buffer, stringPtr);\n  const result = uint2String(intArray);\n  return trimNull(result);\n};\n\nexport const string2ptr = (wasm, string) => {\n  if (typeof string !== \"string\") {\n    console.error(\"Expected string but got\", typeof string);\n    return;\n  }\n\n  const stringBuf = encoder.encode(string);\n  const offset = wasm[\"exports\"][\"allocStringMem\"](stringBuf.length);\n  const { buffer } = wasm.wasi.memory;\n  const outBuf = new Uint8Array(buffer, offset, stringBuf.length + 1);\n  outBuf.set(stringBuf);\n  return offset;\n};\n","import { freeStringPtr, string2ptr } from \"../utils/string-pointers.js\";\n\n/*\n   csound performance module from <csound.h>\n   https://csound.com/docs/api/modules.html\n*/\n\n/**\n * Parses a csound orchestra string\n * @function\n */\nexport const csoundParseOrc = (wasm) => (csound, orc) => {\n  const stringPtr = string2ptr(wasm, orc);\n  const resultPtr = wasm.exports[\"csoundParseOrc\"](csound, stringPtr);\n\n  // const { buffer } = wasm.wasi.memory;\n  // const dataView = new DataView(buffer);\n\n  freeStringPtr(wasm, stringPtr);\n\n  return resultPtr;\n};\n\ncsoundParseOrc[\"toString\"] = () => \"parseOrc = async (orchestra) => Object;\";\n\n/**\n * Compiles AST tree\n * @function\n */\nexport const csoundCompileTree = (wasm) => (csound, tree) =>\n  wasm.exports[\"csoundCompileTree\"](csound, tree);\n\ncsoundCompileTree[\"toString\"] = () => \"compileTree = async (tree) => Number;\";\n\n// TODO\n// csoundDeleteTree (CSOUND *csound, TREE *tree)\n\n/**\n * Compiles a csound orchestra string\n * @function\n */\nexport const csoundCompileOrc = (wasm) => (csound, orc) => {\n  const stringPtr = string2ptr(wasm, orc);\n  const result = wasm.exports[\"csoundCompileOrc\"](csound, stringPtr);\n  freeStringPtr(wasm, stringPtr);\n  return result;\n};\n\ncsoundCompileOrc[\"toString\"] = () => \"compileOrc = async (orchestra) => Number;\";\n\n/**\n * Compiles a csound orchestra string\n * @function\n */\nexport const csoundEvalCode = (wasm) => (csound, orc) => {\n  const stringPtr = string2ptr(wasm, orc);\n  const result = wasm.exports[\"csoundEvalCode\"](csound, stringPtr);\n  freeStringPtr(wasm, stringPtr);\n  return result;\n};\n\ncsoundEvalCode[\"toString\"] = () => \"csoundEvalCode = async (orchestra) => Number;\";\n\n// TODO\n// csoundInitializeCscore (CSOUND *, FILE *insco, FILE *outsco)\n\n// TODO\n// csoundCompileArgs (CSOUND *, int argc, const char **argv)\n\n/**\n * Prepares Csound for performance\n * @function\n */\nexport const csoundStart = (wasm) => (csound) => wasm.exports[\"csoundStartWasi\"](csound);\n\ncsoundStart[\"toString\"] = () => \"start = async () => Number;\";\n\n// TODO\n// csoundCompile (CSOUND *, int argc, const char **argv)\n\n\n\n/**\n * Compiles a CSD string but does not perform it.\n * @function\n */\nexport const csoundCompileCSD = (wasm) => (csound, csd, mode = 1) => {\n  const stringPtr = string2ptr(wasm, csd);\n  const result = wasm.exports[\"csoundCompileCSD\"](csound, stringPtr, mode, 0);\n  freeStringPtr(wasm, stringPtr);\n  return result;\n};\n\ncsoundCompileCSD[\"toString\"] = () => \"compileCSD = async (csoundDocument) => Number;\";\n\n/**\n * Performs(plays) 1 ksmps worth of sample(s)\n * @function\n */\nexport const csoundPerformKsmps = (wasm) => (csound) =>\n  wasm.exports[\"csoundPerformKsmpsWasi\"](csound);\n\ncsoundPerformKsmps[\"toString\"] = () => \"performKsmps = async (csound) => Number;\";\n\n\n/**\n * Dummy function to enable stop mechanism\n * @function\n */\nexport const csoundStop = (wasm) => (csound) => { };\n\ncsoundStop[\"toString\"] = () => \"stop = async () => undefined;\";\n\n/**\n * Prints information about the end of a performance,\n * and closes audio and MIDI devices.\n * @function\n */\nexport const csoundReset = (wasm) => (csound) => wasm.exports[\"csoundResetWasi\"](csound);\n\ncsoundReset[\"toString\"] = () => \"reset = async () => Number;\";\n","/**\n * @typedef CSOUND_PARAMS\n * @property {number} debug_mode\n * @property {number} buffer_frames\n * @property {number} hardware_buffer_frames\n * @property {number} displays\n * @property {number} ascii_graphs\n * @property {number} postscript_graphs\n * @property {number} message_level\n * @property {number} tempo\n * @property {number} ring_bell\n * @property {number} use_cscore\n * @property {number} terminate_on_midi\n * @property {number} heartbeat\n * @property {number} defer_gen01_load\n * @property {number} midi_key\n * @property {number} midi_key_cps\n * @property {number} midi_key_oct\n * @property {number} midi_key_pch\n * @property {number} midi_velocity\n */\nexport const CSOUND_PARAMS = [\n  /* debug mode, 0 or 1 */\n  [\"debug_mode\", \"int\"],\n  /* number of frames in in/out buffers */\n  [\"buffer_frames\", \"int\"],\n  /* number of frames in in/out hardware buffers */\n  [\"hardware_buffer_frames\", \"int\"],\n  /* graph displays, 0 or 1 */\n  [\"displays\", \"int\"],\n  /* use ASCII graphs, 0 or 1 */\n  [\"ascii_graphs\", \"int\"],\n  /* use postscript graphs, 0 or 1 */\n  [\"postscript_graphs\", \"int\"],\n  /* message printout control */\n  [\"message_level\", \"int\"],\n  /* tempo (sets Beatmode)  */\n  [\"tempo\", \"int\"],\n  /* bell, 0 or 1 */\n  [\"ring_bell\", \"int\"],\n  /* use cscore for processing */\n  [\"use_cscore\", \"int\"],\n  /* terminate performance at the end */\n  [\"terminate_on_midi\", \"int\"],\n  /* print heart beat, 0 or 1 */\n  [\"heartbeat\", \"int\"],\n  /* defer GEN01 load, 0 or 1 */\n  [\"defer_gen01_load\", \"int\"],\n  /* pfield to map midi key no */\n  [\"midi_key\", \"int\"],\n  /* pfield to map midi key no as cps */\n  [\"midi_key_cps\", \"int\"],\n  /* pfield to map midi key no as oct */\n  [\"midi_key_oct\", \"int\"],\n  /* pfield to map midi key no as pch */\n  [\"midi_key_pch\", \"int\"],\n  /* pfield to map midi velocity */\n  [\"midi_velocity\", \"int\"],\n  /* pfield to map midi velocity as amplitude */\n  [\"midi_velocity_amp\", \"int\"],\n  /* disable relative paths from files, 0 or 1 */\n  [\"no_default_paths\", \"int\"],\n  /* number of threads for multicore performance */\n  [\"number_of_threads\", \"int\"],\n  /* do not compile, only check syntax */\n  [\"syntax_check_only\", \"int\"],\n  /* csd line error reporting */\n  [\"csd_line_counts\", \"int\"],\n  /* deprecated, kept for backwards comp.  */\n  [\"compute_weights\", \"int\"],\n  /* use realtime priority mode, 0 or 1 */\n  [\"realtime_mode\", \"int\"],\n  /* use sample-level score event accuracy */\n  [\"sample_accurate\", \"int\"],\n  /* overriding sample rate */\n  [\"sample_rate_override\", \"MYFLT\"],\n  /* overriding control rate */\n  [\"control_rate_override\", \"MYFLT\"],\n  /* overriding number of out channels */\n  [\"nchnls_override\", \"int\"],\n  /* overriding number of in channels */\n  [\"nchnls_i_override\", \"int\"],\n  /* overriding 0dbfs */\n  [\"e0dbfs_override\", \"MYFLT\"],\n  /* daemon mode */\n  [\"daemon\", \"int\"],\n  /* ksmps override */\n  [\"ksmps_override\", \"int\"],\n  /* fft_lib */\n  [\"FFT_library\", \"int\"],\n];\n\n/**\n * @typedef CS_MIDIDEVICE Array<Array.<string | number>>>\n */\nexport const CS_MIDIDEVICE = [\n  /* debug mode, 0 or 1 */\n  [\"device_name\", \"char\", 64],\n  [\"interface_name\", \"char\", 64],\n  [\"device_id\", \"char\", 64],\n  [\"midi_module\", \"char\", 64],\n  [\"isOutput\", \"int\"],\n];\n\nexport const ORCTOKEN = [\n  [\"type\", \"int\"],\n  [\"lexme\", \"ptr\"],\n  [\"value\", \"int\"],\n  [\"fvalue\", \"double\"],\n  [\"optype\", \"ptr\"],\n  [\"next\", \"ptr\"],\n];\n\nexport const TREE = [\n  [\"type\", \"int\"],\n  [\"value\", \"ptr\"],\n  [\"rate\", \"int\"],\n  [\"len\", \"int\"],\n  [\"line\", \"int\"],\n  [\"locn\", \"uint64\"],\n  [\"left\", \"ptr\"],\n  [\"right\", \"ptr\"],\n  [\"next\", \"ptr\"],\n  [\"markup\", \"ptr\"],\n];\n","import { TREE, ORCTOKEN, CS_MIDIDEVICE, CSOUND_PARAMS } from \"../structures.js\";\n\nexport const sizeOfPrimitive = {\n  int: 4,\n  uint64: 8,\n  MYFLT: 8,\n  char: 1,\n  double: 8,\n  ptr: 4,\n  void: 8,\n};\n\nexport const sizeOfStruct = (jsStruct) =>\n  jsStruct\n    ? jsStruct.reduce((accumulator, [_, primitive]) => {\n        return sizeOfPrimitive[primitive]\n          ? sizeOfPrimitive[primitive] + accumulator\n          : sizeOfStruct({ TREE, ORCTOKEN }[primitive]) + accumulator;\n      }, 0)\n    : 0;\n\nexport const TREE_SIZE = sizeOfStruct(TREE);\nexport const ORCTOKEN_SIZE = sizeOfStruct(ORCTOKEN);\nexport const CSOUND_PARAMS_SIZE = sizeOfStruct(CSOUND_PARAMS);\nexport const CS_MIDIDEVICE_SIZE = sizeOfStruct(CS_MIDIDEVICE);\n","import { sizeOfPrimitive } from \"./native-sizes.js\";\nimport { uint2String } from \"./text-encoders.js\";\nimport { trimNull } from \"./trim-null.js\";\n\nexport const structBufferToObject = (jsStruct, buffer) => {\n  const [result] = jsStruct.reduce(\n    ([parameters, offset], [parameterName, primitive, ...rest]) => {\n      const currentSize =\n        primitive === \"char\" ? sizeOfPrimitive[primitive] * rest[0] : sizeOfPrimitive[primitive];\n      const currentValue =\n        primitive === \"char\"\n          ? trimNull(uint2String(buffer.subarray(offset, currentSize))) || \"\"\n          : buffer[offset];\n      parameters[parameterName] = currentValue;\n      return [parameters, offset + currentSize];\n    },\n    [{}, 0],\n  );\n  return result;\n};\n","import { range } from \"../utils.js\";\nimport { freeStringPtr } from \"../utils/string-pointers.js\";\nimport { trimNull } from \"../utils/trim-null.js\";\nimport { structBufferToObject } from \"../utils/structure-buffer-to-object.js\";\nimport { CS_MIDIDEVICE_SIZE } from \"../utils/native-sizes.js\";\nimport { uint2String } from \"../utils/text-encoders.js\";\nimport { CS_MIDIDEVICE } from \"../structures.js\";\n\nexport const csoundSetMidiCallbacks = (wasm) => (csound /* CsoundInst */) => {\n  wasm[\"exports\"][\"csoundSetMidiCallbacks\"](csound);\n};\n\n/**\n * This function can be called to obtain a list of available input or output midi devices.\n * If list is NULL, the function will only return the number of devices\n * (isOutput=1 for out devices, 0 for in devices).\n * @function\n */\nexport const csoundGetMIDIDevList = (wasm) => (csound /* CsoundInst */, isOutput /* number */) => {\n  const { buffer } = wasm.wasi.memory;\n  const numberOfDevices = wasm[\"exports\"][\"csoundGetMIDIDevList\"](\n    csound,\n    undefined,\n    isOutput ? 1 : 0,\n  );\n  if (numberOfDevices === 0) return [];\n  const structLength = CS_MIDIDEVICE_SIZE;\n  const structOffset = wasm[\"exports\"][\"allocCsMidiDeviceStruct\"](numberOfDevices);\n  wasm[\"exports\"][\"csoundGetMIDIDevList\"](csound, structOffset, isOutput ? 1 : 0);\n  const structBuffer = new Uint8Array(buffer, structOffset, structLength * numberOfDevices);\n  /** @type CS_MIDIDEVICE */\n  const out = range(0, numberOfDevices).map((index) =>\n    structBufferToObject(CS_MIDIDEVICE, structBuffer.subarray(index * structLength, structLength)),\n  );\n  wasm[\"exports\"][\"freeCsMidiDeviceStruct\"](structOffset);\n  return out;\n};\n\ncsoundGetMIDIDevList[\"toString\"] = () => \"getMIDIDevList = async (isOutput) => Object;\";\n\n/**\n * This function can be called to obtain a list of available input or output midi devices.\n * If list is NULL, the function will only return the number of devices\n * (isOutput=1 for out devices, 0 for in devices).\n * @function\n */\nexport const csoundGetRtMidiName = (wasm) => (csound /* CsoundInst */) => {\n  const { buffer } = wasm.wasi.memory;\n  const ptr = wasm[\"exports\"][\"getRtMidiName\"](csound);\n  const stringBuffer = new Uint8Array(buffer, ptr, 128);\n  return trimNull(uint2String(stringBuffer)) || \"\";\n};\n\ncsoundGetRtMidiName[\"toString\"] = () => \"getRtMidiName = async () => String;\";\n\nexport const csoundGetMidiOutFileName = (wasm) => (csound /* CsoundInst */) => {\n  const { buffer } = wasm.wasi.memory;\n  const ptr = wasm.exports[\"getMidiOutFileName\"](csound);\n  const stringBuffer = new Uint8Array(buffer, ptr, 128);\n  ptr && ptr.length > 0 && freeStringPtr(wasm, ptr);\n  return trimNull(uint2String(stringBuffer)) || \"\";\n};\n\nexport const _isRequestingRtMidiInput = (wasm) => (csound /* CsoundInst */) => {\n  return wasm.exports[\"isRequestingRtMidiInput\"](csound);\n};\n\n/**\n * Emit a midi message with a given triplet of values\n * in the range of 0 to 127.\n * @function\n */\nexport const csoundPushMidiMessage =\n  (wasm) =>\n  (csound /* CsoundInst */, status /* number */, data1 /* number */, data2 /* number */) => {\n    wasm.exports[\"pushMidiMessage\"](csound, status, data1, data2);\n  };\n\ncsoundPushMidiMessage[\"toString\"] = () =>\n  \"midiMessage = async (status, data1, data2) => undefined;\";\n\n// PUBLIC void \tcsoundSetMIDIModule (CSOUND *csound, const char *module)\n// PUBLIC void \tcsoundSetHostImplementedMIDIIO (CSOUND *csound, int state)\n// PUBLIC int \tcsoundGetMIDIDevList (CSOUND *csound, CS_MIDIDEVICE *list, int isOutput)\n// PUBLIC void \tcsoundSetExternalMidiInOpenCallback (CSOUND *, int(*func)(CSOUND *, void **userData, const char *devName))\n// PUBLIC void \tcsoundSetExternalMidiReadCallback (CSOUND *, int(*func)(CSOUND *, void *userData, unsigned char *buf, int nBytes))\n// PUBLIC void \tcsoundSetExternalMidiInCloseCallback (CSOUND *, int(*func)(CSOUND *, void *userData))\n// PUBLIC void \tcsoundSetExternalMidiOutOpenCallback (CSOUND *, int(*func)(CSOUND *, void **userData, const char *devName))\n// PUBLIC void \tcsoundSetExternalMidiWriteCallback (CSOUND *, int(*func)(CSOUND *, void *userData, const unsigned char *buf, int nBytes))\n// PUBLIC void \tcsoundSetExternalMidiOutCloseCallback (CSOUND *, int(*func)(CSOUND *, void *userData))\n// PUBLIC void \tcsoundSetExternalMidiErrorStringCallback (CSOUND *, const char *(*func)(int))\n// PUBLIC void \tcsoundSetMIDIDeviceListCallback (CSOUND *csound, int(*mididevlist__)(CSOUND *, CS_MIDIDEVICE *list, int isOutput))\n","import { freeStringPtr, string2ptr } from \"../utils/string-pointers.js\";\nimport { structBufferToObject } from \"../utils/structure-buffer-to-object.js\";\nimport { sizeOfStruct } from \"../utils/native-sizes.js\";\nimport { CSOUND_PARAMS } from \"../structures.js\";\n\n/*\n   csound attribute module from <csound.h>\n   https://csound.com/docs/api/modules.html\n*/\n\n/**\n * Returns the sample rate from Csound instance\n * @function\n */\nexport const csoundGetSr = (wasm) => (csound) => wasm.exports[\"csoundGetSr\"](csound);\n\ncsoundGetSr[\"toString\"] = () => \"getSr = async () => Number;\";\n\n/**\n * Sets or gets the system (hardware) sample rate.\n * If val > 0, sets the system sr. Returns the stored system sr.\n * @function\n */\nexport const csoundSystemSr = (wasm) => (csound, val) => wasm.exports[\"csoundSystemSr\"](csound, val);\n\ncsoundSystemSr[\"toString\"] = () => \"systemSr = async (val) => Number;\";\n\n/**\n * Returns the control rate from Csound instance\n * @function\n */\nexport const csoundGetKr = (wasm) => (csound) => wasm.exports[\"csoundGetKr\"](csound);\n\ncsoundGetKr[\"toString\"] = () => \"getKr = async () => Number;\";\n\n/**\n * Returns the ksmps value (kr/sr) from Csound instance\n * @function\n */\nexport const csoundGetKsmps = (wasm) => (csound) => wasm.exports[\"csoundGetKsmps\"](csound);\n\ncsoundGetKsmps[\"toString\"] = () => \"getKsmps = async () => Number;\";\n\n\n/**\n * Returns the number of channels from Csound instance\n * @function\n */\nexport const csoundGetChannels = (wasm) => (csound, isInput) => wasm.exports[\"csoundGetChannels\"](csound, isInput);\n\ncsoundGetKsmps[\"toString\"] = () => \"getChannels = async (isInput) => Number;\";\n\n/**\n * Returns the number of output channels from Csound instance\n * @function\n */\nexport const csoundGetNchnls = (wasm) => (csound) => {\n    return wasm.exports[\"csoundGetChannels\"](csound, 0);\n}\n\ncsoundGetNchnls[\"toString\"] = () => \"getNchnls = async () => Number;\";\n\n/**\n * Returns the number of input channels from Csound instance\n * @function\n */\nexport const csoundGetNchnlsInput = (wasm) => (csound) =>{\n    return wasm.exports[\"csoundGetChannels\"](csound, 1);\n}\n\ncsoundGetNchnlsInput[\"toString\"] = () => \"getNchnlsInput = async () => Number;\";\n\n/**\n * Returns the value of csoundGet0dBFS\n * @function\n */\nexport const csoundGet0dBFS = (wasm) => (csound) => wasm.exports[\"csoundGet0dBFS\"](csound);\n\ncsoundGet0dBFS[\"toString\"] = () => \"get0dBFS = async () => Number;\";\n\n/**\n * Returns the A4 frequency reference\n * @function\n */\nexport const csoundGetA4 = (wasm) => (csound) => wasm.exports[\"csoundGetA4\"](csound);\n\ncsoundGetA4[\"toString\"] = () => \"getA4 = async () => Number;\";\n\n/**\n * Return the current performance time in samples\n * @function\n */\nexport const csoundGetCurrentTimeSamples = (wasm) => (csound) =>\n  wasm.exports[\"csoundGetCurrentTimeSamples\"](csound);\n\ncsoundGetCurrentTimeSamples[\"toString\"] = () => \"getCurrentTimeSamples = async () => Number;\";\n\n/**\n * Return the size of MYFLT in number of bytes\n * @function\n */\nexport const csoundGetSizeOfMYFLT = (wasm) => (csound) =>\n  wasm.exports[\"csoundGetSizeOfMYFLT\"](csound);\n\ncsoundGetSizeOfMYFLT[\"toString\"] = () => \"getSizeOfMYFLT = async () => Number;\";\n\n// TODO (do these make any sense in wasm?)\n// csoundGetHostData\n// csoundSetHostData\n\n/**\n * Set a single csound option (flag),\n * no spaces are allowed in the string.\n * @function\n */\nexport const csoundSetOption = (wasm) => (csound, option) => {\n  const stringPtr = string2ptr(wasm, option);\n  const result = wasm.exports[\"csoundSetOption\"](csound, stringPtr);\n  freeStringPtr(wasm, stringPtr);\n  return result;\n};\n\ncsoundSetOption[\"toString\"] = () => \"setOption = async (option) => Number;\";\n\n/**\n * Configure Csound with a given set of\n * parameters defined in the CSOUND_PARAMS structure.\n * These parameters are the part of the OPARMS struct\n * that are configurable through command line flags.\n * The CSOUND_PARAMS structure can be obtained using\n * csoundGetParams().\n * These options should only be changed before\n * performance has started.\n * @function\n */\nexport const csoundSetParams = (wasm) => (csound, csoundParameters) => {\n  wasm.exports[\"csoundSetParams\"](csound, csoundParameters);\n};\n\ncsoundSetParams[\"toString\"] = () => \"setParams = async (csoundParams) => undefined;\";\n\n/**\n * Get the current set of parameters\n * from a Csound instance\n * in a CSOUND_PARAMS structure.\n * @function\n */\nexport const csoundGetParams = (wasm) => (csound) => {\n  const { buffer } = wasm.wasi.memory;\n  const structLength = sizeOfStruct(CSOUND_PARAMS);\n  const structOffset = wasm.exports[\"allocCsoundParamsStruct\"]();\n  const structBuffer = new Uint8Array(buffer, structOffset, structLength);\n  wasm.exports[\"csoundGetParams\"](csound, structOffset);\n  const currentCsoundParameters = structBufferToObject(CSOUND_PARAMS, structBuffer);\n  wasm.exports[\"freeCsoundParams\"](structOffset);\n  return currentCsoundParameters;\n};\n\ncsoundGetParams[\"toString\"] = () => \"getParams = async () => CSOUND_PARAMS;\";\n\n/**\n * Returns whether Csound is set to print debug messages\n * sent through the DebugMsg() internal API function.\n * Anything different to 0 means true.\n * @function\n */\nexport const csoundGetDebug = (wasm) => (csound) => wasm.exports[\"csoundGetDebug\"](csound);\n\ncsoundGetDebug[\"toString\"] = () => \"getDebug = async () => Number;\";\n\n/**\n * Return the size of MYFLT in number of bytes\n * @function\n */\nexport const csoundSetDebug = (wasm) => (csound, debug) => {\n  wasm.exports[\"csoundSetDebug\"](csound, debug);\n};\n\ncsoundSetDebug[\"toString\"] = () => \"setDebug = async (number) => undefined;\";\n","/*\n   Realtime Audio I/O module from <csound.h>\n   https://csound.com/docs/api/modules.html\n*/\n\n/**\n * Returns the number of samples in Csound's input buffer.\n * @function\n */\nexport const csoundGetInputBufferSize = (wasm) => (csound) =>\n  wasm.exports[\"csoundGetInputBufferSize\"](csound);\n\ncsoundGetInputBufferSize[\"toString\"] = () => \"getInputBufferSize = async () => Number;\";\n\n/**\n * Returns the number of samples in Csound's output buffer.\n * @function\n */\nexport const csoundGetOutputBufferSize = (wasm) => (csound) =>\n  wasm.exports[\"csoundGetOutputBufferSize\"](csound);\n\ncsoundGetOutputBufferSize[\"toString\"] = () => \"getOutputBufferSize = async () => Number;\";\n\n/**\n * Returns the address of the Csound audio input buffer.\n * @function\n */\nexport const csoundGetInputBuffer = (wasm /* WasmInst */) => (csound /* CsoundInst */) =>\n  wasm.exports[\"csoundGetInputBuffer\"](csound);\n\ncsoundGetInputBuffer[\"toString\"] = () => \"getInputBuffer = async () => Number;\";\n\n/**\n * Returns the address of the Csound audio output buffer.\n * @function\n */\nexport const csoundGetOutputBuffer = (wasm /* WasmInst */) => (csound /* CsoundInst */) =>\n  wasm.exports[\"csoundGetOutputBuffer\"](csound);\n\ncsoundGetOutputBuffer[\"toString\"] = () => \"getOutputBuffer = async () => Number;\";\n\n/**\n * Returns the address of the Csound audio input working buffer (spin).\n * Enables external software to write audio into Csound before calling csoundPerformKsmps.\n * @function\n */\nexport const csoundGetSpin = (wasm /* WasmInst */) => (csound /* CsoundInst */) =>\n  wasm.exports[\"csoundGetSpin\"](csound);\n\ncsoundGetSpin[\"toString\"] = () => \"getSpin = async (csound) => Number;\";\n\n/**\n * Returns the address of the Csound audio output working buffer (spout).\n * Enables external software to read audio from Csound after calling csoundPerformKsmps.\n * @function\n */\nexport const csoundGetSpout = (wasm /* WasmInst */) => (csound /* CsoundInst */) =>\n  wasm.exports[\"csoundGetSpout\"](csound);\n\ncsoundGetSpout[\"toString\"] = () => \"getSpout = async () => Number;\";\n\n// PUBLIC void \tcsoundSetRTAudioModule (CSOUND *csound, const char *module)\n// PUBLIC int \tcsoundGetModule (CSOUND *csound, int number, char **name, char **type)\n\n// PUBLIC void \tcsoundClearSpin (CSOUND *)\n// PUBLIC void \tcsoundAddSpinSample (CSOUND *csound, int frame, int channel, MYFLT sample)\n// PUBLIC void \tcsoundSetSpinSample (CSOUND *csound, int frame, int channel, MYFLT sample)\n\n// PUBLIC MYFLT \tcsoundGetSpoutSample (CSOUND *csound, int frame, int channel)\n// PUBLIC void ** \tcsoundGetRtRecordUserData (CSOUND *)\n// PUBLIC void ** \tcsoundGetRtPlayUserData (CSOUND *)\n// PUBLIC void \tcsoundSetHostImplementedAudioIO (CSOUND *, int state, int bufSize)\n// PUBLIC int \tcsoundGetAudioDevList (CSOUND *csound, CS_AUDIODEVICE *list, int isOutput)\n// PUBLIC void \tcsoundSetPlayopenCallback (CSOUND *, int(*playopen__)(CSOUND *, const csRtAudioParams *parm))\n// PUBLIC void \tcsoundSetRtplayCallback (CSOUND *, void(*rtplay__)(CSOUND *, const MYFLT *outBuf, int nbytes))\n// PUBLIC void \tcsoundSetRecopenCallback (CSOUND *, int(*recopen_)(CSOUND *, const csRtAudioParams *parm))\n// PUBLIC void \tcsoundSetRtrecordCallback (CSOUND *, int(*rtrecord__)(CSOUND *, MYFLT *inBuf, int nbytes))\n// PUBLIC void \tcsoundSetRtcloseCallback (CSOUND *, void(*rtclose__)(CSOUND *))\n// PUBLIC void \tcsoundSetAudioDeviceListCallback (CSOUND *csound, int(*audiodevlist__)(CSOUND *, CS_AUDIODEVICE *list, int isOutput))\n","export const appendBuffers = (buffer1, buffer2) => {\n  const temporary = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  temporary.set(new Uint8Array(buffer1), 0);\n  temporary.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return temporary.buffer;\n};\n\nexport const nearestPowerOf2 = (n) => {\n  return 1 << (31 - Math.clz32(n));\n};\n\nexport const isIos = () => /iPhone|iPad|iPod/.test(navigator.userAgent);\n\nconst isFirefox = () => navigator.userAgent.toLowerCase().includes(\"firefox\");\n\nexport const isSafari = () =>\n  typeof navigator.vendor === \"string\" && navigator.vendor.includes(\"Apple\");\n\nexport const isSabSupported = () =>\n  !isFirefox() && window && window.Atomics !== undefined && window.SharedArrayBuffer !== undefined;\n\nexport const areWorkletsSupported = () => AudioNode !== undefined && AudioWorkletNode !== undefined;\n\nexport const WebkitAudioContext = () => {\n  if (window.webkitAudioContext !== undefined) {\n    return window.webkitAudioContext;\n  } else if (window.AudioContext !== undefined) {\n    return window.AudioContext;\n  }\n};\n\n\n\nexport const csoundApiRename = (apiName) => {\n  let minusCsound = apiName.replace(/^csound/i, \"\");\n  if (apiName === \"csoundPushMidiMessage\") {\n    minusCsound = \"midiMessage\";\n  }\n  return minusCsound.charAt(0).toLowerCase() + minusCsound.slice(1);\n};\n\nexport const stopableStates = new Set([\n  \"realtimePerformanceStarted\",\n  \"realtimePerformancePaused\",\n  \"realtimePerformanceResumed\",\n  \"renderStarted\",\n]);\n\nexport const makeProxyCallback =\n  (proxyPort, csoundInstance, apiK, playState) =>\n  async (...arguments_) => {\n    if (!playState || !stopableStates.has(playState)) {\n      const modifiedFs = {}; // getModifiedPersistentStorage();\n      Object.values(modifiedFs).length > 0 &&\n        (await proxyPort.callUncloned(\"syncWorkerFs\", [csoundInstance, modifiedFs]));\n    }\n    return await proxyPort.callUncloned(apiK, [csoundInstance, ...arguments_]);\n  };\n\nexport const makeSingleThreadCallback =\n  (csoundInstance, apiCallback) =>\n  async (...arguments_) => {\n    return await apiCallback.apply({}, [csoundInstance, ...arguments_]);\n  };\n\nexport const fetchPlugins = async (withPlugins) => {\n  return await Promise.all(\n    withPlugins.map(async (url) => {\n      const response = await fetch(url);\n      return response.arrayBuffer();\n    }),\n  );\n};\n\nexport const range = (start, end) => {\n  const answer = [];\n  for (let index = start; index < end; index++) {\n    answer.push(index);\n  }\n  return answer;\n};\n","import { freeStringPtr, ptr2string, string2ptr } from \"../utils/string-pointers.js\";\n\n/*\n   csound control-events module from <csound.h>\n   https://csound.com/docs/api/modules.html\n*/\n\n/**\n * Inputs an immediate score event\n * without any pre-process parsing\n * @function\n */\nexport const csoundInputMessage = (wasm) => (csound, scoEvent) => {\n  const stringPtr = string2ptr(wasm, scoEvent);\n  const result = wasm.exports[\"csoundEventString\"](csound, stringPtr, 0);\n  freeStringPtr(wasm, stringPtr);\n  return result;\n};\n\ncsoundInputMessage[\"toString\"] = () => \"inputMessage = async (scoreEvent) => Number;\";\n\n/**\n * Inputs an immediate score event\n * without any pre-process parsing\n * @function\n */\nexport const csoundInputMessageAsync = (wasm) => (csound, scoEvent) => {\n  const stringPtr = string2ptr(wasm, scoEvent);\n    const result = wasm.exports[\"csoundEventString\"](csound, stringPtr, 1);\n  freeStringPtr(wasm, stringPtr);\n  return result;\n};\n\ncsoundInputMessageAsync[\"toString\"] = () => \"inputMessageAsync = async (scoreEvent) => Number;\";\n\n/**\n * Retrieves the value of control channel identified by channelName.\n * If the err argument is not NULL, the error (or success) code finding\n * or accessing the channel is stored in it.\n * @function\n */\nexport const csoundGetControlChannel = (wasm) => (csound, channelName) => {\n  const stringPtr = string2ptr(wasm, channelName);\n  const result = wasm.exports[\"csoundGetControlChannelWasi\"](csound, stringPtr);\n  freeStringPtr(wasm, stringPtr);\n  return result;\n};\n\ncsoundGetControlChannel[\"toString\"] = () => \"getControlChannel = async (channelName) => Number;\";\n\n/**\n * Sets the value of control channel identified by channelName\n * @function\n */\nexport const csoundSetControlChannel = (wasm) => (csound, channelName, value) => {\n  const stringPtr = string2ptr(wasm, channelName);\n  wasm.exports[\"csoundSetControlChannel\"](csound, stringPtr, value);\n  freeStringPtr(wasm, stringPtr);\n};\n\ncsoundSetControlChannel[\"toString\"] = () =>\n  \"setControlChannel = async (channelName, value) => void;\";\n\n/**\n * Retrieves the string channel identified by channelName\n * @function\n */\nexport const csoundGetStringChannel = (wasm) => (csound, channelName) => {\n  const stringPtr = string2ptr(wasm, channelName);\n  const pointerToResult = wasm.exports[\"csoundGetStringChannelWasi\"](csound, stringPtr);\n  const result = ptr2string(wasm, pointerToResult);\n\n  freeStringPtr(wasm, stringPtr);\n  freeStringPtr(wasm, pointerToResult);\n  return result;\n};\n\ncsoundGetStringChannel[\"toString\"] = () => \"getStringChannel = async (channelName) => String;\";\n\n/**\n * Sets the string channel value identified by channelName\n * @function\n */\nexport const csoundSetStringChannel = (wasm) => (csound, channelName, value) => {\n  const stringPtr = string2ptr(wasm, channelName);\n  const stringPtr2 = string2ptr(wasm, value);\n  wasm.exports[\"csoundSetStringChannel\"](csound, stringPtr, stringPtr2);\n  freeStringPtr(wasm, stringPtr);\n  freeStringPtr(wasm, stringPtr2);\n};\n\ncsoundSetStringChannel[\"toString\"] = () => \"setStringChannel = async (channelName, value) => void;\";\n\n// csoundGetChannelPtr (CSOUND *, MYFLT **p, const char *name, int type)\n// csoundListChannels (CSOUND *, controlChannelInfo_t **lst)\n// csoundDeleteChannelList (CSOUND *, controlChannelInfo_t *lst)\n// csoundSetControlChannelHints (CSOUND *, const char *name, controlChannelHints_t hints)\n// csoundGetControlChannelHints (CSOUND *, const char *name, controlChannelHints_t *hints)\n// csoundGetChannelLock (CSOUND *, const char *name)\n// csoundSetControlChannel (CSOUND *csound, const char *name, MYFLT val)\n// csoundGetChannelDatasize (CSOUND *csound, const char *name)\n// csoundSetInputChannelCallback (CSOUND *csound, channelCallback_t inputChannelCalback)\n// csoundSetOutputChannelCallback (CSOUND *csound, channelCallback_t outputChannelCalback)\n// csoundSetPvsChannel (CSOUND *, const PVSDATEXT *fin, const char *name)\n// csoundGetPvsChannel (CSOUND *csound, PVSDATEXT *fout, const char *name)\n// csoundScoreEvent (CSOUND *, char type, const MYFLT *pFields, long numFields)\n// csoundScoreEventAsync (CSOUND *, char type, const MYFLT *pFields, long numFields)\n// csoundScoreEventAbsolute (CSOUND *, char type, const MYFLT *pfields, long numFields, double time_ofs)\n// csoundScoreEventAbsoluteAsync (CSOUND *, char type, const MYFLT *pfields, long numFields, double time_ofs)\n// csoundKillInstance (CSOUND *csound, MYFLT instr, char *instrName, int mode, int allow_release)\n// csoundRegisterSenseEventCallback (CSOUND *, void(*func)(CSOUND *, void *), void *userData)\n// csoundKeyPress (CSOUND *, char c)\n// csoundRegisterKeyboardCallback (CSOUND *, int(*func)(void *userData, void *p, unsigned int type), void *userData, unsigned int type)\n// csoundRemoveKeyboardCallback (CSOUND *csound, int(*func)(void *, void *, unsigned int))\n","import { uint2String } from \"../utils/text-encoders.js\";\nimport { trimNull } from \"../utils/trim-null.js\";\n\n/*\n   csound general i/o module from <csound.h>\n   https://csound.com/docs/api/modules.html\n*/\n\n/**\n * Returns the audio output name (-o)\n * @function\n */\nexport const csoundGetOutputName = (wasm) => (csound) => {\n  const { buffer } = wasm.wasi.memory;\n  const ptr = wasm.exports[\"csoundGetOutputName\"](csound);\n  const stringBuffer = new Uint8Array(buffer, ptr, 64);\n  return trimNull(uint2String(stringBuffer)) || \"\";\n};\n\ncsoundGetOutputName[\"toString\"] = () => \"getOutputName = async () => String;\";\n\n/**\n * Returns the audio input name (-i)\n * @function\n */\nexport const csoundGetInputName = (wasm) => (csound) => {\n  const { buffer } = wasm.wasi.memory;\n  const ptr = wasm.exports[\"csoundGetInputName\"](csound);\n  const stringBuffer = new Uint8Array(buffer, ptr, 64);\n  return trimNull(uint2String(stringBuffer)) || \"\";\n};\n\ncsoundGetInputName[\"toString\"] = () => \"getInputName = async (csound) => String;\";\n\n// PUBLIC void \tcsoundSetOutput (CSOUND *csound, const char *name, const char *type, const char *format)\n// PUBLIC void \tcsoundGetOutputFormat (CSOUND *csound, char *type, char *format)\n// PUBLIC void \tcsoundSetInput (CSOUND *csound, const char *name)\n// PUBLIC void \tcsoundSetMIDIInput (CSOUND *csound, const char *name)\n// PUBLIC void \tcsoundSetMIDIFileInput (CSOUND *csound, const char *name)\n// PUBLIC void \tcsoundSetMIDIOutput (CSOUND *csound, const char *name)\n// PUBLIC void \tcsoundSetMIDIFileOutput (CSOUND *csound, const char *name)\n// PUBLIC void \tcsoundSetFileOpenCallback (CSOUND *p, void(*func)(CSOUND *, const char *, int, int, int))\n","import { freeStringPtr, string2ptr } from \"../utils/string-pointers.js\";\n\n/**\n * Append 'value' to environment variable 'name'\n * added for internal usage of csound-wasm, feel\n * free to use as well ;)\n */\nexport const csoundAppendEnv = (wasm) => (csound, variable, value) => {\n  const varStringPtr = string2ptr(wasm, variable);\n  const valueStringPtr = string2ptr(wasm, value);\n  const res = wasm.exports[\"csoundAppendEnv\"](csound, varStringPtr, valueStringPtr);\n  freeStringPtr(wasm, varStringPtr);\n  freeStringPtr(wasm, valueStringPtr);\n  return res;\n};\n\ncsoundAppendEnv[\"toString\"] = () => \"appendEnv = async (csound, variable, value) => Number;\";\n\n// deliberately no jsdocs because this is internal only\nexport const csoundShouldDaemonize = (wasm) => (csound) =>\n  wasm.exports[\"csoundShouldDaemonize\"](csound);\n","import { freeStringPtr, string2ptr } from \"../utils/string-pointers.js\";\n/*\n   csound Score Handling module from <csound.h>\n   https://csound.com/docs/api/modules.html\n*/\n\n/**\n * Sees whether Csound score events are performed or not,\n * independently of real-time MIDI events\n * @function\n */\nexport const csoundIsScorePending = (wasm) => (csound /* CsoundInst */) =>\n  wasm.exports[\"csoundIsScorePending\"](csound);\n\ncsoundIsScorePending[\"toString\"] = () => \"isScorePending = async () => Number;\";\n\n/**\n * Sets whether Csound score events are performed or not\n * (real-time events will continue to be performed).\n * Can be used by external software, such as a VST host,\n * to turn off performance of score events (while continuing to perform real-time events),\n * for example to mute a Csound score while working on other tracks of a piece,\n * or to play the Csound instruments live.\n * @function\n */\nexport const csoundSetScorePending = (wasm) => (csound /* CsoundInst */, pending /* number */) =>\n  wasm.exports[\"csoundSetScorePending\"](csound, pending);\n\ncsoundSetScorePending[\"toString\"] = () => \"setScorePending = async (pending) => Number;\";\n\n/**\n * Read, preprocess, and load a score from an ASCII string It can be called repeatedly,\n * with the new score events being added to the currently scheduled ones.\n * @function\n */\nexport const csoundReadScore = (wasm) => (csound /* CsoundInst */, score /* string */) => {\n  const stringPtr = string2ptr(wasm, score);\n  const result = wasm.exports[\"csoundEventString\"](csound, stringPtr, 0);\n  freeStringPtr(wasm, stringPtr);\n  return result;\n};\n\ncsoundReadScore[\"toString\"] = () => \"readScore = async (score) => Number;\";\n\n/**\n * Returns the current score time in seconds since the beginning of performance.\n * @function\n */\nexport const csoundGetScoreTime = (wasm) => (csound /* CsoundInst */) =>\n  wasm.exports[\"csoundGetScoreTime\"](csound);\n\ncsoundGetScoreTime[\"toString\"] = () => \"getScoreTime = async () => Number;\";\n\n/**\n * Returns the score time beginning at which score events will actually immediately be performed\n * @function\n */\nexport const csoundGetScoreOffsetSeconds = (wasm) => (csound /* CsoundInst */) =>\n  wasm.exports[\"csoundGetScoreOffsetSeconds\"](csound);\n\ncsoundGetScoreOffsetSeconds[\"toString\"] = () => \"getScoreOffsetSeconds = async () => Number;\";\n\n/**\n * Csound score events prior to the specified time are not performed,\n * and performance begins immediately at the specified time\n * (real-time events will continue to be performed as they are received).\n * Can be used by external software, such as a VST host, to begin\n * score performance midway through a Csound score,\n * for example to repeat a loop in a sequencer,\n * or to synchronize other events with the Csound score.\n * @function\n */\nexport const csoundSetScoreOffsetSeconds = (wasm) => (csound /* CsoundInst */, time /* string */) =>\n  wasm.exports[\"csoundSetScoreOffsetSeconds\"](csound, time);\n\ncsoundSetScoreOffsetSeconds[\"toString\"] = () => \"setScoreOffsetSeconds = async () => Number;\";\n\n/**\n * Rewinds a compiled Csound score to the time specified with csoundObj.setScoreOffsetSeconds().\n * @function\n */\nexport const csoundRewindScore = (wasm) => (csound) =>\n  wasm.exports[\"csoundRewindScore\"](csound /* CsoundInst */);\n\ncsoundRewindScore[\"toString\"] = () => \"rewindScore = async () => undefined;\";\n\n// PUBLIC void \tcsoundSetCscoreCallback (CSOUND *, void(*cscoreCallback_)(CSOUND *))\n// PUBLIC int \tcsoundScoreSort (CSOUND *, FILE *inFile, FILE *outFile)\n// PUBLIC int \tcsoundScoreExtract (CSOUND *, FILE *inFile, FILE *outFile, FILE *extractFile)\n","import { uint2String } from \"../utils/text-encoders.js\";\n/*\n   csound table module from <csound.h>\n   https://csound.com/docs/api/group___t_a_b_l_e.html\n*/\n\n/**\n * Returns the length of a function table\n * (not including the guard point),\n * or -1 if the table does not exist.\n * @function\n */\nexport const csoundTableLength = (wasm) => (csound /* CsoundInst */, tableNumber /* string */) =>\n  wasm.exports[\"csoundTableLength\"](csound, tableNumber);\n\ncsoundTableLength.toString = () => \"tableLength = async (tableNum) => Number;\";\n\n/**\n * Copy the contents of an Array or TypedArray from javascript into a given csound function table.\n * The table number is assumed to be valid, and the table needs to have sufficient space\n * to receive all the array contents.\n * The table number and index are assumed to be valid.\n */\nexport const csoundTableCopyIn =\n  (wasm) => (csound /* CsoundInst */, tableNumber /* string */, array /* ArrayLike<number> */) => {\n    const arrayPtr = wasm.exports[\"allocFloatArray\"](array.length);\n    const buffer = new Float64Array(wasm.wasi.memory.buffer, arrayPtr, array.length);\n    buffer.set(array);\n    wasm.exports[\"csoundTableCopyIn\"](csound, tableNumber, arrayPtr);\n    wasm.exports[\"freeFloatArrayMem\"](arrayPtr);\n  };\n\ncsoundTableCopyIn.toString = () => \"tableCopyIn = async (tableNum, float64Array) => undefined;\";\n\n/**\n * Copies the contents of a function table from csound into Float64Array.\n * The function returns a Float64Array if the table exists, otherwise\n * it returns undefined.\n * @function\n */\nexport const csoundTableCopyOut = (wasm) => (csound /* CsoundInst */, tableNumber /* string */) => {\n  const tableLength = wasm.exports[\"csoundTableLength\"](csound, tableNumber);\n  if (tableLength > 0) {\n    const arrayPtr = wasm.exports[\"allocFloatArray\"](tableLength);\n    wasm.exports[\"csoundTableCopyOut\"](csound, tableNumber, arrayPtr);\n    const { buffer } = wasm.wasi.memory;\n    const freeableArray = new Float64Array(buffer, arrayPtr, tableLength);\n    const clonedArray = new Float64Array(freeableArray.length);\n    /* eslint-disable-next-line unicorn/no-for-loop */\n    for (let i = 0; i < freeableArray.length; i++) {\n      clonedArray[i] = freeableArray[i];\n    }\n    wasm.exports[\"freeFloatArrayMem\"](arrayPtr);\n    return clonedArray;\n  }\n};\n\ncsoundTableCopyOut.toString = () => \"tableCopyOut = async (tableNum) => ?Float64Array;\";\n\n/**\n * @name getTable\n * @alias csoundTableCopyOut\n * @async\n * @function\n */\nexport const csoundGetTable = csoundTableCopyOut;\ncsoundGetTable.toString = csoundTableCopyOut.toString;\n\n/**\n * Copies the contents of a function table from csound into Float64Array.\n * The function returns a Float64Array if the table exists, otherwise\n * it returns undefined.\n */\nexport const csoundGetTableArgs = (wasm) => (csound /* CsoundInst */, tableNumber /* string */) => {\n  const arrayPtr = wasm.exports[\"allocFloatArray\"](1024);\n  wasm.exports[\"csoundGetTableArgs\"](csound, arrayPtr, tableNumber);\n  const { buffer } = wasm.wasi.memory;\n  const jsArray = new Float64Array(buffer, arrayPtr, 1024);\n  wasm.exports[\"freeFloatArrayMem\"](arrayPtr);\n  return jsArray;\n};\n\ncsoundGetTableArgs[\"toString\"] = () => \"getTableArgs = async (tableNum) => ?Float64Array;\";\n\n\n","import { encoder } from \"../utils/text-encoders.js\";\n\n/** @export */\nfunction writeFile(wasm) {\n  return (_, path, data_) => {\n    const data = typeof data_ === \"string\" ? encoder.encode(data_) : data_;\n    wasm.wasi.writeFile(path, data);\n  };\n}\n\nwriteFile[\"toString\"] = () => \"async (path, data) => void\";\n\n/** @export */\nfunction appendFile(wasm) {\n  return (_, path, data_) => {\n    const data = typeof data_ === \"string\" ? encoder.encode(data_) : data_;\n    wasm.wasi.appendFile(path, data);\n  };\n}\n\nappendFile[\"toString\"] = () => \"async (path, data) => void\";\n\n/** @export */\nfunction readFile(wasm) {\n  return (_, path) => {\n    return wasm.wasi.readFile(path);\n  };\n}\n\nreadFile[\"toString\"] = () => \"async (path) => ?Uint8Array\";\n\n/** @export */\nfunction unlink(wasm) {\n  return (_, path) => {\n    return wasm.wasi.unlink(path);\n  };\n}\n\nunlink[\"toString\"] = () => \"async (path) => void\";\n\n/** @export */\nfunction readdir(wasm) {\n  return (_, path) => wasm.wasi.readdir(path);\n}\n\nreaddir[\"toString\"] = () => \"async (path) => string[]\";\n\n/** @export */\nfunction mkdir(wasm) {\n  return (_, path) => {\n    return wasm.wasi.mkdir(path);\n  };\n}\n\nmkdir[\"toString\"] = () => \"async (path) => void\";\n\n/** @export */\nfunction stat(wasm) {\n  return (_, path) => {\n    return wasm.wasi.stat(path);\n  };\n}\n\nstat[\"toString\"] = () => \"async (path) => ?object\";\n\n/** @export */\nfunction pathExists(wasm) {\n  return (_, path) => {\n    return wasm.wasi.pathExists(path);\n  };\n}\n\npathExists[\"toString\"] = () => \"async (path) => boolean\";\n\n/** @export */\nfunction chdir(wasm) {\n  return (_, path) => {\n    return wasm.wasi.chdir(path);\n  };\n}\n\nchdir[\"toString\"] = () => \"async (path) => number\";\n\n/** @export */\nfunction getcwd(wasm) {\n  return (_) => {\n    return wasm.wasi.cwd;\n  };\n}\n\ngetcwd[\"toString\"] = () => \"async () => string\";\n\nexport const fs = {};\n\nfs[\"writeFile\"] = writeFile;\nfs[\"appendFile\"] = appendFile;\nfs[\"readFile\"] = readFile;\nfs[\"unlink\"] = unlink;\nfs[\"readdir\"] = readdir;\nfs[\"mkdir\"] = mkdir;\nfs[\"stat\"] = stat;\nfs[\"pathExists\"] = pathExists;\nfs[\"chdir\"] = chdir;\nfs[\"getcwd\"] = getcwd;\n\nexport default fs;\n","import {\n  csoundCreate,\n  csoundDestroy,\n  csoundGetAPIVersion,\n  csoundGetVersion,\n  csoundInitialize,\n} from \"./modules/instantiation\";\nimport {\n  csoundParseOrc,\n  csoundCompileTree,\n  csoundCompileOrc,\n  csoundEvalCode,\n  csoundStart,\n  csoundCompileCSD,\n  csoundPerformKsmps,\n  csoundStop,\n  csoundReset,\n} from \"./modules/performance\";\nimport {\n  csoundGetSr,\n  csoundSystemSr,\n  csoundGetKr,\n  csoundGetKsmps,\n  csoundGetNchnls,\n  csoundGetNchnlsInput,\n  csoundGetChannels,  \n  csoundGet0dBFS,\n  csoundGetA4,\n  csoundGetCurrentTimeSamples,\n  csoundGetSizeOfMYFLT,\n  csoundSetOption,\n  csoundSetParams,\n  csoundGetParams,\n  csoundGetDebug,\n  csoundSetDebug,\n} from \"./modules/attributes\";\nimport {\n  csoundGetSpin,\n  csoundGetSpout,\n} from \"./modules/rtaudio\";\nimport {\n  csoundGetMIDIDevList,\n  csoundSetMidiCallbacks,\n  csoundGetRtMidiName,\n  csoundGetMidiOutFileName,\n  csoundPushMidiMessage,\n  _isRequestingRtMidiInput,\n} from \"./modules/rtmidi\";\nimport {\n  csoundInputMessage,\n  csoundInputMessageAsync,\n  csoundGetControlChannel,\n  csoundSetControlChannel,\n  csoundGetStringChannel,\n  csoundSetStringChannel,\n} from \"./modules/control-events\";\nimport { csoundGetInputName, csoundGetOutputName } from \"./modules/general-io\";\nimport { csoundAppendEnv, csoundShouldDaemonize } from \"./modules/extra\";\nimport {\n  csoundIsScorePending,\n  csoundSetScorePending,\n  csoundReadScore, \n  csoundGetScoreTime,\n  csoundGetScoreOffsetSeconds,\n  csoundSetScoreOffsetSeconds,\n  csoundRewindScore,\n} from \"./modules/score-handling\";\nimport {\n  csoundTableLength,\n  csoundTableCopyIn,\n  csoundTableCopyOut,\n  csoundGetTable,\n  csoundGetTableArgs,\n} from \"./modules/table\";\nimport fs from \"./filesystem/worker-fs\";\n\ngoog.declareModuleId(\"libcsound\");\n\n/*\n   Don't call these functions directly.\n   They are closures that take wasm instance as\n   first argument before they can be called as\n   documented.\n*/\n/**\n * @type {WasmExports}\n * @suppress {checkTypes}\n */\nexport const api = {\n  // @module/instantiation\n  csoundCreate,\n  csoundDestroy,\n  csoundGetAPIVersion,\n  csoundGetVersion,\n  csoundInitialize,\n  // @module/performance\n  csoundParseOrc,\n  csoundCompileTree,\n  csoundCompileOrc,\n  csoundEvalCode,\n  csoundStart,\n  csoundCompileCSD,\n  csoundPerformKsmps,\n  csoundStop,\n  csoundReset,\n  // @module/attributes  \n  csoundGetSr,\n  csoundSystemSr,\n  csoundGetKr,\n  csoundGetKsmps,\n  csoundGetNchnls,\n  csoundGetNchnlsInput,\n  csoundGetChannels,  \n  csoundGet0dBFS,\n  csoundGetA4,\n  csoundGetCurrentTimeSamples,\n  csoundGetSizeOfMYFLT,\n  csoundSetOption,\n  csoundGetDebug,\n  csoundSetDebug,\n  // @module/rtaudio\n  csoundGetSpin,\n  csoundGetSpout,\n  // @module/rtmidi\n  csoundGetMIDIDevList,\n  csoundSetMidiCallbacks,\n  csoundGetRtMidiName,\n  csoundGetMidiOutFileName,\n  csoundPushMidiMessage,\n  _isRequestingRtMidiInput,\n  // @module/control_events\n  csoundInputMessage,\n  csoundInputMessageAsync,\n  csoundGetControlChannel,\n  csoundSetControlChannel,\n  csoundGetStringChannel,\n  csoundSetStringChannel,\n  // @module/general_io\n  csoundGetInputName,\n  csoundGetOutputName,\n  // @module/extra\n  csoundAppendEnv,\n  csoundShouldDaemonize,\n  // @module/score-handling\n  csoundIsScorePending,\n  csoundSetScorePending,\n  csoundReadScore,\n  csoundGetScoreTime,\n  csoundGetScoreOffsetSeconds,\n  csoundSetScoreOffsetSeconds,\n  csoundRewindScore,\n  // @module/table\n  csoundTableLength,\n  csoundTableCopyIn,\n  csoundTableCopyOut,\n  csoundGetTable,\n  csoundGetTableArgs,\n  // filesystem\n  fs,\n};\n\nexport default function (wasm) {\n  const { fs: apiFs, ...apiRest } = api;\n\n  return {\n    ...Object.keys(apiRest).reduce((accumulator, k) => {\n      accumulator[k] = apiRest[k](wasm);\n      return accumulator;\n    }, {}),\n    ...Object.keys(apiFs).reduce((accumulator, k) => {\n      accumulator[k] = apiFs[k](wasm);\n      return accumulator;\n    }, {}),\n  };\n}\n","/*\nThis file is based on @wasmerio/wasi-js which in turn is based on\nwasi Node implementation made by Gus Caplan.\n * https://github.com/wasmerio/wasmer-js\n * https://github.com/devsnek/node-wasi\n\nCopyright 2017 Syrus <me@syrusakbary.com>\nCopyright 2019 Gus Caplan\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to\ndeal in the Software without restriction, including without limitation the\nrights to use, copy, modify, merge, publish, distribute, sublicense, and/or\nsell copies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\nIN THE SOFTWARE.\n*/\n\nif (goog.global !== undefined) {\n  /** @suppress {checkTypes} */\n  goog.global = {};\n}\n\nif (!goog.global.BigInt) {\n  goog.global.BigInt = BigInt === undefined ? Number : BigInt;\n}\n\nexport const WASI_ESUCCESS = 0;\nexport const WASI_E2BIG = 1;\nexport const WASI_EACCES = 2;\nexport const WASI_EADDRINUSE = 3;\nexport const WASI_EADDRNOTAVAIL = 4;\nexport const WASI_EAFNOSUPPORT = 5;\nexport const WASI_EAGAIN = 6;\nexport const WASI_EALREADY = 7;\nexport const WASI_EBADF = 8;\nexport const WASI_EBADMSG = 9;\nexport const WASI_EBUSY = 10;\nexport const WASI_ECANCELED = 11;\nexport const WASI_ECHILD = 12;\nexport const WASI_ECONNABORTED = 13;\nexport const WASI_ECONNREFUSED = 14;\nexport const WASI_ECONNRESET = 15;\nexport const WASI_EDEADLK = 16;\nexport const WASI_EDESTADDRREQ = 17;\nexport const WASI_EDOM = 18;\nexport const WASI_EDQUOT = 19;\nexport const WASI_EEXIST = 20;\nexport const WASI_EFAULT = 21;\nexport const WASI_EFBIG = 22;\nexport const WASI_EHOSTUNREACH = 23;\nexport const WASI_EIDRM = 24;\nexport const WASI_EILSEQ = 25;\nexport const WASI_EINPROGRESS = 26;\nexport const WASI_EINTR = 27;\nexport const WASI_EINVAL = 28;\nexport const WASI_EIO = 29;\nexport const WASI_EISCONN = 30;\nexport const WASI_EISDIR = 31;\nexport const WASI_ELOOP = 32;\nexport const WASI_EMFILE = 33;\nexport const WASI_EMLINK = 34;\nexport const WASI_EMSGSIZE = 35;\nexport const WASI_EMULTIHOP = 36;\nexport const WASI_ENAMETOOLONG = 37;\nexport const WASI_ENETDOWN = 38;\nexport const WASI_ENETRESET = 39;\nexport const WASI_ENETUNREACH = 40;\nexport const WASI_ENFILE = 41;\nexport const WASI_ENOBUFS = 42;\nexport const WASI_ENODEV = 43;\nexport const WASI_ENOENT = 44;\nexport const WASI_ENOEXEC = 45;\nexport const WASI_ENOLCK = 46;\nexport const WASI_ENOLINK = 47;\nexport const WASI_ENOMEM = 48;\nexport const WASI_ENOMSG = 49;\nexport const WASI_ENOPROTOOPT = 50;\nexport const WASI_ENOSPC = 51;\nexport const WASI_ENOSYS = 52;\nexport const WASI_ENOTCONN = 53;\nexport const WASI_ENOTDIR = 54;\nexport const WASI_ENOTEMPTY = 55;\nexport const WASI_ENOTRECOVERABLE = 56;\nexport const WASI_ENOTSOCK = 57;\nexport const WASI_ENOTSUP = 58;\nexport const WASI_ENOTTY = 59;\nexport const WASI_ENXIO = 60;\nexport const WASI_EOVERFLOW = 61;\nexport const WASI_EOWNERDEAD = 62;\nexport const WASI_EPERM = 63;\nexport const WASI_EPIPE = 64;\nexport const WASI_EPROTO = 65;\nexport const WASI_EPROTONOSUPPORT = 66;\nexport const WASI_EPROTOTYPE = 67;\nexport const WASI_ERANGE = 68;\nexport const WASI_EROFS = 69;\nexport const WASI_ESPIPE = 70;\nexport const WASI_ESRCH = 71;\nexport const WASI_ESTALE = 72;\nexport const WASI_ETIMEDOUT = 73;\nexport const WASI_ETXTBSY = 74;\nexport const WASI_EXDEV = 75;\nexport const WASI_ENOTCAPABLE = 76;\n\nexport const WASI_SIGABRT = 0;\nexport const WASI_SIGALRM = 1;\nexport const WASI_SIGBUS = 2;\nexport const WASI_SIGCHLD = 3;\nexport const WASI_SIGCONT = 4;\nexport const WASI_SIGFPE = 5;\nexport const WASI_SIGHUP = 6;\nexport const WASI_SIGILL = 7;\nexport const WASI_SIGINT = 8;\nexport const WASI_SIGKILL = 9;\nexport const WASI_SIGPIPE = 10;\nexport const WASI_SIGQUIT = 11;\nexport const WASI_SIGSEGV = 12;\nexport const WASI_SIGSTOP = 13;\nexport const WASI_SIGTERM = 14;\nexport const WASI_SIGTRAP = 15;\nexport const WASI_SIGTSTP = 16;\nexport const WASI_SIGTTIN = 17;\nexport const WASI_SIGTTOU = 18;\nexport const WASI_SIGURG = 19;\nexport const WASI_SIGUSR1 = 20;\nexport const WASI_SIGUSR2 = 21;\nexport const WASI_SIGVTALRM = 22;\nexport const WASI_SIGXCPU = 23;\nexport const WASI_SIGXFSZ = 24;\n\nexport const WASI_FILETYPE_UNKNOWN = 0;\nexport const WASI_FILETYPE_BLOCK_DEVICE = 1;\nexport const WASI_FILETYPE_CHARACTER_DEVICE = 2;\nexport const WASI_FILETYPE_DIRECTORY = 3;\nexport const WASI_FILETYPE_REGULAR_FILE = 4;\nexport const WASI_FILETYPE_SOCKET_DGRAM = 5;\nexport const WASI_FILETYPE_SOCKET_STREAM = 6;\nexport const WASI_FILETYPE_SYMBOLIC_LINK = 7;\n\nexport const WASI_FDFLAG_APPEND = 0x0001;\nexport const WASI_FDFLAG_DSYNC = 0x0002;\nexport const WASI_FDFLAG_NONBLOCK = 0x0004;\nexport const WASI_FDFLAG_RSYNC = 0x0008;\nexport const WASI_FDFLAG_SYNC = 0x0010;\n\nexport const WASI_RIGHT_FD_DATASYNC = goog.global.BigInt(0x0000000000000001);\nexport const WASI_RIGHT_FD_READ = goog.global.BigInt(0x0000000000000002);\nexport const WASI_RIGHT_FD_SEEK = goog.global.BigInt(0x0000000000000004);\nexport const WASI_RIGHT_FD_FDSTAT_SET_FLAGS = goog.global.BigInt(0x0000000000000008);\nexport const WASI_RIGHT_FD_SYNC = goog.global.BigInt(0x0000000000000010);\nexport const WASI_RIGHT_FD_TELL = goog.global.BigInt(0x0000000000000020);\nexport const WASI_RIGHT_FD_WRITE = goog.global.BigInt(0x0000000000000040);\nexport const WASI_RIGHT_FD_ADVISE = goog.global.BigInt(0x0000000000000080);\nexport const WASI_RIGHT_FD_ALLOCATE = goog.global.BigInt(0x0000000000000100);\nexport const WASI_RIGHT_PATH_CREATE_DIRECTORY = goog.global.BigInt(0x0000000000000200);\nexport const WASI_RIGHT_PATH_CREATE_FILE = goog.global.BigInt(0x0000000000000400);\nexport const WASI_RIGHT_PATH_LINK_SOURCE = goog.global.BigInt(0x0000000000000800);\nexport const WASI_RIGHT_PATH_LINK_TARGET = goog.global.BigInt(0x0000000000001000);\nexport const WASI_RIGHT_PATH_OPEN = goog.global.BigInt(0x0000000000002000);\nexport const WASI_RIGHT_FD_READDIR = goog.global.BigInt(0x0000000000004000);\nexport const WASI_RIGHT_PATH_READLINK = goog.global.BigInt(0x0000000000008000);\nexport const WASI_RIGHT_PATH_RENAME_SOURCE = goog.global.BigInt(0x0000000000010000);\nexport const WASI_RIGHT_PATH_RENAME_TARGET = goog.global.BigInt(0x0000000000020000);\nexport const WASI_RIGHT_PATH_FILESTAT_GET = goog.global.BigInt(0x0000000000040000);\nexport const WASI_RIGHT_PATH_FILESTAT_SET_SIZE = goog.global.BigInt(0x0000000000080000);\nexport const WASI_RIGHT_PATH_FILESTAT_SET_TIMES = goog.global.BigInt(0x0000000000100000);\nexport const WASI_RIGHT_FD_FILESTAT_GET = goog.global.BigInt(0x0000000000200000);\nexport const WASI_RIGHT_FD_FILESTAT_SET_SIZE = goog.global.BigInt(0x0000000000400000);\nexport const WASI_RIGHT_FD_FILESTAT_SET_TIMES = goog.global.BigInt(0x0000000000800000);\nexport const WASI_RIGHT_PATH_SYMLINK = goog.global.BigInt(0x0000000001000000);\nexport const WASI_RIGHT_PATH_REMOVE_DIRECTORY = goog.global.BigInt(0x0000000002000000);\nexport const WASI_RIGHT_PATH_UNLINK_FILE = goog.global.BigInt(0x0000000004000000);\nexport const WASI_RIGHT_POLL_FD_READWRITE = goog.global.BigInt(0x0000000008000000);\nexport const WASI_RIGHT_SOCK_SHUTDOWN = goog.global.BigInt(0x0000000010000000);\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_ALL =\n  WASI_RIGHT_FD_DATASYNC |\n  WASI_RIGHT_FD_READ |\n  WASI_RIGHT_FD_SEEK |\n  WASI_RIGHT_FD_FDSTAT_SET_FLAGS |\n  WASI_RIGHT_FD_SYNC |\n  WASI_RIGHT_FD_TELL |\n  WASI_RIGHT_FD_WRITE |\n  WASI_RIGHT_FD_ADVISE |\n  WASI_RIGHT_FD_ALLOCATE |\n  WASI_RIGHT_PATH_CREATE_DIRECTORY |\n  WASI_RIGHT_PATH_CREATE_FILE |\n  WASI_RIGHT_PATH_LINK_SOURCE |\n  WASI_RIGHT_PATH_LINK_TARGET |\n  WASI_RIGHT_PATH_OPEN |\n  WASI_RIGHT_FD_READDIR |\n  WASI_RIGHT_PATH_READLINK |\n  WASI_RIGHT_PATH_RENAME_SOURCE |\n  WASI_RIGHT_PATH_RENAME_TARGET |\n  WASI_RIGHT_PATH_FILESTAT_GET |\n  WASI_RIGHT_PATH_FILESTAT_SET_SIZE |\n  WASI_RIGHT_PATH_FILESTAT_SET_TIMES |\n  WASI_RIGHT_FD_FILESTAT_GET |\n  WASI_RIGHT_FD_FILESTAT_SET_TIMES |\n  WASI_RIGHT_FD_FILESTAT_SET_SIZE |\n  WASI_RIGHT_PATH_SYMLINK |\n  WASI_RIGHT_PATH_UNLINK_FILE |\n  WASI_RIGHT_PATH_REMOVE_DIRECTORY |\n  WASI_RIGHT_POLL_FD_READWRITE |\n  WASI_RIGHT_SOCK_SHUTDOWN;\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_BLOCK_DEVICE_BASE = RIGHTS_ALL;\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_BLOCK_DEVICE_INHERITING = RIGHTS_ALL;\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_CHARACTER_DEVICE_BASE = RIGHTS_ALL;\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_CHARACTER_DEVICE_INHERITING = RIGHTS_ALL;\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_REGULAR_FILE_BASE =\n  WASI_RIGHT_FD_DATASYNC |\n  WASI_RIGHT_FD_READ |\n  WASI_RIGHT_FD_SEEK |\n  WASI_RIGHT_FD_FDSTAT_SET_FLAGS |\n  WASI_RIGHT_FD_SYNC |\n  WASI_RIGHT_FD_TELL |\n  WASI_RIGHT_FD_WRITE |\n  WASI_RIGHT_FD_ADVISE |\n  WASI_RIGHT_FD_ALLOCATE |\n  WASI_RIGHT_FD_FILESTAT_GET |\n  WASI_RIGHT_FD_FILESTAT_SET_SIZE |\n  WASI_RIGHT_FD_FILESTAT_SET_TIMES |\n  WASI_RIGHT_POLL_FD_READWRITE;\n\nexport const RIGHTS_REGULAR_FILE_INHERITING = goog.global.BigInt(0);\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_DIRECTORY_BASE =\n  WASI_RIGHT_FD_FDSTAT_SET_FLAGS |\n  WASI_RIGHT_FD_SYNC |\n  WASI_RIGHT_FD_ADVISE |\n  WASI_RIGHT_PATH_CREATE_DIRECTORY |\n  WASI_RIGHT_PATH_CREATE_FILE |\n  WASI_RIGHT_PATH_LINK_SOURCE |\n  WASI_RIGHT_PATH_LINK_TARGET |\n  WASI_RIGHT_PATH_OPEN |\n  WASI_RIGHT_FD_READDIR |\n  WASI_RIGHT_PATH_READLINK |\n  WASI_RIGHT_PATH_RENAME_SOURCE |\n  WASI_RIGHT_PATH_RENAME_TARGET |\n  WASI_RIGHT_PATH_FILESTAT_GET |\n  WASI_RIGHT_PATH_FILESTAT_SET_SIZE |\n  WASI_RIGHT_PATH_FILESTAT_SET_TIMES |\n  WASI_RIGHT_FD_FILESTAT_GET |\n  WASI_RIGHT_FD_FILESTAT_SET_TIMES |\n  WASI_RIGHT_PATH_SYMLINK |\n  WASI_RIGHT_PATH_UNLINK_FILE |\n  WASI_RIGHT_PATH_REMOVE_DIRECTORY |\n  WASI_RIGHT_POLL_FD_READWRITE;\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_DIRECTORY_INHERITING = RIGHTS_DIRECTORY_BASE | RIGHTS_REGULAR_FILE_BASE;\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_SOCKET_BASE =\n  WASI_RIGHT_FD_READ |\n  WASI_RIGHT_FD_FDSTAT_SET_FLAGS |\n  WASI_RIGHT_FD_WRITE |\n  WASI_RIGHT_FD_FILESTAT_GET |\n  WASI_RIGHT_POLL_FD_READWRITE |\n  WASI_RIGHT_SOCK_SHUTDOWN;\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_SOCKET_INHERITING = RIGHTS_ALL;\n\n/** @suppress {checkTypes}\n *  @type {bigint} */\nexport const RIGHTS_TTY_BASE =\n  WASI_RIGHT_FD_READ |\n  WASI_RIGHT_FD_FDSTAT_SET_FLAGS |\n  WASI_RIGHT_FD_WRITE |\n  WASI_RIGHT_FD_FILESTAT_GET |\n  WASI_RIGHT_POLL_FD_READWRITE;\n\nexport const RIGHTS_TTY_INHERITING = goog.global.BigInt(0);\n\nexport const WASI_CLOCK_REALTIME = 0;\nexport const WASI_CLOCK_MONOTONIC = 1;\nexport const WASI_CLOCK_PROCESS_CPUTIME_ID = 2;\nexport const WASI_CLOCK_THREAD_CPUTIME_ID = 3;\n\nexport const WASI_EVENTTYPE_CLOCK = 0;\nexport const WASI_EVENTTYPE_FD_READ = 1;\nexport const WASI_EVENTTYPE_FD_WRITE = 2;\n\nexport const WASI_FILESTAT_SET_ATIM = Math.trunc(1);\nexport const WASI_FILESTAT_SET_ATIM_NOW = 1 << 1;\nexport const WASI_FILESTAT_SET_MTIM = 1 << 2;\nexport const WASI_FILESTAT_SET_MTIM_NOW = 1 << 3;\n\nexport const WASI_O_CREAT = Math.trunc(1);\nexport const WASI_O_DIRECTORY = 1 << 1;\nexport const WASI_O_EXCL = 1 << 2;\nexport const WASI_O_TRUNC = 1 << 3;\n\nexport const WASI_PREOPENTYPE_DIR = 0;\n\nexport const WASI_DIRCOOKIE_START = 0;\n\nexport const WASI_STDIN_FILENO = 0;\nexport const WASI_STDOUT_FILENO = 1;\nexport const WASI_STDERR_FILENO = 2;\n\nexport const WASI_WHENCE_SET = 0;\nexport const WASI_WHENCE_CUR = 1;\nexport const WASI_WHENCE_END = 2;\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Utilities for dealing with POSIX path strings. Based on\n * Python's os.path and posixpath.\n */\n\ngoog.provide('goog.string.path');\n\ngoog.require('goog.array');\ngoog.require('goog.string');\n\n\n/**\n * Returns the final component of a pathname.\n * See http://docs.python.org/library/os.path.html#os.path.basename\n * @param {string} path A pathname.\n * @return {string} path The final component of a pathname, i.e. everything\n *     after the final slash.\n */\ngoog.string.path.baseName = function(path) {\n  'use strict';\n  const i = path.lastIndexOf('/') + 1;\n  return path.slice(i);\n};\n\n\n/**\n * Alias to goog.string.path.baseName.\n * @param {string} path A pathname.\n * @return {string} path The final component of a pathname.\n * @deprecated Use goog.string.path.baseName.\n */\ngoog.string.path.basename = goog.string.path.baseName;\n\n\n/**\n * Returns the directory component of a pathname.\n * See http://docs.python.org/library/os.path.html#os.path.dirname\n * @param {string} path A pathname.\n * @return {string} The directory component of a pathname, i.e. everything\n *     leading up to the final slash.\n */\ngoog.string.path.dirname = function(path) {\n  'use strict';\n  const i = path.lastIndexOf('/') + 1;\n  let head = path.slice(0, i);\n  // If the path isn't all forward slashes, trim the trailing slashes.\n  if (!/^\\/+$/.test(head)) {\n    head = head.replace(/\\/+$/, '');\n  }\n  return head;\n};\n\n\n/**\n * Extracts the extension part of a pathname.\n * @param {string} path The path name to process.\n * @return {string} The extension if any, otherwise the empty string.\n */\ngoog.string.path.extension = function(path) {\n  'use strict';\n  const separator = '.';\n  // Combining all adjacent periods in the basename to a single period.\n  const baseName = goog.string.path.baseName(path).replace(/\\.+/g, separator);\n  const separatorIndex = baseName.lastIndexOf(separator);\n  return separatorIndex <= 0 ? '' : baseName.slice(separatorIndex + 1);\n};\n\n\n// TODO(johnlenz): goog.string.path.join should not accept undefined\n/**\n * Joins one or more path components (e.g. 'foo/' and 'bar' make 'foo/bar').\n * An absolute component will discard all previous component.\n * See http://docs.python.org/library/os.path.html#os.path.join\n * @param {...(string|undefined)} var_args One of more path components.\n * @return {string} The path components joined.\n */\ngoog.string.path.join = function(var_args) {\n  'use strict';\n  let path = arguments[0];\n\n  for (let i = 1; i < arguments.length; i++) {\n    const arg = arguments[i];\n    if (goog.string.startsWith(arg, '/')) {\n      path = arg;\n    } else if (path == '' || goog.string.endsWith(path, '/')) {\n      path += arg;\n    } else {\n      path += '/' + arg;\n    }\n  }\n\n  return path;\n};\n\n\n/**\n * Normalizes a pathname by collapsing duplicate separators, parent directory\n * references ('..'), and current directory references ('.').\n * See http://docs.python.org/library/os.path.html#os.path.normpath\n * @param {string} path One or more path components.\n * @return {string} The path after normalization.\n */\ngoog.string.path.normalizePath = function(path) {\n  'use strict';\n  if (path == '') {\n    return '.';\n  }\n\n  let initialSlashes = '';\n  // POSIX will keep two slashes, but three or more will be collapsed to one.\n  if (goog.string.startsWith(path, '/')) {\n    initialSlashes = '/';\n    if (goog.string.startsWith(path, '//') &&\n        !goog.string.startsWith(path, '///')) {\n      initialSlashes = '//';\n    }\n  }\n\n  const parts = path.split('/');\n  const newParts = [];\n\n  for (let i = 0; i < parts.length; i++) {\n    const part = parts[i];\n\n    // '' and '.' don't change the directory, ignore.\n    if (part == '' || part == '.') {\n      continue;\n    }\n\n    // A '..' should pop a directory unless this is not an absolute path and\n    // we're at the root, or we've travelled upwards relatively in the last\n    // iteration.\n    if (part != '..' || (!initialSlashes && !newParts.length) ||\n        goog.array.peek(newParts) == '..') {\n      newParts.push(part);\n    } else {\n      newParts.pop();\n    }\n  }\n\n  const returnPath = initialSlashes + newParts.join('/');\n  return returnPath || '.';\n};\n\n\n/**\n * Splits a pathname into \"dirname\" and \"baseName\" components, where \"baseName\"\n * is everything after the final slash. Either part may return an empty string.\n * See http://docs.python.org/library/os.path.html#os.path.split\n * @param {string} path A pathname.\n * @return {!Array<string>} An array of [dirname, basename].\n */\ngoog.string.path.split = function(path) {\n  'use strict';\n  const head = goog.string.path.dirname(path);\n  const tail = goog.string.path.baseName(path);\n  return [head, tail];\n};\n\n// TODO(nnaze): Implement other useful functions from os.path\n","/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview String functions called from Closure packages that couldn't\n * depend on each other. Outside Closure, use goog.string function which\n * delegate to these.\n */\n\n\ngoog.provide('goog.string.internal');\n\n\n/**\n * Fast prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix A string to look for at the start of `str`.\n * @return {boolean} True if `str` begins with `prefix`.\n * @see goog.string.startsWith\n */\ngoog.string.internal.startsWith = function(str, prefix) {\n  'use strict';\n  return str.lastIndexOf(prefix, 0) == 0;\n};\n\n\n/**\n * Fast suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of `str`.\n * @return {boolean} True if `str` ends with `suffix`.\n * @see goog.string.endsWith\n */\ngoog.string.internal.endsWith = function(str, suffix) {\n  'use strict';\n  const l = str.length - suffix.length;\n  return l >= 0 && str.indexOf(suffix, l) == l;\n};\n\n\n/**\n * Case-insensitive prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix  A string to look for at the end of `str`.\n * @return {boolean} True if `str` begins with `prefix` (ignoring\n *     case).\n * @see goog.string.caseInsensitiveStartsWith\n */\ngoog.string.internal.caseInsensitiveStartsWith = function(str, prefix) {\n  'use strict';\n  return (\n      goog.string.internal.caseInsensitiveCompare(\n          prefix, str.slice(0, prefix.length)) == 0);\n};\n\n\n/**\n * Case-insensitive suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of `str`.\n * @return {boolean} True if `str` ends with `suffix` (ignoring\n *     case).\n * @see goog.string.caseInsensitiveEndsWith\n */\ngoog.string.internal.caseInsensitiveEndsWith = function(str, suffix) {\n  'use strict';\n  return (\n      goog.string.internal.caseInsensitiveCompare(\n          suffix, str.slice(str.length - suffix.length)) == 0);\n};\n\n\n/**\n * Case-insensitive equality checker.\n * @param {string} str1 First string to check.\n * @param {string} str2 Second string to check.\n * @return {boolean} True if `str1` and `str2` are the same string,\n *     ignoring case.\n * @see goog.string.caseInsensitiveEquals\n */\ngoog.string.internal.caseInsensitiveEquals = function(str1, str2) {\n  'use strict';\n  return str1.toLowerCase() == str2.toLowerCase();\n};\n\n\n/**\n * Checks if a string is empty or contains only whitespaces.\n * @param {string} str The string to check.\n * @return {boolean} Whether `str` is empty or whitespace only.\n * @see goog.string.isEmptyOrWhitespace\n */\ngoog.string.internal.isEmptyOrWhitespace = function(str) {\n  'use strict';\n  // testing length == 0 first is actually slower in all browsers (about the\n  // same in Opera).\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return /^[\\s\\xa0]*$/.test(str);\n};\n\n\n/**\n * Trims white spaces to the left and right of a string.\n * @param {string} str The string to trim.\n * @return {string} A trimmed copy of `str`.\n */\ngoog.string.internal.trim =\n    (goog.TRUSTED_SITE && String.prototype.trim) ? function(str) {\n      'use strict';\n      return str.trim();\n    } : function(str) {\n      'use strict';\n      // Since IE doesn't include non-breaking-space (0xa0) in their \\s\n      // character class (as required by section 7.2 of the ECMAScript spec),\n      // we explicitly include it in the regexp to enforce consistent\n      // cross-browser behavior.\n      // NOTE: We don't use String#replace because it might have side effects\n      // causing this function to not compile to 0 bytes.\n      return /^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(str)[1];\n    };\n\n\n/**\n * A string comparator that ignores case.\n * -1 = str1 less than str2\n *  0 = str1 equals str2\n *  1 = str1 greater than str2\n *\n * @param {string} str1 The string to compare.\n * @param {string} str2 The string to compare `str1` to.\n * @return {number} The comparator result, as described above.\n * @see goog.string.caseInsensitiveCompare\n */\ngoog.string.internal.caseInsensitiveCompare = function(str1, str2) {\n  'use strict';\n  const test1 = String(str1).toLowerCase();\n  const test2 = String(str2).toLowerCase();\n\n  if (test1 < test2) {\n    return -1;\n  } else if (test1 == test2) {\n    return 0;\n  } else {\n    return 1;\n  }\n};\n\n\n/**\n * Converts \\n to <br>s or <br />s.\n * @param {string} str The string in which to convert newlines.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} A copy of `str` with converted newlines.\n * @see goog.string.newLineToBr\n */\ngoog.string.internal.newLineToBr = function(str, opt_xml) {\n  'use strict';\n  return str.replace(/(\\r\\n|\\r|\\n)/g, opt_xml ? '<br />' : '<br>');\n};\n\n\n/**\n * Escapes double quote '\"' and single quote '\\'' characters in addition to\n * '&', '<', and '>' so that a string can be included in an HTML tag attribute\n * value within double or single quotes.\n * @param {string} str string to be escaped.\n * @param {boolean=} opt_isLikelyToContainHtmlChars\n * @return {string} An escaped copy of `str`.\n * @see goog.string.htmlEscape\n */\ngoog.string.internal.htmlEscape = function(\n    str, opt_isLikelyToContainHtmlChars) {\n  'use strict';\n  if (opt_isLikelyToContainHtmlChars) {\n    str = str.replace(goog.string.internal.AMP_RE_, '&amp;')\n              .replace(goog.string.internal.LT_RE_, '&lt;')\n              .replace(goog.string.internal.GT_RE_, '&gt;')\n              .replace(goog.string.internal.QUOT_RE_, '&quot;')\n              .replace(goog.string.internal.SINGLE_QUOTE_RE_, '&#39;')\n              .replace(goog.string.internal.NULL_RE_, '&#0;');\n    return str;\n\n  } else {\n    // quick test helps in the case when there are no chars to replace, in\n    // worst case this makes barely a difference to the time taken\n    if (!goog.string.internal.ALL_RE_.test(str)) return str;\n\n    // str.indexOf is faster than regex.test in this case\n    if (str.indexOf('&') != -1) {\n      str = str.replace(goog.string.internal.AMP_RE_, '&amp;');\n    }\n    if (str.indexOf('<') != -1) {\n      str = str.replace(goog.string.internal.LT_RE_, '&lt;');\n    }\n    if (str.indexOf('>') != -1) {\n      str = str.replace(goog.string.internal.GT_RE_, '&gt;');\n    }\n    if (str.indexOf('\"') != -1) {\n      str = str.replace(goog.string.internal.QUOT_RE_, '&quot;');\n    }\n    if (str.indexOf('\\'') != -1) {\n      str = str.replace(goog.string.internal.SINGLE_QUOTE_RE_, '&#39;');\n    }\n    if (str.indexOf('\\x00') != -1) {\n      str = str.replace(goog.string.internal.NULL_RE_, '&#0;');\n    }\n    return str;\n  }\n};\n\n\n/**\n * Regular expression that matches an ampersand, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.AMP_RE_ = /&/g;\n\n\n/**\n * Regular expression that matches a less than sign, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.LT_RE_ = /</g;\n\n\n/**\n * Regular expression that matches a greater than sign, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.GT_RE_ = />/g;\n\n\n/**\n * Regular expression that matches a double quote, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.QUOT_RE_ = /\"/g;\n\n\n/**\n * Regular expression that matches a single quote, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.SINGLE_QUOTE_RE_ = /'/g;\n\n\n/**\n * Regular expression that matches null character, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.NULL_RE_ = /\\x00/g;\n\n\n/**\n * Regular expression that matches any character that needs to be escaped.\n * @const {!RegExp}\n * @private\n */\ngoog.string.internal.ALL_RE_ = /[\\x00&<>\"']/;\n\n\n/**\n * Do escaping of whitespace to preserve spatial formatting. We use character\n * entity #160 to make it safer for xml.\n * @param {string} str The string in which to escape whitespace.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} An escaped copy of `str`.\n * @see goog.string.whitespaceEscape\n */\ngoog.string.internal.whitespaceEscape = function(str, opt_xml) {\n  'use strict';\n  // This doesn't use goog.string.preserveSpaces for backwards compatibility.\n  return goog.string.internal.newLineToBr(\n      str.replace(/  /g, ' &#160;'), opt_xml);\n};\n\n\n/**\n * Determines whether a string contains a substring.\n * @param {string} str The string to search.\n * @param {string} subString The substring to search for.\n * @return {boolean} Whether `str` contains `subString`.\n * @see goog.string.contains\n */\ngoog.string.internal.contains = function(str, subString) {\n  'use strict';\n  return str.indexOf(subString) != -1;\n};\n\n\n/**\n * Determines whether a string contains a substring, ignoring case.\n * @param {string} str The string to search.\n * @param {string} subString The substring to search for.\n * @return {boolean} Whether `str` contains `subString`.\n * @see goog.string.caseInsensitiveContains\n */\ngoog.string.internal.caseInsensitiveContains = function(str, subString) {\n  'use strict';\n  return goog.string.internal.contains(\n      str.toLowerCase(), subString.toLowerCase());\n};\n\n\n/**\n * Compares two version numbers.\n *\n * @param {string|number} version1 Version of first item.\n * @param {string|number} version2 Version of second item.\n *\n * @return {number}  1 if `version1` is higher.\n *                   0 if arguments are equal.\n *                  -1 if `version2` is higher.\n * @see goog.string.compareVersions\n */\ngoog.string.internal.compareVersions = function(version1, version2) {\n  'use strict';\n  let order = 0;\n  // Trim leading and trailing whitespace and split the versions into\n  // subversions.\n  const v1Subs = goog.string.internal.trim(String(version1)).split('.');\n  const v2Subs = goog.string.internal.trim(String(version2)).split('.');\n  const subCount = Math.max(v1Subs.length, v2Subs.length);\n\n  // Iterate over the subversions, as long as they appear to be equivalent.\n  for (let subIdx = 0; order == 0 && subIdx < subCount; subIdx++) {\n    let v1Sub = v1Subs[subIdx] || '';\n    let v2Sub = v2Subs[subIdx] || '';\n\n    do {\n      // Split the subversions into pairs of numbers and qualifiers (like 'b').\n      // Two different RegExp objects are use to make it clear the code\n      // is side-effect free\n      const v1Comp = /(\\d*)(\\D*)(.*)/.exec(v1Sub) || ['', '', '', ''];\n      const v2Comp = /(\\d*)(\\D*)(.*)/.exec(v2Sub) || ['', '', '', ''];\n      // Break if there are no more matches.\n      if (v1Comp[0].length == 0 && v2Comp[0].length == 0) {\n        break;\n      }\n\n      // Parse the numeric part of the subversion. A missing number is\n      // equivalent to 0.\n      const v1CompNum = v1Comp[1].length == 0 ? 0 : parseInt(v1Comp[1], 10);\n      const v2CompNum = v2Comp[1].length == 0 ? 0 : parseInt(v2Comp[1], 10);\n\n      // Compare the subversion components. The number has the highest\n      // precedence. Next, if the numbers are equal, a subversion without any\n      // qualifier is always higher than a subversion with any qualifier. Next,\n      // the qualifiers are compared as strings.\n      order = goog.string.internal.compareElements_(v1CompNum, v2CompNum) ||\n          goog.string.internal.compareElements_(\n              v1Comp[2].length == 0, v2Comp[2].length == 0) ||\n          goog.string.internal.compareElements_(v1Comp[2], v2Comp[2]);\n      // Stop as soon as an inequality is discovered.\n\n      v1Sub = v1Comp[3];\n      v2Sub = v2Comp[3];\n    } while (order == 0);\n  }\n\n  return order;\n};\n\n\n/**\n * Compares elements of a version number.\n *\n * @param {string|number|boolean} left An element from a version number.\n * @param {string|number|boolean} right An element from a version number.\n *\n * @return {number}  1 if `left` is higher.\n *                   0 if arguments are equal.\n *                  -1 if `right` is higher.\n * @private\n */\ngoog.string.internal.compareElements_ = function(left, right) {\n  'use strict';\n  if (left < right) {\n    return -1;\n  } else if (left > right) {\n    return 1;\n  }\n  return 0;\n};\n","import { dlinit } from \"./dlinit\";\nimport { WASI } from \"./filesystem/wasi\";\nimport { clearArray } from \"./utils/clear-array\";\nimport { uint2String } from \"./utils/text-encoders.js\";\nimport { logWasmModule as log } from \"./logger\";\nimport { Inflate } from \"./zlib/inflate.js\";\n\nconst { assert } = goog.require(\"goog.asserts\");\n\nconst PAGE_SIZE = 65536;\nconst PAGES_PER_MB = 16; // 1048576 bytes per MB / PAGE_SIZE\n\nexport const csoundWasiJsMessageCallback = ({ memory, messagePort, streamBuffer, wasi }) => {\n  return function (csound_, attribute, length_, offset) {\n    if (!memory) {\n      return;\n    }\n    const buf = new Uint8Array(memory.buffer, offset, length_);\n    const string = uint2String(buf);\n    const endsWithNewline = /\\n$/g.test(string);\n    const startsWithNewline = /^\\n/g.test(string);\n    const chunks = string.split(\"\\n\").filter((item) => item.length > 0);\n    const printableChunks = [];\n    if ((chunks.length === 0 && endsWithNewline) || startsWithNewline) {\n      printableChunks.push(streamBuffer.join(\"\"));\n      clearArray(streamBuffer);\n    }\n    chunks.forEach((chunk, index) => {\n      // if it's last chunk\n      if (index + 1 === chunks.length) {\n        if (endsWithNewline) {\n          if (index === 0) {\n            printableChunks.push(streamBuffer.join(\"\") + chunk);\n            clearArray(streamBuffer);\n          } else {\n            printableChunks.push(chunk);\n          }\n        } else {\n          streamBuffer.push(chunk);\n        }\n      } else if (index === 0) {\n        printableChunks.push(streamBuffer.join(\"\") + chunk);\n        clearArray(streamBuffer);\n      } else {\n        printableChunks.push(chunk);\n      }\n    });\n    printableChunks.forEach((chunk) => {\n      const maybePrintable = chunk.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n      if (maybePrintable) {\n        messagePort.post({ log: chunk });\n      }\n    });\n  };\n};\n\nconst assertPluginExports = (pluginInstance) => {\n  if (\n    !pluginInstance ||\n    typeof pluginInstance !== \"object\" ||\n    typeof pluginInstance.exports !== \"object\"\n  ) {\n    console.error(\"Error instantiating a csound plugin, instance and/or export is missing!\");\n    return false;\n  } else if (!pluginInstance.exports[\"__wasm_call_ctors\"]) {\n    console.error(\n      \"A csound plugin didn't export __wasm_call_ctors.\\n\" +\n        \"Please re-run wasm-ld with either --export-all or include --export=__wasm_call_ctors\",\n    );\n    return false;\n  } else if (\n    !pluginInstance.exports[\"csoundModuleCreate\"] &&\n    !pluginInstance.exports[\"csound_opcode_init\"] &&\n    !pluginInstance.exports[\"csound_fgen_init\"]\n  ) {\n    console.error(\n      pluginInstance.exports,\n      \"A csound plugin turns out to be neither a plugin, opcode or module.\\n\" +\n        \"Perhaps csdl.h or module.h wasn't imported correctly?\",\n    );\n    return false;\n  } else {\n    return true;\n  }\n};\n\nconst getBinaryHeaderData = (wasmBytes) => {\n  const magicBytes = new Uint32Array(new Uint8Array(wasmBytes.subarray(0, 24)).buffer);\n  // eslint-disable-next-line unicorn/number-literal-case\n  if (magicBytes[0] !== 0x6d736100) {\n    console.error(\"Wasm magic number is missing!\");\n  }\n  if (wasmBytes[8] !== 0) {\n    log(\"Dylink section wasn't found in wasm binary, assuming static wasm.\");\n    return \"static\";\n  }\n\n  let next = 9;\n  function getLEB() {\n    let returnValue = 0;\n    let mul = 1;\n    while (1) {\n      const byte = wasmBytes[next++];\n      // eslint-disable-next-line unicorn/number-literal-case\n      returnValue += (byte & 0x7f) * mul;\n      mul *= 0x80;\n      if (!(byte & 0x80)) break;\n    }\n    return returnValue;\n  }\n\n  const sectionSize = getLEB();\n  next++; // size of \"dylink\" string\n  assert(wasmBytes[next] === \"d\".codePointAt(0));\n  next++;\n  assert(wasmBytes[next] === \"y\".codePointAt(0));\n  next++;\n  assert(wasmBytes[next] === \"l\".codePointAt(0));\n  next++;\n  assert(wasmBytes[next] === \"i\".codePointAt(0));\n  next++;\n  assert(wasmBytes[next] === \"n\".codePointAt(0));\n  next++;\n  assert(wasmBytes[next] === \"k\".codePointAt(0));\n  next++;\n  assert(wasmBytes[next] === \".\".codePointAt(0));\n  next++;\n  assert(wasmBytes[next] === \"0\".codePointAt(0));\n  next += 3;\n\n  const memorySize = getLEB();\n  const memoryAlign = getLEB();\n  const tableSize = getLEB();\n  const tableAlign = getLEB();\n  const neededDynlibsCount = getLEB();\n\n  return { sectionSize, memorySize, memoryAlign, neededDynlibsCount, tableSize, tableAlign };\n};\n\n// currently dl is default, static is good for low level debugging\nconst loadStaticWasm = async ({ wasmBytes, wasmFs, wasi, messagePort }) => {\n  const module = await WebAssembly.compile(wasmBytes);\n  const memory = new WebAssembly.Memory({ initial: 65536 / 4 });\n  const streamBuffer = [];\n  const options = wasi.getImports(module);\n  options.env = options.env || {};\n  options.env.csoundLoadModules = () => 0;\n  options.env.memory = memory;\n  options.env.csoundWasiJsMessageCallback = csoundWasiJsMessageCallback({\n    memory: options.env.memory,\n    streamBuffer,\n    messagePort,\n  });\n\n  /**\n   * @suppress {checkTypes}\n   * @type {WasmInst} */\n  const instance = await WebAssembly.instantiate(module, options);\n\n  wasi.setMemory(memory);\n  wasi.start(instance);\n  instance.exports.__wasi_js_csoundSetMessageStringCallback();\n  return [instance, wasi];\n};\n\nexport default async function ({ wasmDataURI, withPlugins = [], messagePort }) {\n  const wasmFs = {};\n\n  const wasi = new WASI({ preopens: { \"/\": \"/\" } });\n\n  const wasmCompressed = new Uint8Array(wasmDataURI);\n  const wasmZlib = new Inflate(wasmCompressed);\n\n  const wasmBytes = wasmZlib.decompress();\n\n  const magicData = getBinaryHeaderData(wasmBytes);\n  if (magicData === \"static\") {\n    return await loadStaticWasm({ messagePort, wasmBytes, wasmFs, wasi });\n  }\n  const { memorySize, memoryAlign, tableSize } = magicData;\n\n  // get the header data from plugins which we need before\n  // initializing the main module\n  withPlugins = await withPlugins.reduce(async (accumulator, wasmPlugin) => {\n    const accumulator_ = await accumulator;\n\n    let wasmPluginBytes;\n    let pluginHeaderData;\n    try {\n      wasmPluginBytes = new Uint8Array(wasmPlugin);\n      pluginHeaderData = getBinaryHeaderData(wasmPluginBytes);\n    } catch (error) {\n      console.error(\"Error in plugin\", error);\n    }\n    if (pluginHeaderData) {\n      accumulator_.push({ headerData: pluginHeaderData, wasmPluginBytes });\n    }\n    return accumulator_;\n  }, []);\n\n  // The `fixedMemoryBase` is equivalent to the stack size. Note that the stack size grows down towards the code\n  // section. This means that if the stack overflows then it will write over the Csound and plugin code which will\n  // cause all kinds of strange behavior including errors that make no sense, no output of sound, or sound output will\n  // be horrendously loud static and garbage sounds.\n  //\n  // TODO: Investigate using the --stack-first linker flag to move the stack to the beginning of memory so it doesn't\n  // write over anything if it overflows.\n  //\n  const fixedMemoryBase = 128 * PAGES_PER_MB;\n  const initialMemory = Math.ceil((memorySize + memoryAlign) / PAGE_SIZE);\n  const pluginsMemory = Math.ceil(\n    withPlugins.reduce(\n      (accumulator, { headerData }) =>\n        headerData === \"static\" ? 0 : accumulator + (headerData.memorySize + memoryAlign),\n      0,\n    ) / PAGE_SIZE,\n  );\n\n  const totalInitialMemory = initialMemory + pluginsMemory + fixedMemoryBase;\n\n  // Request a max of 1gb of memory so devices use less CPU when growing memory. This has a noticeable effect on low-\n  // powered devices like the Oculus Quest 2.\n  const memory = new WebAssembly.Memory({\n    initial: totalInitialMemory,\n    maximum: 1024 * PAGES_PER_MB,\n  });\n\n  const table = new WebAssembly.Table({ initial: tableSize + 1, element: \"anyfunc\" });\n\n  wasi.setMemory(memory);\n\n  const stackPointer = new WebAssembly.Global(\n    { value: \"i32\", mutable: true },\n    totalInitialMemory * PAGE_SIZE,\n  );\n  const heapBase = new WebAssembly.Global(\n    { value: \"i32\", mutable: true },\n    totalInitialMemory * PAGE_SIZE,\n  );\n  const memoryBase = new WebAssembly.Global({ value: \"i32\", mutable: false }, fixedMemoryBase);\n  const tableBase = new WebAssembly.Global({ value: \"i32\", mutable: false }, 1);\n  const __dummy = new WebAssembly.Global({ value: \"i32\", mutable: true }, 0);\n\n  /** @suppress {checkTypes} */\n  const module = await WebAssembly.compile(wasmBytes);\n  const options = wasi.getImports(module);\n  let withPlugins_ = [];\n\n  let currentMemorySegment = initialMemory;\n\n  const csoundLoadModules = (csoundInstance) => {\n    withPlugins_.forEach((pluginInstance) => {\n      if (instance === undefined) {\n        console.error(\"csound-wasm internal: timing problem detected!\");\n      } else {\n        dlinit(instance, pluginInstance, table, csoundInstance);\n      }\n    });\n    return 0;\n  };\n\n  options[\"env\"] = options[\"env\"] || {};\n  options[\"env\"][\"memory\"] = memory;\n  options[\"env\"][\"__indirect_function_table\"] = table;\n  options[\"env\"][\"__stack_pointer\"] = stackPointer;\n  options[\"env\"][\"__memory_base\"] = memoryBase;\n  options[\"env\"][\"__table_base\"] = tableBase;\n  options[\"env\"][\"csoundLoadModules\"] = csoundLoadModules;\n  options[\"env\"][\"csoundLoadExternals\"] = () => {};\n\n  // TODO find out what's leaking this thread-local errno (cpp?)\n  options[\"env\"][\"_ZTH5errno\"] = function () {};\n\n  const streamBuffer = [];\n  options[\"env\"][\"csoundWasiJsMessageCallback\"] = csoundWasiJsMessageCallback({\n    memory,\n    messagePort,\n    streamBuffer,\n  });\n\n  options[\"env\"][\"printDebugCallback\"] = (offset, length) => {\n    const buf = new Uint8Array(memory.buffer, offset, length);\n    const string = uint2String(buf);\n    console.log(string);\n  };\n\n  options[\"GOT.mem\"] = options[\"GOT.mem\"] || {};\n  options[\"GOT.mem\"][\"__heap_base\"] = heapBase;\n\n  options[\"GOT.func\"] = options[\"GOT.func\"] || {};\n\n  /**\n   * @suppress {checkTypes}\n   * @type {WasmInst} */\n  const instance = await WebAssembly.instantiate(module, options);\n  const moduleExports = Object.assign({}, instance[\"exports\"]);\n  /**\n   * @suppress {checkTypes}\n   * @type {WasmInst} */\n  const instance_ = {};\n\n  moduleExports[\"memory\"] = memory;\n\n  /** @suppress {checkTypes} */\n  instance_[\"exports\"] = moduleExports;\n\n  withPlugins_ = await withPlugins.reduce(async (accumulator, { headerData, wasmPluginBytes }) => {\n    accumulator = await accumulator;\n    try {\n      const {\n        memorySize: pluginMemorySize,\n        memoryAlign: pluginMemoryAlign,\n        tableSize: pluginTableSize,\n      } = headerData;\n\n      /** @suppress {checkTypes} */\n      const plugin = await WebAssembly.compile(wasmPluginBytes);\n      const pluginOptions = wasi.getImports(plugin);\n\n      const pluginMemoryBase = new WebAssembly.Global(\n        { value: \"i32\", mutable: false },\n        currentMemorySegment * PAGE_SIZE,\n      );\n\n      table.grow(pluginTableSize);\n\n      pluginOptions[\"env\"] = Object.assign({}, pluginOptions[\"env\"]);\n      pluginOptions[\"env\"][\"memory\"] = memory;\n      pluginOptions[\"env\"][\"__indirect_function_table\"] = table;\n      pluginOptions[\"env\"][\"__memory_base\"] = pluginMemoryBase;\n      pluginOptions[\"env\"][\"__stack_pointer\"] = stackPointer;\n      pluginOptions[\"env\"][\"__table_base\"] = tableBase;\n      pluginOptions[\"env\"][\"csoundLoadModules\"] = __dummy;\n      delete pluginOptions[\"env\"][\"csoundWasiJsMessageCallback\"];\n\n      currentMemorySegment += Math.ceil((pluginMemorySize + pluginMemoryAlign) / PAGE_SIZE);\n\n      /**\n       * @suppress {checkTypes}\n       * @type {WasmInst} */\n      const pluginInstance = await WebAssembly.instantiate(plugin, pluginOptions);\n\n      if (assertPluginExports(pluginInstance)) {\n        pluginInstance.exports.__wasm_call_ctors();\n        accumulator.push(pluginInstance);\n      }\n    } catch (error) {\n      console.error(\"Error while compiling csound-plugin\", error);\n    }\n    return accumulator;\n  }, []);\n\n  wasi.start(instance_);\n\n  instance_[\"exports\"][\"__wasi_js_csoundSetMessageStringCallback\"]();\n  return [instance_, wasi];\n}\n","export function clearArray(array) {\n  while (array.length > 0) {\n    array.pop();\n  }\n}\n","import LoggerFactoryNS from \"lines-logger/lib/index.js\";\n\nlet logWorkletMain,\n  logWorkletWorker,\n  logSABMain,\n  logSABWorker,\n  logVANMain,\n  logVANWorker,\n  logIndex,\n  logSinglethreadWorkletMain,\n  logSinglethreadWorkletWorker,\n  logCommonUtils,\n  logWasmModule,\n  logMidiRequest;\n\n/** @define {boolean} */\nconst isProd = goog.define(\"PRODUCTION\", false);\n\nif (isProd) {\n  /**\n   * @suppress {checkTypes}\n   */\n  logWorkletMain = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logWorkletWorker = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logSABMain = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logSABWorker = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logVANMain = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logVANWorker = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logIndex = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n\n  /**\n   * @suppress {checkTypes}\n   */\n  logSinglethreadWorkletMain = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logSinglethreadWorkletWorker = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logCommonUtils = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logWasmModule = (ignore1) => (ignore2) => {};\n  /**\n   * @suppress {checkTypes}\n   */\n  logMidiRequest = (ignore1) => (ignore2) => {};\n} else {\n  // catches chromium and chrome\n\n  const loggerFactory = new LoggerFactoryNS.LoggerFactory();\n\n  const indexLogger = loggerFactory.getLoggerColor(\"index.js\", \"#1E88E5\");\n  const workletMainLogger = loggerFactory.getLoggerColor(\"WorkletMain\", \"#6D4C41\");\n  const workletWorkerLogger = loggerFactory.getLoggerColor(\"WorkletWorker\", \"#D7CCC8\");\n  const sabMainLogger = loggerFactory.getLoggerColor(\"Sab_Main\", \"#000000\");\n  const sabWorkerLogger = loggerFactory.getLoggerColor(\"Sab_Worker\", \"#222222\");\n  const vanMainLogger = loggerFactory.getLoggerColor(\"Van_Main\", \"#F4511E\");\n  const vanWorkerLogger = loggerFactory.getLoggerColor(\"Van_Worker\", \"#FFAB91\");\n  const singleWorkletMainLogger = loggerFactory.getLoggerColor(\n    \"WorkletSinglethread_Main\",\n    \"#1E88E5\",\n  );\n  const singleWorkletWorkerLogger = loggerFactory.getLoggerColor(\n    \"WorkletSinglethread_Worker\",\n    \"#90CAF9\",\n  );\n  const commonUtilsLogger = loggerFactory.getLoggerColor(\"common.utils.js\", \"#FFD600\");\n  const wasmModuleLogger = loggerFactory.getLoggerColor(\"module.js\", \"#FFF59D\");\n  const midiRequestLogger = loggerFactory.getLoggerColor(\"utils/request-midi.js\", \"#FFD600\");\n\n  logWorkletMain = workletMainLogger.log;\n  logWorkletWorker = workletWorkerLogger.log;\n  logSABMain = sabMainLogger.log;\n  logSABWorker = sabWorkerLogger.log;\n  logVANMain = vanMainLogger.log;\n  logVANWorker = vanWorkerLogger.log;\n  logIndex = indexLogger.log;\n  logSinglethreadWorkletMain = singleWorkletMainLogger.log;\n  logSinglethreadWorkletWorker = singleWorkletWorkerLogger.log;\n  logCommonUtils = commonUtilsLogger.log;\n  logWasmModule = wasmModuleLogger.log;\n  logMidiRequest = midiRequestLogger.log;\n}\n\n/**\n * @suppress {checkTypes}\n */\nexport default (ignore1) => (ignore2) => {};\n\nexport {\n  logWorkletMain,\n  logWorkletWorker,\n  logSABMain,\n  logSABWorker,\n  logVANMain,\n  logVANWorker,\n  logIndex,\n  logSinglethreadWorkletMain,\n  logSinglethreadWorkletWorker,\n  logCommonUtils,\n  logWasmModule,\n  logMidiRequest,\n};\n","/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */\n/* eslint-disable unicorn/numeric-separators-style,camelcase,no-unused-expressions */\n\n/**\n * build huffman table from length list.\n * @param {Uint8Array} lengths length list.\n * @return {Array.<number,number,number>} huffman table.\n */\nexport function Huffman(lengths) {\n  /** @type {number} length list size. */\n  const listSize = lengths.length;\n  /** @type {number} max code length for table size. */\n  let maxCodeLength = 0;\n  /** @type {number} min code length for table size. */\n  let minCodeLength = Number.POSITIVE_INFINITY;\n  /** @type {number} bit length. */\n  let bitLength;\n  /** @type {number} huffman code. */\n  let code;\n  /**\n   * @type {number} skip length for table filling.\n   */\n  let skip;\n  /** @type {number} reversed code. */\n  let reversed;\n  /** @type {number} reverse temp. */\n  let rtemp;\n  /** @type {number} loop counter. */\n  let index;\n  /** @type {number} loop limit. */\n  let il;\n  /** @type {number} loop counter. */\n  let index_;\n  /** @type {number} table value. */\n  let value;\n\n  // Math.max \u306f\u9045\u3044\u306e\u3067\u6700\u9577\u306e\u5024\u306f for-loop \u3067\u53d6\u5f97\u3059\u308b\n  for (index = 0, il = listSize; index < il; ++index) {\n    if (lengths[index] > maxCodeLength) {\n      maxCodeLength = lengths[index];\n    }\n    if (lengths[index] < minCodeLength) {\n      minCodeLength = lengths[index];\n    }\n  }\n\n  /** @type {number} table size. */\n  const size = 1 << maxCodeLength;\n  /** @type {Uint8Array|Uint16Array|Uint32Array} huffman code table. */\n  const table = new Uint32Array(size);\n\n  // \u30d3\u30c3\u30c8\u9577\u306e\u77ed\u3044\u9806\u304b\u3089\u30cf\u30d5\u30de\u30f3\u7b26\u53f7\u3092\u5272\u308a\u5f53\u3066\u308b\n  for (bitLength = 1, code = 0, skip = 2; bitLength <= maxCodeLength; ) {\n    for (index = 0; index < listSize; ++index) {\n      if (lengths[index] === bitLength) {\n        // \u30d3\u30c3\u30c8\u30aa\u30fc\u30c0\u30fc\u304c\u9006\u306b\u306a\u308b\u305f\u3081\u30d3\u30c3\u30c8\u9577\u5206\u4e26\u3073\u3092\u53cd\u8ee2\u3059\u308b\n        for (reversed = 0, rtemp = code, index_ = 0; index_ < bitLength; ++index_) {\n          reversed = (reversed << 1) | (rtemp & 1);\n          rtemp >>= 1;\n        }\n\n        // \u6700\u5927\u30d3\u30c3\u30c8\u9577\u3092\u3082\u3068\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308b\u305f\u3081\u3001\n        // \u6700\u5927\u30d3\u30c3\u30c8\u9577\u4ee5\u5916\u3067\u306f 0 / 1 \u3069\u3061\u3089\u3067\u3082\u826f\u3044\u7b87\u6240\u304c\u3067\u304d\u308b\n        // \u305d\u306e\u3069\u3061\u3089\u3067\u3082\u826f\u3044\u5834\u6240\u306f\u540c\u3058\u5024\u3067\u57cb\u3081\u308b\u3053\u3068\u3067\n        // \u672c\u6765\u306e\u30d3\u30c3\u30c8\u9577\u4ee5\u4e0a\u306e\u30d3\u30c3\u30c8\u6570\u53d6\u5f97\u3057\u3066\u3082\u554f\u984c\u304c\u8d77\u3053\u3089\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n        value = (bitLength << 16) | index;\n        for (index_ = reversed; index_ < size; index_ += skip) {\n          table[index_] = value;\n        }\n\n        ++code;\n      }\n    }\n\n    // \u6b21\u306e\u30d3\u30c3\u30c8\u9577\u3078\n    ++bitLength;\n    code <<= 1;\n    skip <<= 1;\n  }\n\n  return [table, maxCodeLength, minCodeLength];\n}\n","/* eslint-disable unicorn/numeric-separators-style,camelcase,no-unused-expressions */\n\nimport { Huffman } from \"./huffman\";\n\n/** @define {number} buffer block size. */\nconst ZLIB_RAW_INFLATE_BUFFER_SIZE = 0x8000; // [ 0x8000 >= ZLIB_BUFFER_BLOCK_SIZE ]\n\n/**\n * @constructor\n * @param {!(Uint8Array)} input\n * @param {Object} [opt_parameters]\n *\n * opt_params \u306f\u4ee5\u4e0b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n *   - index: input buffer \u306e deflate \u30b3\u30f3\u30c6\u30ca\u306e\u958b\u59cb\u4f4d\u7f6e.\n *   - blockSize: \u30d0\u30c3\u30d5\u30a1\u306e\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba.\n *   - bufferType: RawInflate.BufferType \u306e\u5024\u306b\u3088\u3063\u3066\u30d0\u30c3\u30d5\u30a1\u306e\u7ba1\u7406\u65b9\u6cd5\u3092\u6307\u5b9a\u3059\u308b.\n *   - resize: \u78ba\u4fdd\u3057\u305f\u30d0\u30c3\u30d5\u30a1\u304c\u5b9f\u969b\u306e\u5927\u304d\u3055\u3088\u308a\u5927\u304d\u304b\u3063\u305f\u5834\u5408\u306b\u5207\u308a\u8a70\u3081\u308b.\n */\nexport function RawInflate(input, opt_parameters) {\n  /** @type {!(Uint8Array)} inflated buffer */\n  this.buffer;\n  /** @type {!Array.<(Uint8Array)>} */\n  this.blocks = [];\n  /** @type {number} block size. */\n  this.bufferSize = ZLIB_RAW_INFLATE_BUFFER_SIZE;\n  /** @type {!number} total output buffer pointer. */\n  this.totalpos = 0;\n  /** @type {!number} input buffer pointer. */\n  this.ip = 0;\n  /** @type {!number} bit stream reader buffer. */\n  this.bitsbuf = 0;\n  /** @type {!number} bit stream reader buffer size. */\n  this.bitsbuflen = 0;\n  /** @type {!(Uint8Array)} input buffer. */\n  this.input = new Uint8Array(input);\n  /** @type {!(Uint8Array)} output buffer. */\n  this.output;\n  /** @type {!number} output buffer pointer. */\n  this.op;\n  /** @type {boolean} is final block flag. */\n  this.bfinal = false;\n  /** @type {RawInflate.BufferType} buffer management. */\n  this.bufferType = RawInflate.BufferType.ADAPTIVE;\n  /** @type {boolean} resize flag for memory size optimization. */\n  this.resize = false;\n\n  // option parameters\n  if (opt_parameters || !(opt_parameters = {})) {\n    if (opt_parameters.index) {\n      this.ip = opt_parameters.index;\n    }\n    if (opt_parameters.bufferSize) {\n      this.bufferSize = opt_parameters.bufferSize;\n    }\n    if (opt_parameters.bufferType) {\n      this.bufferType = opt_parameters.bufferType;\n    }\n    if (opt_parameters.resize) {\n      this.resize = opt_parameters.resize;\n    }\n  }\n\n  // initialize\n  switch (this.bufferType) {\n    case RawInflate.BufferType.BLOCK: {\n      this.op = RawInflate.MaxBackwardLength;\n      this.output = new Uint8Array(\n        RawInflate.MaxBackwardLength + this.bufferSize + RawInflate.MaxCopyLength,\n      );\n      break;\n    }\n    case RawInflate.BufferType.ADAPTIVE: {\n      this.op = 0;\n      this.output = new Uint8Array(this.bufferSize);\n      break;\n    }\n    default: {\n      throw new Error(\"invalid inflate mode\");\n    }\n  }\n}\n\n/**\n * @enum {number}\n */\nRawInflate.BufferType = {\n  BLOCK: 0,\n  ADAPTIVE: 1,\n};\n\n/**\n * decompress.\n * @return {!(Uint8Array)} inflated buffer.\n */\nRawInflate.prototype.decompress = function () {\n  while (!this.bfinal) {\n    this.parseBlock();\n  }\n\n  switch (this.bufferType) {\n    case RawInflate.BufferType.BLOCK: {\n      return this.concatBufferBlock();\n    }\n    case RawInflate.BufferType.ADAPTIVE: {\n      return this.concatBufferDynamic();\n    }\n    default: {\n      throw new Error(\"invalid inflate mode\");\n    }\n  }\n};\n\n/**\n * @const\n * @type {number} max backward length for LZ77.\n */\nRawInflate.MaxBackwardLength = 32768;\n\n/**\n * @const\n * @type {number} max copy length for LZ77.\n */\nRawInflate.MaxCopyLength = 258;\n\n/**\n * huffman order\n * @const\n * @type {!(Uint8Array)}\n */\nRawInflate.Order = (function (table) {\n  return new Uint16Array(table);\n})([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n\n/**\n * huffman length code table.\n * @const\n * @type {!(Uint16Array)}\n */\nRawInflate.LengthCodeTable = (function (table) {\n  return new Uint16Array(table);\n})([\n  0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008, 0x0009, 0x000a, 0x000b, 0x000d, 0x000f, 0x0011,\n  0x0013, 0x0017, 0x001b, 0x001f, 0x0023, 0x002b, 0x0033, 0x003b, 0x0043, 0x0053, 0x0063, 0x0073,\n  0x0083, 0x00a3, 0x00c3, 0x00e3, 0x0102, 0x0102, 0x0102,\n]);\n\n/**\n * huffman length extra-bits table.\n * @const\n * @type {!(Uint8Array)}\n */\nRawInflate.LengthExtraTable = (function (table) {\n  return new Uint8Array(table);\n})([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0]);\n\n/**\n * huffman dist code table.\n * @const\n * @type {!(Uint16Array)}\n */\nRawInflate.DistCodeTable = (function (table) {\n  return new Uint16Array(table);\n})([\n  0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0007, 0x0009, 0x000d, 0x0011, 0x0019, 0x0021, 0x0031,\n  0x0041, 0x0061, 0x0081, 0x00c1, 0x0101, 0x0181, 0x0201, 0x0301, 0x0401, 0x0601, 0x0801, 0x0c01,\n  0x1001, 0x1801, 0x2001, 0x3001, 0x4001, 0x6001,\n]);\n\n/**\n * huffman dist extra-bits table.\n * @const\n * @type {!(Uint8Array)}\n */\nRawInflate.DistExtraTable = (function (table) {\n  return new Uint8Array(table);\n})([\n  0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13,\n]);\n\n/**\n * fixed huffman length code table\n * @const\n * @type {!Array}\n */\nRawInflate.FixedLiteralLengthTable = (function (table) {\n  return table;\n})(\n  (function () {\n    const lengths = new Uint8Array(288);\n    let index, il;\n\n    for (index = 0, il = lengths.length; index < il; ++index) {\n      lengths[index] = index <= 143 ? 8 : index <= 255 ? 9 : index <= 279 ? 7 : 8;\n    }\n\n    return Huffman(lengths);\n  })(),\n);\n\n/**\n * fixed huffman distance code table\n * @const\n * @type {!Array}\n */\nRawInflate.FixedDistanceTable = (function (table) {\n  return table;\n})(\n  (function () {\n    const lengths = new Uint8Array(30);\n    let index, il;\n\n    for (index = 0, il = lengths.length; index < il; ++index) {\n      lengths[index] = 5;\n    }\n\n    return Huffman(lengths);\n  })(),\n);\n\n/**\n * parse deflated block.\n */\nRawInflate.prototype.parseBlock = function () {\n  /** @type {number} header */\n  let hdr = this.readBits(3);\n\n  // BFINAL\n  if (hdr & 0x1) {\n    this.bfinal = true;\n  }\n\n  // BTYPE\n  hdr >>>= 1;\n  switch (hdr) {\n    // uncompressed\n    case 0: {\n      this.parseUncompressedBlock();\n      break;\n    }\n    // fixed huffman\n    case 1: {\n      this.parseFixedHuffmanBlock();\n      break;\n    }\n    // dynamic huffman\n    case 2: {\n      this.parseDynamicHuffmanBlock();\n      break;\n    }\n    // reserved or other\n    default: {\n      throw new Error(\"unknown BTYPE: \" + hdr);\n    }\n  }\n};\n\n/**\n * read inflate bits\n * @param {number} length bits length.\n * @return {number} read bits.\n */\nRawInflate.prototype.readBits = function (length) {\n  let bitsbuf = this.bitsbuf;\n  let bitsbuflen = this.bitsbuflen;\n  const input = this.input;\n  let ip = this.ip;\n\n  /** @type {number} */\n  const inputLength = input.length;\n\n  if (ip + ((length - bitsbuflen + 7) >> 3) >= inputLength) {\n    throw new Error(\"input buffer is broken\");\n  }\n\n  // not enough buffer\n  while (bitsbuflen < length) {\n    bitsbuf |= input[ip++] << bitsbuflen;\n    bitsbuflen += 8;\n  }\n\n  /** @type {number} input and output byte. */\n  const octet = bitsbuf & /* MASK */ ((1 << length) - 1);\n  bitsbuf >>>= length;\n  bitsbuflen -= length;\n\n  this.bitsbuf = bitsbuf;\n  this.bitsbuflen = bitsbuflen;\n  this.ip = ip;\n\n  return octet;\n};\n\n/**\n * read huffman code using table\n * @param {Array.<number>|Uint8Array|Uint16Array|null} table huffman code table.\n * @return {number} huffman code.\n */\nRawInflate.prototype.readCodeByTable = function (table) {\n  let bitsbuf = this.bitsbuf;\n  let bitsbuflen = this.bitsbuflen;\n  const input = this.input;\n  let ip = this.ip;\n\n  /** @type {number} */\n  const inputLength = input.length;\n  /** @type {!(Uint8Array)} huffman code table */\n  const codeTable = table[0];\n  /** @type {number} */\n  const maxCodeLength = table[1];\n\n  // not enough buffer\n  while (bitsbuflen < maxCodeLength) {\n    if (ip >= inputLength) {\n      break;\n    }\n    bitsbuf |= input[ip++] << bitsbuflen;\n    bitsbuflen += 8;\n  }\n\n  // read max length\n  /** @type {number} code length & code (16bit, 16bit) */\n  const codeWithLength = codeTable[bitsbuf & ((1 << maxCodeLength) - 1)];\n  /** @type {number} code bits length */\n  const codeLength = codeWithLength >>> 16;\n\n  if (codeLength > bitsbuflen) {\n    throw new Error(\"invalid code length: \" + codeLength);\n  }\n\n  this.bitsbuf = bitsbuf >> codeLength;\n  this.bitsbuflen = bitsbuflen - codeLength;\n  this.ip = ip;\n\n  return codeWithLength & 0xffff;\n};\n\n/**\n * parse uncompressed block.\n */\nRawInflate.prototype.parseUncompressedBlock = function () {\n  const input = this.input;\n  let ip = this.ip;\n  let output = this.output;\n  let op = this.op;\n\n  /** @type {number} */\n  const inputLength = input.length;\n  /** @type {number} block length */\n  let length_;\n  /** @type {number} output buffer length */\n  const olength = output.length;\n  /** @type {number} copy counter */\n  let preCopy;\n\n  // skip buffered header bits\n  this.bitsbuf = 0;\n  this.bitsbuflen = 0;\n\n  // len\n  if (ip + 1 >= inputLength) {\n    throw new Error(\"invalid uncompressed block header: LEN\");\n  }\n  length_ = input[ip++] | (input[ip++] << 8);\n\n  // nlen\n  if (ip + 1 >= inputLength) {\n    throw new Error(\"invalid uncompressed block header: NLEN\");\n  }\n\n  /** @type {number} number for check block length */\n  const nlen = input[ip++] | (input[ip++] << 8);\n\n  // check len & nlen\n  if (length_ === ~nlen) {\n    throw new Error(\"invalid uncompressed block header: length verify\");\n  }\n\n  // check size\n  if (ip + length_ > input.length) {\n    throw new Error(\"input buffer is broken\");\n  }\n\n  // expand buffer\n  switch (this.bufferType) {\n    case RawInflate.BufferType.BLOCK: {\n      // pre copy\n      while (op + length_ > output.length) {\n        preCopy = olength - op;\n        length_ -= preCopy;\n        output.set(input.subarray(ip, ip + preCopy), op);\n        op += preCopy;\n        ip += preCopy;\n\n        this.op = op;\n        output = this.expandBufferBlock();\n        op = this.op;\n      }\n      break;\n    }\n    case RawInflate.BufferType.ADAPTIVE: {\n      while (op + length_ > output.length) {\n        output = this.expandBufferAdaptive({ fixRatio: 2 });\n      }\n      break;\n    }\n    default: {\n      throw new Error(\"invalid inflate mode\");\n    }\n  }\n\n  // copy\n  output.set(input.subarray(ip, ip + length_), op);\n  op += length_;\n  ip += length_;\n\n  this.ip = ip;\n  this.op = op;\n  this.output = output;\n};\n\n/**\n * parse fixed huffman block.\n */\nRawInflate.prototype.parseFixedHuffmanBlock = function () {\n  switch (this.bufferType) {\n    case RawInflate.BufferType.ADAPTIVE: {\n      this.decodeHuffmanAdaptive(RawInflate.FixedLiteralLengthTable, RawInflate.FixedDistanceTable);\n      break;\n    }\n    case RawInflate.BufferType.BLOCK: {\n      this.decodeHuffmanBlock(RawInflate.FixedLiteralLengthTable, RawInflate.FixedDistanceTable);\n      break;\n    }\n    default: {\n      throw new Error(\"invalid inflate mode\");\n    }\n  }\n};\n\n/**\n * parse dynamic huffman block.\n */\nRawInflate.prototype.parseDynamicHuffmanBlock = function () {\n  /** @type {number} number of literal and length codes. */\n  const hlit = this.readBits(5) + 257;\n  /** @type {number} number of distance codes. */\n  const hdist = this.readBits(5) + 1;\n  /** @type {number} number of code lengths. */\n  const hclen = this.readBits(4) + 4;\n  /** @type {Uint8Array} code lengths. */\n  const codeLengths = new Uint8Array(RawInflate.Order.length);\n  /** @type {number} */\n  let code;\n  /** @type {number} */\n  let previous;\n  /** @type {number} */\n  let repeat;\n  /** @type {number} loop counter. */\n  let index;\n  /** @type {number} loop limit. */\n  let il;\n\n  // decode code lengths\n  for (index = 0; index < hclen; ++index) {\n    codeLengths[RawInflate.Order[index]] = this.readBits(3);\n  }\n\n  // decode length table\n  /** @type {Array.<number,number,number>} code lengths table. */\n  const codeLengthsTable = Huffman(codeLengths);\n  /** @type {Uint8Array} code length table. */\n  const lengthTable = new Uint8Array(hlit + hdist);\n  for (index = 0, il = hlit + hdist; index < il; ) {\n    code = this.readCodeByTable(codeLengthsTable);\n    switch (code) {\n      case 16: {\n        repeat = 3 + this.readBits(2);\n        while (repeat--) {\n          lengthTable[index++] = previous;\n        }\n        break;\n      }\n      case 17: {\n        repeat = 3 + this.readBits(3);\n        while (repeat--) {\n          lengthTable[index++] = 0;\n        }\n        previous = 0;\n        break;\n      }\n      case 18: {\n        repeat = 11 + this.readBits(7);\n        while (repeat--) {\n          lengthTable[index++] = 0;\n        }\n        previous = 0;\n        break;\n      }\n      default: {\n        lengthTable[index++] = code;\n        previous = code;\n        break;\n      }\n    }\n  }\n\n  /** @type {Array.<number>|Uint8Array|null} literal and length code table. */\n  const litlenTable = Huffman(lengthTable.subarray(0, hlit));\n  /** @type {Array.<number>|Uint8Array} distance code table. */\n  const distTable = Huffman(lengthTable.subarray(hlit));\n\n  switch (this.bufferType) {\n    case RawInflate.BufferType.ADAPTIVE: {\n      this.decodeHuffmanAdaptive(litlenTable, distTable);\n      break;\n    }\n    case RawInflate.BufferType.BLOCK: {\n      this.decodeHuffmanBlock(litlenTable, distTable);\n      break;\n    }\n    default: {\n      throw new Error(\"invalid inflate mode\");\n    }\n  }\n};\n\n/**\n * decode huffman code\n * @param {Array.<number>|Uint8Array|Uint16Array} litlen literal and length code table.\n * @param {Array.<number>|Uint8Array} dist distination code table.\n */\nRawInflate.prototype.decodeHuffmanBlock = function (litlen, dist) {\n  let output = this.output;\n  let op = this.op;\n\n  this.currentLitlenTable = litlen;\n\n  /** @type {number} output position limit. */\n  const olength = output.length - RawInflate.MaxCopyLength;\n  /** @type {number} huffman code. */\n  let code;\n  /** @type {number} table index. */\n  let ti;\n  /** @type {number} huffman code distination. */\n  let codeDist;\n  /** @type {number} huffman code length. */\n  let codeLength;\n\n  const lengthCodeTable = RawInflate.LengthCodeTable;\n  const lengthExtraTable = RawInflate.LengthExtraTable;\n  const distCodeTable = RawInflate.DistCodeTable;\n  const distExtraTable = RawInflate.DistExtraTable;\n\n  while ((code = this.readCodeByTable(litlen)) !== 256) {\n    // literal\n    if (code < 256) {\n      if (op >= olength) {\n        this.op = op;\n        output = this.expandBufferBlock();\n        op = this.op;\n      }\n      output[op++] = code;\n\n      continue;\n    }\n\n    // length code\n    ti = code - 257;\n    codeLength = lengthCodeTable[ti];\n    if (lengthExtraTable[ti] > 0) {\n      codeLength += this.readBits(lengthExtraTable[ti]);\n    }\n\n    // dist code\n    code = this.readCodeByTable(dist);\n    codeDist = distCodeTable[code];\n    if (distExtraTable[code] > 0) {\n      codeDist += this.readBits(distExtraTable[code]);\n    }\n\n    // lz77 decode\n    if (op >= olength) {\n      this.op = op;\n      output = this.expandBufferBlock();\n      op = this.op;\n    }\n    while (codeLength--) {\n      output[op] = output[op++ - codeDist];\n    }\n  }\n\n  while (this.bitsbuflen >= 8) {\n    this.bitsbuflen -= 8;\n    this.ip--;\n  }\n  this.op = op;\n};\n\n/**\n * decode huffman code (adaptive)\n * @param {Array.<number>|Uint8Array|Uint16Array} litlen literal and length code table.\n * @param {Array.<number>|Uint8Array} dist distination code table.\n */\nRawInflate.prototype.decodeHuffmanAdaptive = function (litlen, dist) {\n  let output = this.output;\n  let op = this.op;\n\n  this.currentLitlenTable = litlen;\n\n  /** @type {number} output position limit. */\n  let olength = output.length;\n  /** @type {number} huffman code. */\n  let code;\n  /** @type {number} table index. */\n  let ti;\n  /** @type {number} huffman code distination. */\n  let codeDist;\n  /** @type {number} huffman code length. */\n  let codeLength;\n\n  const lengthCodeTable = RawInflate.LengthCodeTable;\n  const lengthExtraTable = RawInflate.LengthExtraTable;\n  const distCodeTable = RawInflate.DistCodeTable;\n  const distExtraTable = RawInflate.DistExtraTable;\n\n  while ((code = this.readCodeByTable(litlen)) !== 256) {\n    // literal\n    if (code < 256) {\n      if (op >= olength) {\n        output = this.expandBufferAdaptive();\n        olength = output.length;\n      }\n      output[op++] = code;\n\n      continue;\n    }\n\n    // length code\n    ti = code - 257;\n    codeLength = lengthCodeTable[ti];\n    if (lengthExtraTable[ti] > 0) {\n      codeLength += this.readBits(lengthExtraTable[ti]);\n    }\n\n    // dist code\n    code = this.readCodeByTable(dist);\n    codeDist = distCodeTable[code];\n    if (distExtraTable[code] > 0) {\n      codeDist += this.readBits(distExtraTable[code]);\n    }\n\n    // lz77 decode\n    if (op + codeLength > olength) {\n      output = this.expandBufferAdaptive();\n      olength = output.length;\n    }\n    while (codeLength--) {\n      output[op] = output[op++ - codeDist];\n    }\n  }\n\n  while (this.bitsbuflen >= 8) {\n    this.bitsbuflen -= 8;\n    this.ip--;\n  }\n  this.op = op;\n};\n\n/**\n * expand output buffer.\n * @param {Object} [opt_parameter]\n * @return {!(Uint8Array)} output buffer.\n */\nRawInflate.prototype.expandBufferBlock = function (opt_parameter) {\n  /** @type {!(Uint8Array)} store buffer. */\n  const buffer = new Uint8Array(this.op - RawInflate.MaxBackwardLength);\n  /** @type {number} backward base point */\n  const backward = this.op - RawInflate.MaxBackwardLength;\n\n  const output = this.output;\n\n  // copy to output buffer\n  buffer.set(output.subarray(RawInflate.MaxBackwardLength, buffer.length));\n\n  this.blocks.push(buffer);\n  this.totalpos += buffer.length;\n\n  // copy to backward buffer\n  output.set(output.subarray(backward, backward + RawInflate.MaxBackwardLength));\n\n  this.op = RawInflate.MaxBackwardLength;\n\n  return output;\n};\n\n/**\n * expand output buffer. (adaptive)\n * @param {Object=} opt_parameter\n * @return {!(Uint8Array)} output buffer pointer.\n */\nRawInflate.prototype.expandBufferAdaptive = function (opt_parameter) {\n  /** @type {number} expantion ratio. */\n  let ratio = Math.trunc(this.input.length / this.ip + 1);\n  /** @type {number} maximum number of huffman code. */\n  let maxHuffCode;\n  /** @type {number} new output buffer size. */\n  let newSize;\n  /** @type {number} max inflate size. */\n  let maxInflateSize;\n\n  const input = this.input;\n  const output = this.output;\n\n  if (opt_parameter) {\n    if (typeof opt_parameter.fixRatio === \"number\") {\n      ratio = opt_parameter.fixRatio;\n    }\n    if (typeof opt_parameter.addRatio === \"number\") {\n      ratio += opt_parameter.addRatio;\n    }\n  }\n\n  // calculate new buffer size\n  if (ratio < 2) {\n    maxHuffCode = (input.length - this.ip) / this.currentLitlenTable[2];\n    maxInflateSize = Math.trunc((maxHuffCode / 2) * 258);\n    newSize = maxInflateSize < output.length ? output.length + maxInflateSize : output.length << 1;\n  } else {\n    newSize = output.length * ratio;\n  }\n\n  // buffer expantion\n  /** @type {!(Uint8Array)} store buffer. */\n  const buffer = new Uint8Array(newSize);\n  buffer.set(output);\n\n  this.output = buffer;\n\n  return this.output;\n};\n\n/**\n * concat output buffer.\n * @return {!(Uint8Array)} output buffer.\n */\nRawInflate.prototype.concatBufferBlock = function () {\n  /** @type {number} buffer pointer. */\n  let pos = 0;\n  /** @type {number} buffer pointer. */\n  const limit = this.totalpos + (this.op - RawInflate.MaxBackwardLength);\n  /** @type {!(Uint8Array)} output block array. */\n  const output = this.output;\n  /** @type {!Array} blocks array. */\n  const blocks = this.blocks;\n  /** @type {!(Uint8Array)} output block array. */\n  let block;\n  /** @type {!(Uint8Array)} output buffer. */\n  const buffer = new Uint8Array(limit);\n  /** @type {number} loop counter. */\n  let index;\n  /** @type {number} loop limiter. */\n  let il;\n  /** @type {number} loop counter. */\n  let index_;\n  /** @type {number} loop limiter. */\n  let jl;\n\n  // single buffer\n  if (blocks.length === 0) {\n    return this.output.subarray(RawInflate.MaxBackwardLength, this.op);\n  }\n\n  // copy to buffer\n  for (index = 0, il = blocks.length; index < il; ++index) {\n    block = blocks[index];\n    for (index_ = 0, jl = block.length; index_ < jl; ++index_) {\n      buffer[pos++] = block[index_];\n    }\n  }\n\n  // current buffer\n  for (index = RawInflate.MaxBackwardLength, il = this.op; index < il; ++index) {\n    buffer[pos++] = output[index];\n  }\n\n  this.blocks = [];\n  this.buffer = buffer;\n\n  return this.buffer;\n};\n\n/**\n * concat output buffer. (dynamic)\n * @return {!(Uint8Array)} output buffer.\n */\nRawInflate.prototype.concatBufferDynamic = function () {\n  /** @type {Uint8Array} output buffer. */\n  let buffer;\n  const op = this.op;\n  if (this.resize) {\n    buffer = new Uint8Array(op);\n    buffer.set(this.output.subarray(0, op));\n  } else {\n    buffer = this.output.subarray(0, op);\n  }\n\n  this.buffer = buffer;\n\n  return this.buffer;\n};\n","/* eslint-disable unicorn/numeric-separators-style,camelcase,no-unused-expressions */\n\nimport { CompressionMethod } from \"./zlib\";\nimport { RawInflate } from \"./rawinflate\";\nimport { Adler32 } from \"./adler32\";\n\n/**\n * @constructor\n * @param {Uint8Array} input\n * @param {Object} [opt_parameters]\n *\n * opt_params \u306f\u4ee5\u4e0b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n *   - index: input buffer \u306e deflate \u30b3\u30f3\u30c6\u30ca\u306e\u958b\u59cb\u4f4d\u7f6e.\n *   - blockSize: \u30d0\u30c3\u30d5\u30a1\u306e\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba.\n *   - verify: \u4f38\u5f35\u304c\u7d42\u308f\u3063\u305f\u5f8c adler-32 checksum \u306e\u691c\u8a3c\u3092\u884c\u3046\u304b.\n *   - bufferType: Inflate.BufferType \u306e\u5024\u306b\u3088\u3063\u3066\u30d0\u30c3\u30d5\u30a1\u306e\u7ba1\u7406\u65b9\u6cd5\u3092\u6307\u5b9a\u3059\u308b.\n *       Inflate.BufferType \u306f RawInflate.BufferType \u306e\u30a8\u30a4\u30ea\u30a2\u30b9.\n */\nexport function Inflate(input, opt_parameters) {\n  /** @type {Uint8Array} */\n  this.input = input;\n  /** @type {number} */\n  this.ip = 0;\n  /** @type {RawInflate} */\n  this.rawinflate;\n  /** @type {(boolean|undefined)} verify flag. */\n  this.verify;\n\n  // option parameters\n  if (opt_parameters || !(opt_parameters = {})) {\n    if (opt_parameters.index) {\n      this.ip = opt_parameters.index;\n    }\n    if (opt_parameters.verify) {\n      this.verify = opt_parameters.verify;\n    }\n  }\n\n  // Compression Method and Flags\n  /** @type {number} */\n  const cmf = input[this.ip++];\n  /** @type {number} */\n  const flg = input[this.ip++];\n\n  // compression method\n  switch (cmf & 0x0f) {\n    case CompressionMethod.DEFLATE: {\n      this.method = CompressionMethod.DEFLATE;\n      break;\n    }\n    default: {\n      throw new Error(\"unsupported compression method\");\n    }\n  }\n\n  // fcheck\n  if (((cmf << 8) + flg) % 31 !== 0) {\n    throw new Error(\"invalid fcheck flag:\" + (((cmf << 8) + flg) % 31));\n  }\n\n  // fdict (not supported)\n  if (flg & 0x20) {\n    throw new Error(\"fdict flag is not supported\");\n  }\n\n  // RawInflate\n  this.rawinflate = new RawInflate(input, {\n    index: this.ip,\n    bufferSize: opt_parameters.bufferSize,\n    bufferType: opt_parameters.bufferType,\n    resize: opt_parameters.resize,\n  });\n}\n\n/**\n * @enum {number}\n */\nInflate.BufferType = RawInflate.BufferType;\n\n/**\n * decompress.\n * @return {Uint8Array} inflated buffer.\n */\nInflate.prototype.decompress = function () {\n  /** @type {Uint8Array} input buffer. */\n  const input = this.input;\n  /** @type {number} adler-32 checksum */\n  let adler32;\n  /** @type {Uint8Array} inflated buffer. */\n  const buffer = this.rawinflate.decompress();\n  this.ip = this.rawinflate.ip;\n\n  // verify adler-32\n  if (this.verify) {\n    adler32 =\n      ((input[this.ip++] << 24) |\n        (input[this.ip++] << 16) |\n        (input[this.ip++] << 8) |\n        input[this.ip++]) >>>\n      0;\n\n    if (adler32 !== Adler32(buffer)) {\n      throw new Error(\"invalid adler-32 checksum\");\n    }\n  }\n\n  return buffer;\n};\n","/**\n * @fileoverview Zlib namespace. Zlib \u306e\u4ed5\u69d8\u306b\u6e96\u62e0\u3057\u305f\u5727\u7e2e\u306f Deflate \u3067\u5b9f\u88c5\n * \u3055\u308c\u3066\u3044\u308b. \u3053\u308c\u306f Inflate \u3068\u306e\u5171\u5b58\u3092\u8003\u616e\u3057\u3066\u3044\u308b\u70ba.\n */\n\n/**\n * Compression Method\n * @enum {number}\n */\nexport const CompressionMethod = {\n  DEFLATE: 8,\n  RESERVED: 15,\n};\n","/* eslint-disable unicorn/numeric-separators-style,camelcase,no-unused-expressions */\nimport { Util } from \"./util\";\n/**\n * @fileoverview Adler32 checksum \u5b9f\u88c5.\n */\n\n/**\n * Adler32 \u30cf\u30c3\u30b7\u30e5\u5024\u306e\u4f5c\u6210\n * @param {Uint8Array|string} array\n * @return {number} Adler32\n */\nexport function Adler32(array) {\n  if (typeof array === \"string\") {\n    array = Util.stringToByteArray(array);\n  }\n  return Adler32.update(1, array);\n}\n\n/**\n * Adler32 \u30cf\u30c3\u30b7\u30e5\u5024\u306e\u66f4\u65b0\n * @param {number} adler\n * @param {Uint8Array} array\n * @return {number} Adler32\n */\nAdler32.update = function (adler, array) {\n  /** @type {number} */\n  let s1 = adler & 0xffff;\n  /** @type {number} */\n  let s2 = (adler >>> 16) & 0xffff;\n  /** @type {number} array length */\n  let length_ = array.length;\n  /** @type {number} loop length (don't overflow) */\n  let tlen;\n  /** @type {number} array index */\n  let index = 0;\n\n  while (length_ > 0) {\n    tlen = length_ > Adler32.OptimizationParameter ? Adler32.OptimizationParameter : length_;\n    length_ -= tlen;\n    do {\n      s1 += array[index++];\n      s2 += s1;\n    } while (--tlen);\n\n    s1 %= 65521;\n    s2 %= 65521;\n  }\n\n  return ((s2 << 16) | s1) >>> 0;\n};\n\n/**\n * Adler32 \u6700\u9069\u5316\u30d1\u30e9\u30e1\u30fc\u30bf\n * \u73fe\u72b6\u3067\u306f 1024 \u7a0b\u5ea6\u304c\u6700\u9069.\n * @see http://jsperf.com/adler-32-simple-vs-optimized/3\n * @define {number}\n */\nAdler32.OptimizationParameter = 1024;\n","/**\n * @fileoverview \u96d1\u591a\u306a\u95a2\u6570\u7fa4\u3092\u307e\u3068\u3081\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u5b9f\u88c5.\n */\n\nexport function Util() {}\n\n/**\n * Byte String \u304b\u3089 Byte Array \u306b\u5909\u63db.\n * @param {!string} string_\n * @return {Uint8Array} byte array.\n */\nUtil.stringToByteArray = function (string_) {\n  /** @type {!Array.<(string|number)>} */\n  const temporary = [...string_];\n  /** @type {number} */\n  let index;\n  /** @type {number} */\n  let il;\n\n  for (index = 0, il = temporary.length; index < il; index++) {\n    temporary[index] = (temporary[index].charPointAt(0) & 0xff) >>> 0;\n  }\n\n  return new Uint8Array([temporary]);\n};\n","export const dlinit = (hostInstance, pluginInstance, table, csoundInstance) => {\n  if (pluginInstance.exports[\"csoundModuleInit\"]) {\n    const csoundModuleCreate = new WebAssembly.Global({ value: \"i32\", mutable: true }, 0);\n    const csoundModuleInit = new WebAssembly.Global({ value: \"i32\", mutable: true }, 0);\n    const csoundModuleDestroy = new WebAssembly.Global({ value: \"i32\", mutable: true }, 0);\n    const csoundModuleErrorCodeToString = new WebAssembly.Global(\n      { value: \"i32\", mutable: true },\n      0,\n    );\n\n    let tableEnd = table.length;\n\n    if (typeof pluginInstance.exports[\"csoundModuleCreate\"] === \"function\") {\n      table.grow(1);\n      csoundModuleCreate.value = tableEnd;\n      table.set(tableEnd, pluginInstance.exports[\"csoundModuleCreate\"]);\n      tableEnd += 1;\n    }\n\n    if (typeof pluginInstance.exports[\"csoundModuleInit\"] === \"function\") {\n      table.grow(1);\n      csoundModuleInit.value = tableEnd;\n      table.set(tableEnd, pluginInstance.exports[\"csoundModuleInit\"]);\n      tableEnd += 1;\n    }\n\n    if (typeof pluginInstance.exports[\"csoundModuleDestroy\"] === \"function\") {\n      table.grow(1);\n      csoundModuleDestroy.value = tableEnd;\n      table.set(tableEnd, pluginInstance.exports[\"csoundModuleDestroy\"]);\n      tableEnd += 1;\n    }\n\n    if (typeof pluginInstance.exports[\"csoundModuleErrorCodeToString\"] === \"function\") {\n      table.grow(1);\n      csoundModuleErrorCodeToString.value = tableEnd;\n      table.set(tableEnd, pluginInstance.exports[\"csoundModuleErrorCodeToString\"]);\n      tableEnd += 1;\n    }\n\n    hostInstance.exports[\"csoundWasiLoadPlugin\"](\n      csoundInstance,\n      csoundModuleCreate,\n      csoundModuleInit,\n      csoundModuleDestroy,\n      csoundModuleErrorCodeToString,\n    );\n  } else if (\n    pluginInstance.exports[\"csound_opcode_init\"] ||\n    pluginInstance.exports[\"csound_fgen_init\"]\n  ) {\n    const csoundOpcodeInit = new WebAssembly.Global({ value: \"i32\", mutable: true }, 0);\n    const csoundFgenInit = new WebAssembly.Global({ value: \"i32\", mutable: true }, 0);\n\n    let tableEnd = table.length;\n\n    if (typeof pluginInstance.exports[\"csound_opcode_init\"] === \"function\") {\n      csoundOpcodeInit.value = tableEnd;\n      table.grow(1);\n      table.set(tableEnd, pluginInstance.exports[\"csound_opcode_init\"]);\n      tableEnd += 1;\n    }\n\n    if (typeof pluginInstance.exports[\"csound_fgen_init\"] === \"function\") {\n      csoundFgenInit.value = tableEnd;\n      table.grow(1);\n      table.set(tableEnd, pluginInstance.exports[\"csound_fgen_init\"]);\n      tableEnd += 1;\n    }\n\n    hostInstance.exports[\"csoundWasiLoadOpcodeLibrary\"](\n      csoundInstance,\n      csoundFgenInit,\n      csoundOpcodeInit,\n    );\n  } else {\n    console.error(\"Plugin doesn't export nececcary functions to quality as csound plugin.\");\n  }\n};\n","import { logCommonUtils as log } from \"../logger.js\";\n\nexport const handleCsoundStart =\n  (workerMessagePort, libraryCsound, wasi, createRealtimeAudioThread, renderFunction) =>\n  (arguments_) => {\n    const csound = arguments_[\"csound\"];\n\n    // If no orchestra was given, we assume realtime daemon mode\n    // otherwise we'll end up rendering forever within the while loop\n    const shouldDemonize = libraryCsound.csoundShouldDaemonize(csound) === 1;\n\n    if (shouldDemonize) {\n      let result = libraryCsound.csoundSetOption(csound, \"--daemon\");\n      result !== 0 && console.error(\"csoundSetOption daemon failed:\", result);\n      result = libraryCsound.csoundSetOption(csound, \"-odac\");\n      result !== 0 && console.error(\"csoundSetOption odac failed:\", result);\n    }\n    const startError = libraryCsound.csoundStart(csound);\n\n    const outputName = libraryCsound.csoundGetOutputName(csound) || \"test.wav\";\n    log(`handleCsoundStart: actual csoundStart result ${startError}, outputName: ${outputName}`)();\n    if (startError !== 0) {\n      workerMessagePort.post(\n        `error: csoundStart failed while trying to render ${outputName},` +\n          \" look out for errors in options and syntax\",\n      );\n    }\n\n    setTimeout(() => {\n      const isRequestingRtMidiInput = libraryCsound[\"_isRequestingRtMidiInput\"](csound);\n      const isExpectingRealtimeOutput =\n        shouldDemonize || isRequestingRtMidiInput || outputName.includes(\"dac\");\n\n      if (isExpectingRealtimeOutput) {\n        createRealtimeAudioThread(arguments_);\n      } else {\n        // Do rendering\n        workerMessagePort.broadcastPlayState(\"renderStarted\");\n        if (renderFunction) {\n          renderFunction(arguments_);\n        } else {\n          // eslint-disable-next-line no-empty\n          while (libraryCsound.csoundPerformKsmps(csound) === 0) {}\n        }\n      }\n    }, 0);\n\n    return startError;\n  };\n\nexport const instantiateAudioPacket = (numberChannels, numberFrames) => {\n  const channels = [];\n  for (let chn = 0; chn < numberChannels; chn++) {\n    channels.push(new Float64Array(numberFrames));\n  }\n  return channels;\n};\n\nexport const renderFunction =\n  ({ libraryCsound, workerMessagePort, wasi }) =>\n  async (payload) => {\n    const csound = payload[\"csound\"];\n    const kr = libraryCsound.csoundGetKr(csound);\n    let lastResult = 0;\n    let cnt = 0;\n\n    while (workerMessagePort.vanillaWorkerState === \"renderStarted\" && lastResult === 0) {\n      lastResult = libraryCsound.csoundPerformKsmps(csound);\n      cnt += 1;\n\n      if (typeof setTimeout === \"function\" && lastResult === 0 && cnt % (kr * 2) === 0) {\n        // this is immediately executed, but allows events to be picked up\n        await new Promise((resolve) => setTimeout(resolve, 0));\n      }\n    }\n\n    workerMessagePort.broadcastPlayState(\"renderEnded\");\n  };\n","export const DEFAULT_BUFFER_LEN = 128;\nexport const MAX_CHANNELS = 32;\nexport const RING_BUFFER_SIZE = 16384;\nexport const MIDI_BUFFER_SIZE = 1024;\nexport const MIDI_BUFFER_PAYLOAD_SIZE = 3;\nexport const CALLBACK_DATA_BUFFER_SIZE = 16384;\n\nexport const initialSharedState = [\n  0, // 1 = csound worker is locked\n  4096, // n = framesRequested (4096 is only initial and will thereafter be max'd to 2048)\n  0, // 1 = Csound is currently performing\n  0, // 1 = Csound is currently rendering\n  0, // 1 = Csound is currently paused\n  0, // 1 = STOP\n  -1, // n = sample rate\n  -1, // n = ksmps\n  -1, // n = nchnls\n  -1, // n = ncnls_i\n  0, // n = if 1 then it's requesting microphone\n  DEFAULT_BUFFER_LEN, // number of samples per process\n  0, // n = buffer read index of output buffer\n  0, // n = buffer write index of output buffer\n  0, // n = number of input buffers available\n  0, // n = number of output buffers available\n  0, // n = if 1 then is requesting rtmidi\n  0, // n = rtmidi buffer index\n  0, // n = available rtmidi events in buffer\n  0, // n = has pending callbacks\n];\n\n// Enum helper for SAB\nexport const AUDIO_STATE = {\n  CSOUND_LOCK: 0,\n  FRAMES_REQUESTED: 1,\n  IS_PERFORMING: 2,\n  IS_RENDERING: 3,\n  IS_PAUSED: 4,\n  STOP: 5,\n  SAMPLE_RATE: 6,\n  KSMPS: 7,\n  NCHNLS: 8,\n  NCHNLS_I: 9,\n  IS_REQUESTING_MIC: 10,\n  BUFFER_LEN: 11,\n  OUTPUT_READ_INDEX: 12,\n  OUTPUT_WRITE_INDEX: 13,\n  AVAIL_IN_BUFS: 14,\n  AVAIL_OUT_BUFS: 15,\n  IS_REQUESTING_RTMIDI: 16,\n  RTMIDI_INDEX: 17,\n  AVAIL_RTMIDI_EVENTS: 18,\n  HAS_PENDING_CALLBACKS: 19,\n};\n\nexport const DATA_TYPE = {\n  NUMBER: 0,\n  STRING: 1,\n  FLOAT_32: 2,\n  FLOAT_64: 3,\n};\n","import * as Comlink from \"../utils/comlink.js\";\nimport MessagePortState from \"../utils/message-port-state\";\nimport libcsoundFactory from \"../libcsound.js\";\nimport loadWasm from \"../module\";\nimport { logSABWorker as log } from \"../logger\";\nimport { handleCsoundStart } from \"../workers/common.utils\";\nimport {\n  AUDIO_STATE,\n  RING_BUFFER_SIZE,\n  MIDI_BUFFER_SIZE,\n  MIDI_BUFFER_PAYLOAD_SIZE,\n  initialSharedState,\n} from \"../constants\";\n\n/**\n * @type {Map.<LibcsoundUncloned>}\n */\nlet combined;\nlet pollPromise;\nlet unlockPromise;\n\nconst callUncloned = async (k, arguments_) => {\n  const caller = combined.get(k);\n  const returnValue = caller && caller.apply({}, arguments_ || []);\n  return returnValue;\n};\n\nconst sabCreateRealtimeAudioThread =\n  ({\n    libraryCsound,\n    callbacksRequest,\n    releaseStop,\n    releasePause,\n    releaseResumed,\n    wasm,\n    wasi,\n    workerMessagePort,\n  }) =>\n  async (argumentz) => {\n    const audioStateBuffer = argumentz[\"audioStateBuffer\"];\n    const audioStreamIn = argumentz[\"audioStreamIn\"];\n    const audioStreamOut = argumentz[\"audioStreamOut\"];\n    const midiBuffer = argumentz[\"midiBuffer\"];\n    const csound = argumentz[\"csound\"];\n\n    const audioStatePointer = new Int32Array(audioStateBuffer);\n\n    // In case of multiple performances, let's reset the sab state\n    initialSharedState.forEach((value, index) => {\n      Atomics.store(audioStatePointer, index, value);\n    });\n\n    // Prompt for midi-input on demand\n    const isRequestingRtMidiInput = libraryCsound[\"_isRequestingRtMidiInput\"](csound);\n\n    // Prompt for microphone only on demand!\n    const isExpectingInput =\n      Atomics.load(audioStatePointer, AUDIO_STATE.NCHNLS_I) === 0 &&\n      libraryCsound.csoundGetInputName(csound).includes(\"adc\");\n\n    // Store Csound AudioParams for upcoming performance\n    const userProvidedNchnls = Atomics.load(audioStatePointer, AUDIO_STATE.NCHNLS);\n    const userProvidedNchnlsIn = Atomics.load(audioStatePointer, AUDIO_STATE.NCHNLS_I);\n    const userProvidedSr = Atomics.load(audioStatePointer, AUDIO_STATE.SAMPLE_RATE);\n\n    if (userProvidedNchnls > -1) {\n      const result = libraryCsound.csoundSetOption(csound, \"--nchnls=\" + userProvidedNchnls);\n      result !== 0 && console.error(\"csoundSetOption nchnls failed:\", result);\n    }\n    if (userProvidedNchnlsIn > -1) {\n      const result = libraryCsound.csoundSetOption(csound, \"--nchnls_i=\" + userProvidedNchnlsIn);\n      result !== 0 && console.error(\"csoundSetOption nchnls_i failed:\", result);\n    }\n    if (userProvidedSr > -1) {\n      const result = libraryCsound.csoundSetOption(csound, \"--sample-rate=\" + userProvidedSr);\n      result !== 0 && console.error(\"csoundSetOption sample-rate failed:\", result);\n    }\n\n    const nchnls = libraryCsound.csoundGetNchnls(csound);\n\n    const nchnlsInput =\n      userProvidedNchnlsIn || isExpectingInput ? libraryCsound.csoundGetNchnlsInput(csound) : 0;\n    const sampleRate =\n      Atomics.load(audioStatePointer, AUDIO_STATE.SAMPLE_RATE) || libraryCsound.csoundGetSr(csound);\n\n    // a final merge of user configuration and csound options\n    Atomics.store(audioStatePointer, AUDIO_STATE.NCHNLS, nchnls);\n    Atomics.store(audioStatePointer, AUDIO_STATE.NCHNLS_I, nchnlsInput);\n    Atomics.store(audioStatePointer, AUDIO_STATE.IS_REQUESTING_MIC, isExpectingInput ? 1 : 0);\n    Atomics.store(audioStatePointer, AUDIO_STATE.SAMPLE_RATE, libraryCsound.csoundGetSr(csound));\n    Atomics.store(audioStatePointer, AUDIO_STATE.IS_REQUESTING_RTMIDI, isRequestingRtMidiInput);\n\n    const ksmps = libraryCsound.csoundGetKsmps(csound);\n    Atomics.store(audioStatePointer, AUDIO_STATE.KSMPS, ksmps);\n\n    const zeroDecibelFullScale = libraryCsound.csoundGet0dBFS(csound);\n\n    // Get the Worklet channels\n    const channelsOutput = [];\n    const channelsInput = [];\n\n    for (let channelIndex = 0; channelIndex < nchnls; ++channelIndex) {\n      channelsOutput.push(\n        new Float64Array(audioStreamOut, RING_BUFFER_SIZE * channelIndex, RING_BUFFER_SIZE),\n      );\n    }\n\n    for (let channelIndex = 0; channelIndex < nchnlsInput; ++channelIndex) {\n      channelsInput.push(\n        new Float64Array(audioStreamIn, RING_BUFFER_SIZE * channelIndex, RING_BUFFER_SIZE),\n      );\n    }\n\n    workerMessagePort.broadcastPlayState(\"realtimePerformanceStarted\");\n    // Let's notify the audio-worker that performance has started\n    Atomics.store(audioStatePointer, AUDIO_STATE.IS_PERFORMING, 1);\n\n    log(`Atomic.wait started (thread is now locked)\\n`)();\n\n    let firstRound = true;\n    let lastReturn = 0;\n    let currentCsoundBufferPos = 0;\n    let currentInputReadIndex = 0;\n    let currentOutputWriteIndex = 0;\n    let waitResult;\n\n    const maybeStop = (forceStop = false) => {\n      if (\n        Atomics.load(audioStatePointer, AUDIO_STATE.STOP) === 1 ||\n        Atomics.load(audioStatePointer, AUDIO_STATE.IS_PERFORMING) !== 1 ||\n        lastReturn !== 0 ||\n        forceStop\n      ) {\n        if (lastReturn === 0) {\n          log(`calling csoundStop and one performKsmps to trigger endof logs`)();\n          // Trigger \"performance ended\" logs\n          libraryCsound.csoundStop(csound);\n          libraryCsound.csoundPerformKsmps(csound);\n        }\n        log(`triggering realtimePerformanceEnded event`)();\n        workerMessagePort.broadcastPlayState(\"realtimePerformanceEnded\");\n        log(`End of realtimePerformance loop!`)();\n        releaseStop();\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    let firstPerformKsmps = true;\n\n    while (\n      !firstPerformKsmps ||\n      (waitResult = Atomics.wait(audioStatePointer, AUDIO_STATE.CSOUND_LOCK, 1, 10 * 1000))\n    ) {\n      if (waitResult === \"timed-out\") {\n        maybeStop(true);\n        return;\n      }\n\n      if (firstRound) {\n        firstRound = false;\n        await new Promise((resolve) => {\n          unlockPromise = resolve;\n          workerMessagePort.broadcastSabUnlocked();\n        });\n\n        log(`Atomic.wait unlocked, performance started`)();\n      }\n\n      if (Atomics.load(audioStatePointer, AUDIO_STATE.IS_PAUSED) === 1) {\n        await new Promise((resolve) => setTimeout(resolve, 0));\n        releasePause();\n        await new Promise((resolve) => setTimeout(resolve, 0));\n        Atomics.wait(audioStatePointer, AUDIO_STATE.IS_PAUSED, 0);\n        await new Promise((resolve) => setTimeout(resolve, 0));\n        releaseResumed();\n        await new Promise((resolve) => setTimeout(resolve, 0));\n      }\n\n      if (maybeStop()) {\n        return;\n      }\n\n      if (isRequestingRtMidiInput) {\n        const availableMidiEvents = Atomics.load(\n          audioStatePointer,\n          AUDIO_STATE.AVAIL_RTMIDI_EVENTS,\n        );\n        if (availableMidiEvents > 0) {\n          const rtmidiBufferIndex = Atomics.load(audioStatePointer, AUDIO_STATE.RTMIDI_INDEX);\n          let absIndex = rtmidiBufferIndex;\n          for (let index = 0; index < availableMidiEvents; index++) {\n            absIndex = (rtmidiBufferIndex + MIDI_BUFFER_PAYLOAD_SIZE * index) % MIDI_BUFFER_SIZE;\n            const status = Atomics.load(midiBuffer, absIndex);\n            const data1 = Atomics.load(midiBuffer, absIndex + 1);\n            const data2 = Atomics.load(midiBuffer, absIndex + 2);\n            libraryCsound[\"csoundPushMidiMessage\"](csound, status, data1, data2);\n          }\n\n          Atomics.store(\n            audioStatePointer,\n            AUDIO_STATE.RTMIDI_INDEX,\n            (absIndex + 1) % MIDI_BUFFER_SIZE,\n          );\n          Atomics.sub(audioStatePointer, AUDIO_STATE.AVAIL_RTMIDI_EVENTS, availableMidiEvents);\n        }\n      }\n\n      const bufferLength = Atomics.load(audioStatePointer, AUDIO_STATE.BUFFER_LEN);\n      const availableInputFrames = Atomics.load(audioStatePointer, AUDIO_STATE.AVAIL_IN_BUFS);\n\n      const hasInput = availableInputFrames >= bufferLength;\n      const inputBufferPtr = libraryCsound.csoundGetSpin(csound);\n      const outputBufferPtr = libraryCsound.csoundGetSpout(csound);\n\n      const csoundInputBuffer =\n        hasInput && new Float64Array(wasm.wasi.memory.buffer, inputBufferPtr, ksmps * nchnlsInput);\n\n      const csoundOutputBuffer = new Float64Array(\n        wasm.wasi.memory.buffer,\n        outputBufferPtr,\n        ksmps * nchnls,\n      );\n\n      const framesRequested = Atomics.load(audioStatePointer, AUDIO_STATE.FRAMES_REQUESTED);\n\n      for (let index = 0; index < framesRequested; index++) {\n        if (currentCsoundBufferPos === 0) {\n          if (lastReturn === 0) {\n            lastReturn = libraryCsound.csoundPerformKsmps(csound);\n            !firstPerformKsmps && Atomics.add(audioStatePointer, AUDIO_STATE.AVAIL_OUT_BUFS, ksmps);\n            firstPerformKsmps = false;\n          } else if (lastReturn !== 0) {\n            Atomics.store(audioStatePointer, AUDIO_STATE.IS_PERFORMING, 0);\n            maybeStop(true);\n            return;\n          }\n        }\n\n        channelsOutput.forEach((channel, channelIndex) => {\n          channel[currentOutputWriteIndex] =\n            (csoundOutputBuffer[currentCsoundBufferPos * nchnls + channelIndex] || 0) /\n            zeroDecibelFullScale;\n        });\n\n        if (hasInput) {\n          channelsInput.forEach((channel, channelIndex) => {\n            csoundInputBuffer[currentCsoundBufferPos * nchnlsInput + channelIndex] =\n              (channel[currentInputReadIndex] || 0) * zeroDecibelFullScale;\n          });\n\n          currentInputReadIndex = hasInput && (currentInputReadIndex + 1) % RING_BUFFER_SIZE;\n        }\n\n        currentOutputWriteIndex = (currentOutputWriteIndex + 1) % RING_BUFFER_SIZE;\n        currentCsoundBufferPos = (currentCsoundBufferPos + 1) % ksmps;\n      }\n\n      hasInput && Atomics.sub(audioStatePointer, AUDIO_STATE.AVAIL_IN_BUFS, framesRequested);\n\n      if (\n        Atomics.compareExchange(audioStatePointer, AUDIO_STATE.HAS_PENDING_CALLBACKS, 1, 0) === 1\n      ) {\n        await new Promise((resolve) => {\n          pollPromise = resolve;\n          callbacksRequest();\n        });\n      }\n\n      if (maybeStop()) {\n        return;\n      }\n\n      const readIndex = Atomics.load(audioStatePointer, AUDIO_STATE.OUTPUT_READ_INDEX);\n\n      const ioDelay =\n        currentOutputWriteIndex < readIndex\n          ? currentOutputWriteIndex + RING_BUFFER_SIZE - readIndex\n          : currentOutputWriteIndex - readIndex;\n\n      // 2048 is only an indicator of MAX latency\n      const nextFramesRequested = Math.max(2048 - ioDelay, 0);\n\n      Atomics.store(audioStatePointer, AUDIO_STATE.FRAMES_REQUESTED, nextFramesRequested);\n\n      if (nextFramesRequested === 0) {\n        await new Promise((resolve) => setTimeout(resolve, 1000 * (bufferLength / sampleRate)));\n      }\n    }\n  };\n\nconst initMessagePort = ({ port }) => {\n  const workerMessagePort = new MessagePortState();\n  workerMessagePort.post = (messageLog) => port.postMessage({ log: messageLog });\n  workerMessagePort.broadcastPlayState = (playStateChange) => {\n    const payload = {};\n    payload[\"playStateChange\"] = playStateChange;\n    port.postMessage(payload);\n  };\n  workerMessagePort.broadcastSabUnlocked = () => port.postMessage({ sabWorker: \"unlocked\" });\n  workerMessagePort.ready = true;\n  return workerMessagePort;\n};\n\nconst initCallbackReplyPort = (response) => {\n  const port = response[\"port\"];\n  port.addEventListener(\"message\", (event) => {\n    if (event.data && event.data[\"unlock\"]) {\n      const unlockPromise_ = unlockPromise;\n      unlockPromise = undefined;\n      unlockPromise_ && unlockPromise_();\n    } else {\n      const callbacks = event.data;\n      const answers = callbacks.reduce((accumulator, callerPayload) => {\n        const id = callerPayload[\"id\"];\n        const argumentz = callerPayload[\"argumentz\"];\n        const apiKey = callerPayload[\"apiKey\"];\n        try {\n          const caller = combined.get(apiKey);\n          const answer = caller && caller.apply({}, argumentz || []);\n          const answerPayload = {};\n          answerPayload[\"id\"] = id;\n          answerPayload[\"answer\"] = answer;\n          accumulator.push(answerPayload);\n        } catch (error) {\n          throw new Error(error);\n        }\n        return accumulator;\n      }, []);\n      port.postMessage(answers);\n      const pollPromise_ = pollPromise;\n      pollPromise = undefined;\n      pollPromise_ && pollPromise_(callbacks);\n    }\n  });\n  port.start();\n};\n\nconst renderFunction =\n  ({\n    libraryCsound,\n    callbacksRequest,\n    releaseStop,\n    releasePause,\n    releaseResumed,\n    wasi,\n    workerMessagePort,\n  }) =>\n  async (argumentz) => {\n    const audioStateBuffer = argumentz[\"audioStateBuffer\"];\n    const csound = argumentz[\"csound\"];\n    const audioStatePointer = new Int32Array(audioStateBuffer);\n    Atomics.store(audioStatePointer, AUDIO_STATE.IS_RENDERING, 1);\n    workerMessagePort.broadcastSabUnlocked();\n\n    while (\n      Atomics.load(audioStatePointer, AUDIO_STATE.STOP) !== 1 &&\n      libraryCsound[\"csoundPerformKsmps\"](csound) === 0\n    ) {\n      if (Atomics.load(audioStatePointer, AUDIO_STATE.IS_PAUSED) === 1) {\n        releasePause();\n        // eslint-disable-next-line no-unused-expressions\n        Atomics.wait(audioStatePointer, AUDIO_STATE.IS_PAUSED, 0);\n        releaseResumed();\n      }\n      if (\n        Atomics.compareExchange(audioStatePointer, AUDIO_STATE.HAS_PENDING_CALLBACKS, 1, 0) === 1\n      ) {\n        await new Promise((resolve) => {\n          pollPromise = resolve;\n          callbacksRequest();\n        });\n      }\n    }\n    Atomics.store(audioStatePointer, AUDIO_STATE.IS_RENDERING, 0);\n    workerMessagePort.broadcastPlayState(\"renderEnded\");\n    releaseStop();\n  };\n\n/** @export */\nconst initialize = async (payload) => {\n  const wasmDataURI = payload[\"wasmDataURI\"];\n  const withPlugins = payload[\"withPlugins\"] || [];\n  const messagePort = payload[\"messagePort\"];\n  const callbackPort = payload[\"callbackPort\"];\n\n  log(`initializing SABWorker and WASM`)();\n  const workerMessagePort = initMessagePort({ port: messagePort });\n  const callbacksRequest = () => callbackPort.postMessage(\"poll\");\n  const releaseStop = () => callbackPort.postMessage(\"releaseStop\");\n  const releasePause = () => callbackPort.postMessage(\"releasePause\");\n  const releaseResumed = () => callbackPort.postMessage(\"releaseResumed\");\n\n  initCallbackReplyPort({ port: callbackPort });\n\n  const [wasm, wasi] = await loadWasm({\n    wasmDataURI,\n    withPlugins,\n    messagePort: workerMessagePort,\n  });\n\n  wasm.wasi = wasi;\n\n  const libraryCsound = libcsoundFactory(wasm);\n\n  const startHandler = (_, arguments_) =>\n    handleCsoundStart(\n      workerMessagePort,\n      libraryCsound,\n      wasi,\n      sabCreateRealtimeAudioThread({\n        libraryCsound,\n        callbacksRequest,\n        wasm,\n        workerMessagePort,\n        releaseStop,\n        releasePause,\n        releaseResumed,\n      }),\n      renderFunction({\n        libraryCsound,\n        callbacksRequest,\n        workerMessagePort,\n        wasi,\n        releaseStop,\n        releasePause,\n        releaseResumed,\n      }),\n    )(arguments_);\n\n  const allAPI = { ...libraryCsound, csoundStart: startHandler, wasm };\n  combined = new Map(Object.entries(allAPI));\n\n  libraryCsound[\"csoundInitialize\"](0);\n  const csoundInstance = libraryCsound[\"csoundCreate\"]();\n\n  return csoundInstance;\n};\n\nexport const sabWorker = { initialize, callUncloned };\n\nComlink.expose({ initialize: sabWorker.initialize, callUncloned: sabWorker.callUncloned });\n"],
"names":["goog.global","self","goog.exportSymbol","publicPath","object","parts","split","cur","execScript","part","length","shift","undefined","Object","prototype","goog.exportProperty","publicName","symbol","e","Symbol","t","n","r","a","s","Map","canHandle","serialize","MessageChannel","o","deserialize","start","c","Error","isError","value","message","name","stack","assign","addEventListener","data","argumentList","u","path","l","map","E","slice","reduce","p","apply","m","Promise","resolve","catch","then","g","postMessage","removeEventListener","i","constructor","close","Proxy","get","h","type","toString","bind","set","applyForm","construct","constructForm","el2","Array","concat","WeakMap","fill","Math","floor","random","Number","MAX_SAFE_INTEGER","join","id","MessagePortState","ready","port","post","MessagePortState.prototype.post","broadcastPlayState","MessagePortState.prototype.broadcastPlayState","csoundCreate","wasm","exports","csoundDestroy","csound","csoundGetAPIVersion","csoundGetVersion","csoundInitialize","_","flags","decoder","TextDecoder","encoder","TextEncoder","trimNull","indexOf","substr","freeStringPtr","ptr","string2ptr","string","console","error","stringBuf","encode","offset","outBuf","Uint8Array","wasi","memory","buffer","csoundParseOrc","orc","stringPtr","resultPtr","csoundCompileTree","tree","csoundCompileOrc","result","csoundEvalCode","csoundStart","csoundCompileCSD","csd","mode","csoundPerformKsmps","csoundStop","csoundReset","CS_MIDIDEVICE","ORCTOKEN","TREE","sizeOfPrimitive","int","uint64","MYFLT","char","double","void","sizeOfStruct","jsStruct","accumulator","primitive","CSOUND_PARAMS","CS_MIDIDEVICE_SIZE","structBufferToObject","parameters","parameterName","rest","currentSize","currentValue","decode","subarray","uint","csoundGetSr","csoundSystemSr","val","csoundGetKr","csoundGetKsmps","csoundGetNchnls","csoundGetNchnlsInput","csoundGet0dBFS","csoundGetA4","csoundGetCurrentTimeSamples","csoundGetSizeOfMYFLT","csoundSetOption","option","csoundGetDebug","csoundSetDebug","debug","csoundGetSpin","csoundGetSpout","range","end","answer","index","push","csoundGetMIDIDevList","isOutput","numberOfDevices","structOffset","structBuffer","structLength","out","csoundGetRtMidiName","stringBuffer","csoundPushMidiMessage","status","data1","data2","csoundInputMessage","scoEvent","csoundInputMessageAsync","csoundGetControlChannel","channelName","csoundSetControlChannel","csoundGetStringChannel","pointerToResult","intArray","csoundSetStringChannel","stringPtr2","csoundGetOutputName","csoundGetInputName","csoundAppendEnv","variable","varStringPtr","valueStringPtr","res","csoundIsScorePending","csoundSetScorePending","pending","csoundReadScore","score","csoundGetScoreTime","csoundGetScoreOffsetSeconds","csoundSetScoreOffsetSeconds","time","csoundRewindScore","csoundTableLength","tableNumber","csoundTableLength.toString","csoundTableCopyIn","array","arrayPtr","Float64Array","csoundTableCopyIn.toString","csoundTableCopyOut","tableLength","freeableArray","clonedArray","csoundTableCopyOut.toString","csoundGetTableArgs","jsArray","writeFile","data_","writeFile$$module$src$filesystem$worker_fs","appendFile","appendFile$$module$src$filesystem$worker_fs","readFile","readFile$$module$src$filesystem$worker_fs","unlink","unlink$$module$src$filesystem$worker_fs","readdir","readdir$$module$src$filesystem$worker_fs","mkdir","mkdir$$module$src$filesystem$worker_fs","stat","stat$$module$src$filesystem$worker_fs","pathExists","pathExists$$module$src$filesystem$worker_fs","chdir","chdir$$module$src$filesystem$worker_fs","getcwd","cwd","getcwd$$module$src$filesystem$worker_fs","fs","api","csoundGetChannels","isInput","csoundSetMidiCallbacks","csoundGetMidiOutFileName","_isRequestingRtMidiInput","csoundShouldDaemonize","csoundGetTable","apiFs","apiRest","keys","k","goog.globalBigInt","BigInt","RIGHTS_REGULAR_FILE_BASE","WASI_RIGHT_FD_DATASYNC","WASI_RIGHT_FD_READ","WASI_RIGHT_FD_SEEK","WASI_RIGHT_FD_FDSTAT_SET_FLAGS","WASI_RIGHT_FD_SYNC","WASI_RIGHT_FD_TELL","WASI_RIGHT_FD_WRITE","WASI_RIGHT_FD_ADVISE","WASI_RIGHT_FD_ALLOCATE","WASI_RIGHT_FD_FILESTAT_GET","WASI_RIGHT_FD_FILESTAT_SET_SIZE","WASI_RIGHT_FD_FILESTAT_SET_TIMES","WASI_RIGHT_POLL_FD_READWRITE","RIGHTS_REGULAR_FILE_INHERITING","goog.string.path.join","var_args","arguments","arg","lastIndexOf","prefix","str","suffix","splitPathSegments","filter","segment","normalizeAbsolutePath","resolved","segments","forEach","pop","ensureAbsolutePath","basePath","test","baseSegments","relativeSegments","resolvedSegments","performanceNowPoly","performance","now","Date","nowOffset","concatUint8Arrays","arrays","totalLength","WASI","preopens","fd","from","seekPos","buffers","getMemory","CPUTIME_START","WASI.prototype.start","instance","WASI.prototype.getImports","module","options","neededImports","WebAssembly","Module","imports","neededImport","startsWith","WASI.prototype.getMemory","view","byteLength","DataView","WASI.prototype.findEntry","filePath","normalized","entries","values","entry","WASI.prototype.chdir","targetPath","WASI_ESUCCESS","findEntry","WASI_ENOENT","WASI_ENOTDIR","WASI.prototype.msToNs","ms","msInt","trunc","decimal","round","WASI.prototype.now","clockId","WASI_CLOCK_MONOTONIC","WASI_CLOCK_REALTIME","msToNs","WASI_CLOCK_PROCESS_CPUTIME_ID","WASI_CLOCK_THREAD_CPUTIME_ID","args_get","WASI.prototype.args_get","args_sizes_get","WASI.prototype.args_sizes_get","clock_res_get","WASI.prototype.clock_res_get","clock_time_get","WASI.prototype.clock_time_get","precision","setBigUint64","nextTime","environ_get","WASI.prototype.environ_get","environ_sizes_get","WASI.prototype.environ_sizes_get","fd_advise","WASI.prototype.fd_advise","WASI_ENOSYS","fd_allocate","WASI.prototype.fd_allocate","fd_close","WASI.prototype.fd_close","fd_datasync","WASI.prototype.fd_datasync","fd_fdstat_get","WASI.prototype.fd_fdstat_get","bufPtr","setUint8","WASI_FILETYPE_REGULAR_FILE","setUint16","fd_fdstat_set_flags","WASI.prototype.fd_fdstat_set_flags","fd_fdstat_set_rights","WASI.prototype.fd_fdstat_set_rights","fd_filestat_get","WASI.prototype.fd_filestat_get","filesize","uintArray","fd_filestat_set_size","WASI.prototype.fd_filestat_set_size","fd_filestat_set_times","WASI.prototype.fd_filestat_set_times","fd_pread","WASI.prototype.fd_pread","fd_prestat_dir_name","WASI.prototype.fd_prestat_dir_name","pathPtr","WASI_EBADF","directoryName","directoryNameBuffer","fd_prestat_get","WASI.prototype.fd_prestat_get","WASI_PREOPENTYPE_DIR","setUint32","fd_pwrite","WASI.prototype.fd_pwrite","iovs","iovsLength","nwritten","log","fd_read","WASI.prototype.fd_read","nread","isArray","totalBuffersLength","b","read","thisRead","reduced","buf","getUint32","bufLength","currentRead","chunkIndex","chunkOffset","currentChunkOffset","currentChunkIndex","found","leadup","currentBufferChunkLength","fd_readdir","WASI.prototype.fd_readdir","fd_renumber","WASI.prototype.fd_renumber","fd_seek","WASI.prototype.fd_seek","whence","newOffsetPtr","WASI_WHENCE_CUR","WASI_WHENCE_END","currentLength","WASI_WHENCE_SET","fd_sync","WASI.prototype.fd_sync","fd_tell","WASI.prototype.fd_tell","offsetPtr","fd_write","WASI.prototype.fd_write","append","written","chunk","unshift","includes","path_create_directory","WASI.prototype.path_create_directory","path_filestat_get","WASI.prototype.path_filestat_get","path_filestat_set_times","WASI.prototype.path_filestat_set_times","path_link","WASI.prototype.path_link","path_open","WASI.prototype.path_open","dirfd","dirflags","pathLength","oflags","fsRightsBase","fsRightsInheriting","fsFlags","directoryPath","pathOpenBytes","pathOpenString","pathOpen","resolvePath","joined","wantsDirectory","WASI_O_DIRECTORY","allowCreate","WASI_O_CREAT","existingEntry","WASI_EISDIR","actualFd","entryTemplate","WASI_O_TRUNC","path_readlink","WASI.prototype.path_readlink","path_remove_directory","WASI.prototype.path_remove_directory","path_rename","WASI.prototype.path_rename","path_symlink","WASI.prototype.path_symlink","path_unlink_file","WASI.prototype.path_unlink_file","poll_oneoff","WASI.prototype.poll_oneoff","proc_exit","WASI.prototype.proc_exit","proc_raise","WASI.prototype.proc_raise","random_get","WASI.prototype.random_get","sched_yield","WASI.prototype.sched_yield","sock_recv","WASI.prototype.sock_recv","sock_send","WASI.prototype.sock_send","sock_shutdown","WASI.prototype.sock_shutdown","WASI.prototype.findBuffers","maybeFd","find","WASI.prototype","WASI.prototype.readdir","dirname","absoluteDir","prefixPath","files","replace","WASI.prototype.writeFile","fname","nextFd","maybeOldFd","WASI.prototype.appendFile","findBuffers","WASI.prototype.readFile","WASI.prototype.unlink","WASI.prototype.mkdir","cleanPath","warn","WASI.prototype.stat","size","isDirectory","dev","ino","nlink","uid","gid","rdev","blksize","blocks","ceil","atimeMs","mtimeMs","ctimeMs","birthtimeMs","atime","mtime","ctime","birthtime","isFile","isBlockDevice","isCharacterDevice","isSymbolicLink","isFIFO","isSocket","WASI.prototype.pathExists","clearArray","logSABWorker","logCommonUtils","logWasmModule","Huffman","lengths","listSize","maxCodeLength","minCodeLength","POSITIVE_INFINITY","bitLength","code","skip","reversed","index_","table","Uint32Array","rtemp","RawInflate","input","opt_parameters","bufferSize","ZLIB_RAW_INFLATE_BUFFER_SIZE","bitsbuflen","bitsbuf","ip","totalpos","bfinal","bufferType","RawInflate$$module$src$zlib$rawinflate.BufferType.ADAPTIVE","resize","RawInflate$$module$src$zlib$rawinflate.BufferType.BLOCK","op","RawInflate$$module$src$zlib$rawinflate.MaxBackwardLength","output","RawInflate$$module$src$zlib$rawinflate.MaxCopyLength","BLOCK","ADAPTIVE","RawInflate$$module$src$zlib$rawinflate.Order","Uint16Array","RawInflate$$module$src$zlib$rawinflate.LengthCodeTable","RawInflate$$module$src$zlib$rawinflate.LengthExtraTable","RawInflate$$module$src$zlib$rawinflate.DistCodeTable","RawInflate$$module$src$zlib$rawinflate.DistExtraTable","il","RawInflate.prototype.readBits","RawInflate.prototype.readCodeByTable","inputLength","codeTable","codeWithLength","codeLength","RawInflate.prototype.decodeHuffmanBlock","litlen","dist","currentLitlenTable","olength","codeDist","readCodeByTable","expandBufferBlock","ti","readBits","RawInflate.prototype.decodeHuffmanAdaptive","expandBufferAdaptive","RawInflate.prototype.expandBufferBlock","backward","RawInflate.prototype.expandBufferAdaptive","opt_parameter","ratio","fixRatio","addRatio","maxHuffCode","maxInflateSize","newSize","Inflate","verify","cmf","flg","DEFLATE","method","rawinflate","Inflate.prototype.decompress","repeat","previous","parseBlock","hdr","parseUncompressedBlock","length_","nlen","preCopy","parseFixedHuffmanBlock","decodeHuffmanAdaptive","decodeHuffmanBlock","hlit","parseDynamicHuffmanBlock","hdist","hclen","codeLengths","RawInflate$$module$src$zlib$rawinflate.Orderlength","codeLengthsTable","lengthTable","litlenTable","distTable","pos","concatBufferBlock","jl","block","concatBufferDynamic","adler32","temporary","charPointAt","s1","s2","tlen","Adler32$$module$src$zlib$adler32.OptimizationParameter","csoundWasiJsMessageCallback","messagePort","streamBuffer","csound_","attribute","endsWithNewline","startsWithNewline","chunks","item","printableChunks","maybePrintable","assertPluginExports","pluginInstance","getBinaryHeaderData","wasmBytes","getLEB","returnValue","mul","byte","next","magicBytes","sectionSize","memorySize","memoryAlign","tableSize","tableAlign","neededDynlibsCount","loadStaticWasm","compile","Memory","initial","getImports","env","csoundLoadModules","options.env.csoundLoadModules","instantiate","__wasi_js_csoundSetMessageStringCallback","wasmDataURI","withPlugins","wasmFs","wasmCompressed","decompress","wasmZlib","magicData","wasmPlugin","accumulator_","wasmPluginBytes","pluginHeaderData","headerData","initialMemory","PAGE_SIZE","pluginsMemory","totalInitialMemory","fixedMemoryBase","maximum","Table","element","stackPointer","Global","mutable","heapBase","memoryBase","tableBase","__dummy","withPlugins_","currentMemorySegment","csoundInstance","csoundModuleCreate","csoundModuleInit","csoundModuleDestroy","csoundModuleErrorCodeToString","tableEnd","grow","hostInstance","csoundOpcodeInit","csoundFgenInit","moduleExports","instance_","pluginMemorySize","pluginMemoryAlign","pluginTableSize","plugin","pluginOptions","pluginMemoryBase","__wasm_call_ctors","handleCsoundStart","workerMessagePort","libraryCsound","createRealtimeAudioThread","renderFunction","arguments_","shouldDemonize","startError","outputName","setTimeout","isRequestingRtMidiInput","initialSharedState","DEFAULT_BUFFER_LEN","combined","pollPromise","unlockPromise","sabCreateRealtimeAudioThread","callbacksRequest","releaseStop","releasePause","releaseResumed","argumentz","audioStreamIn","audioStreamOut","midiBuffer","audioStatePointer","Int32Array","audioStateBuffer","Atomics","store","isExpectingInput","load","NCHNLS_I","userProvidedNchnls","NCHNLS","userProvidedNchnlsIn","userProvidedSr","SAMPLE_RATE","nchnls","nchnlsInput","sampleRate","IS_REQUESTING_MIC","IS_REQUESTING_RTMIDI","ksmps","KSMPS","zeroDecibelFullScale","channelsOutput","channelsInput","channelIndex","RING_BUFFER_SIZE","IS_PERFORMING","firstRound","lastReturn","currentCsoundBufferPos","currentInputReadIndex","currentOutputWriteIndex","waitResult","maybeStop","forceStop","STOP","firstPerformKsmps","wait","CSOUND_LOCK","broadcastSabUnlocked","IS_PAUSED","availableMidiEvents","AVAIL_RTMIDI_EVENTS","rtmidiBufferIndex","RTMIDI_INDEX","absIndex","MIDI_BUFFER_PAYLOAD_SIZE","MIDI_BUFFER_SIZE","sub","bufferLength","BUFFER_LEN","hasInput","availableInputFrames","AVAIL_IN_BUFS","inputBufferPtr","outputBufferPtr","csoundInputBuffer","csoundOutputBuffer","framesRequested","FRAMES_REQUESTED","add","AVAIL_OUT_BUFS","channel","compareExchange","HAS_PENDING_CALLBACKS","readIndex","OUTPUT_READ_INDEX","nextFramesRequested","max","ioDelay","initMessagePort","messageLog","workerMessagePort.post","playStateChange","workerMessagePort.broadcastPlayState","payload","workerMessagePort.broadcastSabUnlocked","sabWorker","initCallbackReplyPort","response","event","unlockPromise_","callbacks","answers","callerPayload","apiKey","caller","answerPayload","pollPromise_","IS_RENDERING","initialize","callbackPort","loadWasm","libcsoundFactory","allAPI","startHandler","initialize$$module$src$workers$sab_worker","expose","callUncloned"]
}
